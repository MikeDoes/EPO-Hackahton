<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP17838845B1" file="EP17838845NWB1.xml" lang="en" country="EP" doc-number="3493473" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3493473</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>17838845.0</B210><B220><date>20170814</date></B220><B240><B241><date>20190227</date></B241><B242><date>20200203</date></B242></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>201610670144</B310><B320><date>20160812</date></B320><B330><ctry>CN</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20190605</date><bnum>201923</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210412</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04L  12/24        20060101AFI20190402BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04L  12/26        20060101ALI20190402BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04L  12/803       20130101ALI20190402BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>H04L  12/851       20130101ALI20190402BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04L  43/0882      20130101 LA20190604BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04L  41/0813      20130101 LA20190321BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>H04W  28/0268      20130101 LA20190424BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04L  41/5003      20130101 FI20190530BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04L  43/026       20130101 LA20190321BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN UND SYSTEM ZUR VERWALTUNG DER DIENSTQUALITÄT EINES DRAHTLOSKOMMUNIKATIONSSYSTEMS</B542><B541>en</B541><B542>WIRELESS COMMUNICATION SYSTEM QUALITY OF SERVICE MANAGEMENT METHOD AND SYSTEM</B542><B541>fr</B541><B542>PROCÉDÉ ET SYSTÈME DE GESTION DE QUALITÉ DE SERVICE DE SYSTÈME DE COMMUNICATION SANS FIL</B542></B540><B560><B561><text>EP-A1- 2 672 752</text></B561><B561><text>EP-A1- 3 017 627</text></B561><B561><text>WO-A1-2013/112084</text></B561><B561><text>CN-A- 101 132 613</text></B561><B561><text>CN-A- 101 132 613</text></B561><B561><text>CN-A- 101 998 304</text></B561><B561><text>CN-A- 102 625 377</text></B561><B561><text>US-A1- 2008 279 139</text></B561><B561><text>US-A1- 2008 279 139</text></B561><B561><text>US-A1- 2011 235 514</text></B561><B565EP><date>20190408</date></B565EP></B560></B500><B700><B720><B721><snm>LI, Hong</snm><adr><str>Huawei Administration Building
Bantian
Longgang District</str><city>Shenzhen
Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>JIN, Yinghao</snm><adr><str>Huawei Administration Building
Bantian
Longgang District</str><city>Shenzhen
Guangdong 518129</city><ctry>CN</ctry></adr></B721></B720><B730><B731><snm>Huawei Technologies Co., Ltd.</snm><iid>100970540</iid><irf>P53639/EP</irf><adr><str>Huawei Administration Building 
Bantian</str><city>Longgang District
Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B731></B730><B740><B741><snm>Körber, Martin Hans</snm><iid>101424958</iid><adr><str>Mitscherlich PartmbB 
Patent- und Rechtsanwälte 
Sonnenstrasse 33</str><city>80331 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B860><B861><dnum><anum>CN2017097410</anum></dnum><date>20170814</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2018028715</pnum></dnum><date>20180215</date><bnum>201807</bnum></B871></B870></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001"><b>TECHNICAL FIELD</b></heading>
<p id="p0001" num="0001">This application relates to the field of wireless network communication, and in particular, to a method and system for managing quality of service in a wireless communications system.</p>
<heading id="h0002"><b>BACKGROUND</b></heading>
<p id="p0002" num="0002">Quality of service (quality of service, QoS for short) management in an existing LTE system implements an end-to-end QoS guarantee based on a bearer. A bearer is a logical set of one or more service data flows between a user equipment (user equipment, UE for short) and a packet data network gateway (packet data network gateway, P-GW for short). Same packet forwarding processing (e.g., a scheduling policy, a queue management policy, a rate adjustment policy, or an RLC configuration) is performed on service data flows mapped to a same bearer of an evolved packet system (evolved packet system, EPS for short). In the LTE system, a QoS guarantee from the P-GW to the UE may be implemented through several sections of a bearer, including an S5/S8 bearer between the P-GW and a serving gateway (serving gateway, S-GW for short), an S1 bearer between the S-GW and an evolved NodeB (evolved NodeB, eNB for short), and a radio bearer between the eNB and the UE. The S5/S8 bearer, the S1 bearer, and the radio bearer are collectively referred to as an EPS bearer. An attribute of the EPS bearer is provided by the P-GW. An attribute of a bearer corresponds to one set of QoS processing manner. Data in a same bearer uses a same data packet forwarding manner. In a downlink direction, the P-GW filters a service data flow by using a service flow template, and maps the service data flow onto an EPS bearer. On the S5/S8 bearer, the S1 bearer, and the radio bearer, a QoS requirement of a service is ensured by using the attribute of the EPS bearer. The existing LTE system performs QoS control of data transmission based on a granularity of a bearer. A plurality of Internet Protocol (Internet Protocol, IP for short) flows are mapped to one EPS bearer. The EPS bearer is a minimum unit of the QoS control. To be specific, QoS differentiation is not performed on data flows in a same EPS bearer. The radio bearer, the S1 bearer, and the S5/S8 bearer between the UE and the P-GW use a 1:1 mapping manner.</p>
<p id="p0003" num="0003">With rapid development of wireless communications technologies, services are more<!-- EPO <DP n="2"> --> diversified and include a mobile broadband service supporting higher-rate experience and larger bandwidths, special communication of lower latency and high reliability, and low-cost massive machine type communication, and the like. Services of different types have more diversified QoS requirements. A method for managing QoS in the existing LTE system can hardly satisfy QoS requirements of diversified services.</p>
<p id="p0004" num="0004">Document <patcit id="pcit0001" dnum="CN101132613A"><text>CN 101132613A</text></patcit> discloses a method for establishing and mapping QoS bearers in wireless communications. Specifically, the method discloses that the UE signals a mapping relationship between Traffic Class Indexes (TCI) and Access Bearers (AB) to the eNB, then the eNB establishes Radio Bearers (RB) according to the mapping relationship and the eNB finally maps data flows of the AB to the corresponding RB.</p>
<heading id="h0003"><b>SUMMARY</b></heading>
<p id="p0005" num="0005">The present invention provides a method for managing QoS in a wireless communications system according to independent claims 1 and 4, a radio access network device according to independent claims 7 and 10, and a computer readable storage medium according to independent claim 13, and the method and device support independent evolution of respective QoS frameworks of a core network and a radio access network and implementation of flexible QoS management. Additional features of the invention are provided in the dependent claims. In the following, embodiments which are not covered by the claims does not fall under the invention, but are present as examples useful for understanding the invention.<!-- EPO <DP n="3"> --></p>
<heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading>
<p id="p0006" num="0006">To describe the technical solutions in the embodiments of the present invention more clearly, the following briefly describes the accompanying drawings required for describing the embodiments or the prior art. Apparently, the accompanying drawings in the following description show merely some embodiments of the present invention, and a person of ordinary skill in the art may still derive other drawings from these accompanying drawings without creative efforts.
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001">FIG. 1</figref> is a schematic diagram of a wireless communications system as an application scenario of the present invention;</li>
<li><figref idref="f0001">FIG. 2</figref> is a schematic diagram of an architecture for managing and implementing QoS in a wireless communications system where embodiments of the invention is applied;</li>
<li><figref idref="f0002">FIG. 3</figref> is a schematic diagram of another architecture for managing and implementing QoS in a wireless communications system where embodiments of the invention is applied;</li>
<li><figref idref="f0003">FIG. 4</figref> is a schematic flowchart of a method for managing QoS of downlink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0004">FIG. 5</figref> is a schematic flowchart of a method for managing QoS of downlink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0005">FIG. 6</figref> is a schematic flowchart of a method for managing QoS of downlink transmission in a wireless communications system according to an embodiment of the present invention;</li>
<li><figref idref="f0006">FIG. 7</figref> is a schematic flowchart of a method for managing QoS of downlink transmission<!-- EPO <DP n="4"> --> in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0007">FIG. 8</figref> is a schematic flowchart of a method for managing QoS of downlink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0008">FIG. 9</figref> is a schematic flowchart of a method for managing QoS of uplink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0009">FIG. 10</figref> is a schematic flowchart of a method for managing QoS of uplink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0010">FIG. 11</figref> is a schematic flowchart of a method for managing QoS of uplink transmission in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0011">FIG. 12</figref> is a schematic flowchart of a method for transmitting data in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0012">FIG. 13</figref> is a schematic flowchart of a method for transmitting data in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0013">FIG. 14</figref> is a schematic flowchart of a method for transmitting data in a wireless communications system as an example not part of the invention;</li>
<li><figref idref="f0014">FIG. 15</figref> is a schematic structural diagram of UE as an example not part of the invention;</li>
<li><figref idref="f0014">FIG. 16</figref> is a schematic structural diagram of UE as an example not part of the invention;</li>
<li><figref idref="f0015">FIG. 17</figref> is a schematic structural diagram of a RAN device according to an embodiment of the present invention;</li>
<li><figref idref="f0015">FIG. 18</figref> is a schematic structural diagram of a RAN device according to an embodiment of the present invention;</li>
<li><figref idref="f0016">FIG. 19</figref> is a schematic structural diagram of a CN device as an example not part of the invention; and</li>
<li><figref idref="f0016">FIG. 20</figref> is a schematic structural diagram of a CN device as an example not part of the invention.</li>
</ul></p>
<heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading>
<p id="p0007" num="0007">The following clearly describes the technical solutions in the embodiments of the present invention with reference to the accompanying drawings in the embodiments of the present invention. Apparently, the described embodiments are merely some but not all of the embodiments of the present invention. The following several specific embodiments may be combined with each other, and a same or similar concept or process may not be described repeatedly in some embodiments. All other embodiments obtained by a person of ordinary skill in the art based on the embodiments of the present<!-- EPO <DP n="5"> --> invention without creative efforts shall fall within the protection scope of the present invention.</p>
<p id="p0008" num="0008">In this application, the word "exemplary" is used to represent giving an example, an illustration, or a description. Any embodiment described as "exemplary" in this application should not be explained as being more preferred or having more advantages than another embodiment. The following descriptions are presented to enable any person skilled in the art to implement and use the present invention. In the following description, details are listed for the purpose of explanation. It should be understood that a person of ordinary skill in the art can realize that the present invention can also be implemented when these specific details are not used. In other examples, commonly known structures and processes are not described in detail, to prevent unnecessary details from making descriptions of the present invention obscure. Therefore, the present invention is not limited to the embodiments shown, but is to be accorded the widest scope consistent with the principles and features disclosed in this application.</p>
<p id="p0009" num="0009">In the specification, claims, and accompanying drawings of the present invention, the terms "first", "second", "third", "fourth", and so on (if existent) are intended to distinguish between similar objects but do not necessarily indicate a specific order or sequence. It should be understood that the data termed in such a way are interchangeable in proper circumstances so that the embodiments of the present invention described herein can be implemented in orders except the order illustrated or described herein. Moreover, the terms "include", "contain" and any other variants mean to cover the non-exclusive inclusion, for example, a process, method, system, product, or device that includes a list of steps or units is not necessarily limited to those units, but may include other units not expressly listed or inherent to such a process, method, system, product, or device.</p>
<p id="p0010" num="0010">The terms "system" and "network" may be used interchangeably in this specification. The term "and/or" in this specification describes only an association relationship for describing associated objects and represents that three relationships may exist. For example, A and/or B may represent the following three cases: Only A exists, both A and B exist, and only B exists. In addition, the character "/" in this specification generally indicates an "or" relationship between the associated objects.</p>
<p id="p0011" num="0011">A QoS management function, policy, and rule of an existing LTE network are all generated in a core network and are delivered to related network elements of the core network and a radio access network for enforcement. In the <nplcit id="ncit0001" npl-type="s"><text>3GPP technical report TR23.799 version v0.5 that is approved in June, 2016</text></nplcit>, a requirement that respective QoS frameworks of a core network and a radio access network need independent evolution is set down for a QoS framework of a 5G network. A QoS management mechanism of the LTE system cannot satisfy the requirement of independent evolution of the respective QoS frameworks of the core network and the radio access network. In addition, an LTE system uses QoS management that is based on an end-to-end bearer, which is difficult to satisfy<!-- EPO <DP n="6"> --> the requirement of independent evolution of the respective QoS frameworks of the core network and the access network. Resources of the core network and the access network are different. The core network and the access network should be capable of implementing respective flexible QoS management functions by using different QoS control methods based on respective resource usage.</p>
<p id="p0012" num="0012">Specific embodiments are used below to describe in detail the technical solutions of the present invention. The following several specific embodiments may be combined with each other, and a same or similar concept or process may not be described repeatedly in some embodiments.</p>
<p id="p0013" num="0013">A method and an apparatus for managing QoS in a wireless communications system that are provided in the embodiments of the present invention are applicable to QoS management for different services of different UEs in the wireless communications system.</p>
<p id="p0014" num="0014"><figref idref="f0001">FIG. 1</figref> is a schematic diagram of a wireless communications system as an application scenario of the present invention. The wireless communications system includes UE, a radio access network (radio access network, RAN for short) device, and a core network (core network, CN for short) device. The RAN device may be a next-generation node B (next-generation NodeB, gNB for short), a transmission reception point (transmission and reception point, TRP for short), a central unit (central unit, CU for short) device, a distributed unit (distributed unit, DU for short) device, or the like. The CN device may be a gateway, a router, a data center, a server, a network management device, or the like. The UE implements a communication service of a service flow through the RAN device and the CN device. Data transmission between the UE and the RAN device and data transmission between the RAN device and the CN device may be performed in a bearer form. A difference from 1:1 bearer mapping between network devices in an existing LTE system lies in that, different devices may implement different mapping relationships between service flows and bearers. Therefore, a same service flow may have different bearers between different network devices. <figref idref="f0001">FIG. 1</figref> shows that transmission between the UE and the RAN device and transmission between the RAN device and the CN device may have different bearers. A specific implementation is described in detail in subsequent embodiments.</p>
<p id="p0015" num="0015"><figref idref="f0001">FIG. 2</figref> is a schematic diagram of an architecture for managing and implementing QoS in a wireless communications system where embodiments of the invention is applied. A left side of <figref idref="f0001">FIG. 2</figref> corresponds to a QoS management function and connections in a control plane, and a right side of <figref idref="f0001">FIG. 2</figref> corresponds to a QoS enforcement function and operations in a user plane. The QoS management function may include a core network QoS control function and a first QoS parameter configuration function that are located in a CN, a second QoS parameter configuration function located in a RAN, and an uplink QoS parameter configuration function located in a UE. The QoS control function may include one or more of the following: a QoS profile obtaining function, a QoS<!-- EPO <DP n="7"> --> rule creation function, a QoS rule distribution function, a QoS parameter configuration function, and the like. A QoS profile may include one or more of the following: information such as a service type, a service characteristic, a user service level, and the like. The QoS rule may be an information set generated according to a policy of an operator, an application requirement, and QoS profile information, and is used for detecting a service flow, defining a QoS parameter related to the service flow, and determining a transmission manner of the service flow. The service flow may be an IP flow and/or an IP data packet. The transmission manner of the service flow may include transmission in a service flow manner or transmission in a bearer manner. In the transmission in a service flow manner, a data packet of a service flow is transmitted according to an IP transmission protocol. In the transmission in a bearer manner, one or more service flows are mapped to one bearer for transmission. One bearer may be implemented in a data tunnel manner. For example, a GPRS Tunneling Protocol (GPRS tunneling protocol, GTP for short) based logical data transmission channel, or the like may be established between a source node and a destination node of data transmission. Differentiation of QoS control is not performed on all service flows in one bearer. The service flows have a same data packet forwarding processing manner, and data transmission is performed according to a transmission protocol corresponding to a transmission channel. The QoS parameter configuration function includes a service flow QoS parameter configuration function, a bearer QoS parameter configuration function, and the like, and is used for configuring a QoS parameter for a service flow or a bearer.</p>
<p id="p0016" num="0016">In the control plane, a function of the QoS control function in the core network is to provide a control function for end-to-end QoS management in a system. The QoS enforcement function in the user plane may include a CN user plane network function, a RAN user plane network function, and a UE user plane network function. The CN user plane network function may include functions of a data gateway, a routing and forwarding node, and the like. The RAN user plane network function may include functions of a base station, a TRP, and the like. The UE user plane network function may include a function of receiving and transmitting data of the UE, and the like.</p>
<p id="p0017" num="0017">In the control plane, the QoS control function in the core network obtains a QoS profile (QoS Profile) of a service and/or the UE from a home subscriber server (home subscriber server, HSS for short), to generate a corresponding QoS rule. Transmission in a service flow manner can achieve a finer QoS control and differentiation granularity, but causes relatively high signaling overheads. One bearer is a mapping of one or more service flows, and performing transmission in a bearer manner can reduce signaling overheads. The more service flows are mapped to one bearer, the less bearers need to be established by a network, and corresponding signaling overheads are lower. However, QoS differentiation is not performed on data flows in a same bearer. Therefore, a QoS control and differentiation granularity of a bearer-based transmission manner is relatively large. In addition, the<!-- EPO <DP n="8"> --> QoS rule further includes QoS requirement information of a service flow, a manner of mapping a service flow to a bearer, and the like. The CN QoS control function delivers the QoS rule to each QoS enforcement function in the user plane, and each QoS enforcement function in the user plane performs data transmission according to the corresponding QoS rule. In addition, the CN QoS control function delivers the QoS rule to the first QoS parameter configuration function in the CN, the second QoS parameter configuration function in the RAN, and the uplink QoS parameter configuration function in the UE, for determining parameter configurations of service flows and/bearers in uplink and/or downlink directions of the CN, the RAN, and the UE, thereby ensuring QoS of uplink and downlink data transmission.</p>
<p id="p0018" num="0018">In the user plane, each network function in the user plane determines a corresponding service flow transmission manner and mapping manner, and the like according to the QoS rule received from a QoS controller, and obtains a parameter configuration from the corresponding QoS parameter configuration function, to ensure QoS of data transmission. The CN user plane network function and the UE user plane network function may perform an operation of flow mapping. The flow mapping is mapping one or more service flows having same or similar QoS to one bearer. Each bearer corresponds to one set of QoS parameters. The QoS parameters may include a QoS class identifier (QoS class identifier, QCI for short), a maximum bit rate (maximum bit rate, MBR for short), an allocation and retention priority (allocation and retention priority, ARP for short), and the like of a service, and are used for identifying a manner of processing data on a bearer in a network. Data on a same bearer uses a same data forwarding processing manner. The CN user plane network function and the UE user plane network function may map a plurality of service flows having different QoS to a plurality of bearers. The CN user plane network function, the RAN user plane network function, and the UE user plane network function may perform an operation of flow demapping. The flow demapping is a reverse process of the flow mapping. That is, the flow demapping is performed on data on a bearer, so that the data on the bearer is restored into different service flows. The CN user plane network function and the RAN user plane network function may further perform an operation of flow remapping. When the flow demapping exists, the flow remapping is remapping a service flow obtained through the flow demapping to a bearer. For example, the flow mapping is mapping a plurality of service flows to a first bearer. Correspondingly, the flow demapping is demapping the first bearer, and restoring the first bearer into the plurality of service flows. Correspondingly, the flow remapping is further mapping the plurality of restored service flows to a second bearer. In an example, the second bearer may be different from the first bearer. In other examples, the second bearer may include one or more bearers, and the one or more bearers may be different from the first bearer. When the flow demapping does not exist, the flow remapping is equivalent to the flow mapping. For<!-- EPO <DP n="9"> --> example, the flow mapping is mapping a plurality of service flows to the first bearer. Correspondingly, the flow remapping is equivalent to transmitting the first bearer. It should be noted that processes of the flow mapping, the flow demapping, and the flow remapping are all optional operations. Each user plane network function determines, according to the obtained QoS rule, whether to perform a corresponding operation.</p>
<p id="p0019" num="0019"><figref idref="f0002">FIG. 3</figref> is a schematic diagram of another architecture for managing and implementing QoS in a wireless communications system where embodiments of the invention is applied. As compared with <figref idref="f0001">FIG. 1</figref>, a RAN has an independent QoS control function in a control plane. A RAN user plane network function receives a QoS rule delivered by the RAN QoS control function for data transmission, and a second QoS parameter configuration function obtains the QoS rule from the RAN QoS control function. In this architecture, a CN makes a clear and unified QoS requirement according to an application requirement, and a RAN QoS control function and a CN QoS control function cooperate to fulfill a QoS guarantee of a service. However, when the QoS requirement is satisfied, the RAN and the CN may implement independent control on a service flow transmission manner and a bearer manner in different management and implementation manners according to a policy of an operator and respective network statuses and resource usage. For example, in some implementations, the CN may map a service flow to a bearer by using a template of an IP 7-tuple (a source IP address, a destination IP address, a protocol number, a source port, a destination port, a type of service, and an interface index) of the service flow according to a QoS rule of the core network. The RAN may map a service flow to a bearer by using a template of an IP 5-tuple (a source IP address, a destination IP address, a protocol number, a source port, and a destination port) of the service flow according to the QoS rule of the radio access network. In this case, bearers to which a same service flow is mapped in the CN and in the RAN may be different. In some other implementations, the CN may map a plurality of service flows having similar service attributes and QoS requirements to one bearer according to the QoS rule of the core network. The bearer has one QoS attribute. The RAN may map the plurality of service flows to two different bearers according to the QoS rule of the radio access network. The two bearers have respective QoS attributes. In this case, a network may provide different QoS guarantees for service flows of different bearers. In addition, an operator may perform network pre-configuration according to a policy. The CN QoS control function or the RAN QoS control function delivers the QoS rule to an uplink QoS parameter configuration function of UE, to determine parameter configurations of service flows and/or bearers in an uplink direction of the UE.</p>
<p id="p0020" num="0020">In particular, when it is ensured that the RAN satisfies QoS of a service flow, the RAN may flexibly implement mapping of the service flow to a bearer based on a QoS parameter of the service flow and an RRM policy of the RAN. For example, a plurality of service flows having same<!-- EPO <DP n="10"> --> QoS are mapped to one bearer. There may be a plurality of manners of mapping a service flow to a bearer. For example, a first manner is a 1:1 mapping of a service flow to a bearer. The first manner has a relationship similar to that between an EPS bearer and a radio bearer in LTE. ARAN node needs to establish a dedicated radio bearer for a service flow based on a QoS parameter of the service flow received from the CN. In this case, an RRC configuration of a radio bearer including PDCP/RLC/LCH is for each service flow. A second manner is an n:1 mapping of a service flow to a bearer, where n is an integer greater than 1. In the second manner, service flows having same or similar QoS may be aggregated on one radio bearer. The radio bearer provides a same data forwarding processing manner for the service flows on the bearer. In this case, a RRC configuration of PDCP/RLC/LCH is for each radio bearer. For example, all service flows with non-guaranteed bit rates in one session may be mapped to one common radio bearer, to avoid high costs for dedicated bearer management. This may be performed in particular to a service whose life cycle is very short and whose QoS may be indicated by a user plane label in an encapsulation header. If service flows having similar QoS are mapped to one radio bearer, different service flows in one radio bearer need to be differentiated, to implement QoS management with a finer granularity. For example, differentiation of all service flows with non-guaranteed bit rates in one common radio bearer is required for implementing QoS management with a finer granularity in the RAN. A third manner is a 1:n mapping of a service flow to a bearer, where n is an integer greater than 1. In the third manner, for example, different data packets of one IP flow may have different QoS requirements based on a content type. For QoS differentiation in one service flow, one service flow may be mapped to a plurality of radio bearers.</p>
<p id="p0021" num="0021">As compared with <figref idref="f0001">FIG. 2</figref>, the RAN in this architecture has a QoS management function of the RAN, and independently manages and controls data transmission of a user plane of the RAN, so as to improve flexibility of QoS management for a service in a wireless communications network, and provide a possibility of independent evolution of respective QoS frameworks of the CN and the RAN.</p>
<p id="p0022" num="0022"><figref idref="f0003">FIG. 4</figref> is a schematic flowchart of an embodiment of a method for managing QoS of downlink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0003">FIG. 4</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, a downlink service flow is transmitted from a PDN network to a UE. On one hand, when a QoS control function exists only in a CN, a CN user plane network function and a RAN user plane network function implement, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner in the CN, between the CN and a RAN, in the RAN, and between the RAN and the UE. On the other hand, when QoS control<!-- EPO <DP n="11"> --> functions exist in the CN and the RAN, the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, and the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, respectively, that a service flow is transmitted in a bearer manner in the CN, between the CN and the RAN, in the RAN, and between the RAN and the UE. In addition, the CN user plane network function performs parameter configuration on a bearer in the CN and a bearer between the CN and the RAN based on a first QoS parameter configuration, and the RAN user plane network function performs parameter configuration on a bearer in the RAN and a bearer between the RAN and the UE based on a second QoS parameter configuration. As shown in <figref idref="f0003">FIG. 4</figref>, the method includes the following steps.</p>
<p id="p0023" num="0023">401: A first CN user plane network function obtains n downlink service flows, and performs flow mapping of the n downlink service flows to q bearers for transmission to a RAN.</p>
<p id="p0024" num="0024">n and q are both integers greater than or equal to 1. The first CN user plane network function is a user plane network function of a connection between an external PDN and a CN, and is, for example, a PDN gateway function.</p>
<p id="p0025" num="0025">In this embodiment of the present invention, the first CN user plane network function obtains the n downlink service flows from the external PDN or an application server, and then performs flow mapping of the n downlink service flows to the q bearers according to the QoS rule sent by the CN QoS control function, and transmits in the CN and between the CN and the RAN. The n downlink service flows are service data transmitted from the PDN network to the UE. The q bearers may be forwarded by one or more CN user plane network functions in the CN. According to the QoS rule, the CN user plane network function may map the n downlink service flows to the q bearers evenly, or map the n downlink service flows to the q bearers unevenly. For example, if n is equal to q, a one-to-one mapping of a service flow to a bearer is implemented; if n is greater than q, a many-to-one mapping of a service flow to a bearer is implemented; and if n is less than q, a one-to-many mapping of a service flow to a bearer is implemented. In addition, the CN user plane network function performs parameter configuration on the q bearers based on first QoS parameter configuration information, to ensure QoS of each bearer.</p>
<p id="p0026" num="0026">402: A RAN user plane network function performs flow demapping of the q bearers, to obtain the n downlink service flows.</p>
<p id="p0027" num="0027">The flow demapping is a reverse process of the flow mapping in step 401.</p>
<p id="p0028" num="0028">403: The RAN user plane network function remaps the n downlink service flows to t bearers.</p>
<p id="p0029" num="0029">t is an integer greater than or equal to 1.</p>
<p id="p0030" num="0030">In this embodiment of the present invention, the RAN user plane network function remaps,<!-- EPO <DP n="12"> --> according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the n downlink service flows obtained through the flow demapping to the t bearers. According to the QoS rule, the RAN user plane network function may map the n downlink service flows to the t bearers evenly, or map the n downlink service flows to the t bearers unevenly. For example, if n is equal to t, a one-to-one mapping of a service flow to a bearer is implemented; if n is greater than t, a many-to-one mapping of a service flow to a bearer is implemented; and if n is less than t, a one-to-many mapping of a service flow to a bearer is implemented.</p>
<p id="p0031" num="0031">404: The RAN user plane network function transmits the t bearers to UE.</p>
<p id="p0032" num="0032">In this embodiment of the present invention, the RAN user plane network function transmits the t bearers in the RAN and between the RAN and the UE. The t bearers may be forwarded by one or more RAN user plane network functions in the RAN. In addition, the RAN user plane network function performs parameter configuration on the t bearers based on second QoS parameter configuration information, to ensure QoS of each bearer.</p>
<p id="p0033" num="0033">405: A UE user plane network function performs the flow demapping of the t bearers, to obtain the n downlink service flows.</p>
<p id="p0034" num="0034">In this embodiment of the present invention, on one hand, when the QoS control function exists only in the CN, the UE user plane network function performs, according to the QoS rule sent by the CN QoS control function, the flow demapping of the received t bearers to the n downlink service flows. On the other hand, when the QoS control functions exist in the CN and the RAN, the UE user plane network function performs, according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the flow demapping of the received t bearers to the n downlink service flows.</p>
<p id="p0035" num="0035">In the embodiment in <figref idref="f0003">FIG. 4</figref>, the CN and the RAN may implement different bearer mapping manners, namely, a mapping between a service flow and a bearer, based on respective network resource usage. On one hand, when the QoS control function exists only in the CN, the RAN may report resource usage of the RAN to the CN, and the CN QoS control function determines respective bearer mapping manners of the CN and the RAN. On the other hand, when the QoS control functions exist in the CN and the RAN, the CN and the RAN may determine respective bearer mapping manners respectively based on network resource usage of the CN and the RAN. In this embodiment, bearers to which the n downlink service flows are mapped in the CN and bearers to which the n downlink service flows are mapped in the RAN may be independent of each other. For example, four downlink service flows are transmitted from the PDN network to the UE, and the CN user plane network function maps first and second service flows to a first bearer in the CN, and maps third and fourth service flows to a second bearer in the CN. That is, q = 2. In some implementations,<!-- EPO <DP n="13"> --> the RAN user plane network function performs the flow demapping of the received first and second bearers, and then performs flow remapping of all the service flows to a first bearer on the RAN. That is, t = 1. In this case, quantities of the bearers to which the service flows are mapped in the CN and in the RAN are different. In some other implementations, the RAN user plane network function maps the first and third service flows obtained through the flow demapping to a first bearer in the RAN, and maps the second and fourth service flows to a second bearer in the RAN. That is, t = 2. In this case, although t = q, bearer mapping manners of the service flows in the CN and in the RAN are different. In some other implementations, the RAN user plane network function uses a bearer mapping manner the same as that of the CN user plane network function, and maps the first and second service flows obtained through the flow demapping to the first bearer in the RAN, and maps the third and fourth service flows to the second bearer in the RAN. In this case, t = q, and bearer mapping manners of the CN and the RAN are the same. Steps 402 and 403 may be omitted.</p>
<p id="p0036" num="0036"><figref idref="f0004">FIG. 5</figref> is a schematic flowchart of another embodiment of a method for managing QoS of downlink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0004">FIG. 5</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, a downlink service flow is transmitted from a PDN network to UE. On one hand, when a QoS control function exists only in a CN, a CN user plane network function and a RAN user plane network function implement, according to a QoS rule delivered by the QoS control function, that a service flow is transmitted in a bearer manner in the CN and between the CN and a RAN, and a service flow is transmitted in a service flow manner in the RAN and between the RAN and the UE. On the other hand, when QoS control functions exist in the CN and the RAN, the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner in the CN and between the CN and the RAN, and the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, that a service flow is transmitted in a service flow manner in the RAN and between the RAN and the UE. In addition, the CN user plane network function performs parameter configuration on a bearer in the CN and a bearer between the CN and the RAN based on a first QoS parameter configuration, and the RAN user plane network function performs parameter configuration on a service flow in the RAN and a service flow between the RAN and the UE based on a second QoS parameter configuration. As shown in <figref idref="f0004">FIG. 5</figref>, the method includes the following steps.</p>
<p id="p0037" num="0037">501: A first CN user plane network function obtains n downlink service flows, and performs flow mapping of the n downlink service flows to q bearers for transmission to a RAN.</p>
<p id="p0038" num="0038">502: A RAN user plane network function performs flow demapping of the q bearers, to<!-- EPO <DP n="14"> --> obtain the n downlink service flows.</p>
<p id="p0039" num="0039">Implementations of steps 501 and 502 are respectively similar to implementations of steps 401 and 402 in the foregoing embodiment. Details are not described herein again.</p>
<p id="p0040" num="0040">503: The RAN user plane network function transmits the n downlink service flows to UE.</p>
<p id="p0041" num="0041">In this embodiment of the present invention, the RAN user plane network function transmits, according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the n downlink service flows obtained through the flow demapping in the RAN and between the RAN and the UE in a service flow manner. The n downlink service flows may be forwarded by one or more RAN user plane network functions in the RAN. In addition, the RAN user plane network function performs parameter configuration on the n downlink service flows based on second QoS parameter configuration information, to ensure QoS of each service flow.</p>
<p id="p0042" num="0042"><figref idref="f0005">FIG. 6</figref> is a schematic flowchart of another embodiment of a method for managing QoS of downlink transmission in a wireless communications system according to the present invention. In this embodiment, a downlink service flow is transmitted from a PDN network to UE. On one hand, when a QoS control function exists only in a CN, a CN user plane network function and a RAN user plane network function implement, according to a QoS rule delivered by the QoS control function, that a service flow is transmitted in a service flow manner in the CN and between the CN and a RAN, and a service flow is transmitted in a bearer manner in the RAN and between the RAN and the UE. On the other hand, when QoS control functions exist in the CN and the RAN, the CN user plane network function implements, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a service flow manner in the CN and between the CN and the RAN, and the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, that a service flow is transmitted in a bearer manner in the RAN and between the RAN and the UE. In addition, the CN user plane network function performs parameter configuration on a service flow in the CN and a service flow between the CN and the RAN based on a first QoS parameter configuration, and the RAN user plane network function performs parameter configuration on a bearer in the RAN and a bearer between the RAN and the UE based on a second QoS parameter configuration. As shown in <figref idref="f0005">FIG. 6</figref>, the method includes the following steps.</p>
<p id="p0043" num="0043">601: A first CN user plane network function obtains n downlink service flows and transmits the n downlink service flows to a RAN.</p>
<p id="p0044" num="0044">n is an integer greater than or equal to 1. The first CN user plane network function is a user plane network function of a connection between an external PDN and a CN, and is, for example, a PDN gateway.</p>
<p id="p0045" num="0045">In this embodiment of the present invention, the first CN user plane network function<!-- EPO <DP n="15"> --> transmits, according to the QoS rule sent by the CN QoS control function, the n downlink service flows in the CN and between the CN and the RAN. The n downlink service flows are service data transmitted from the PDN network to the a user equipment. In addition, the CN user plane network function performs parameter configuration on a service flow in the CN and a service flow between the CN and the RAN based on a first QoS parameter configuration, to ensure QoS of each service flow.</p>
<p id="p0046" num="0046">602: A RAN user plane network function performs flow mapping of the n downlink service flows to t bearers.</p>
<p id="p0047" num="0047">603: The RAN user plane network function transmits the t bearers to UE.</p>
<p id="p0048" num="0048">604: A UE user plane network function performs flow demapping of the t bearers, to obtain the n downlink service flows.</p>
<p id="p0049" num="0049">Implementations of steps 602, 603, and 604 are respectively similar to implementations of steps 403, 404, and 405 in the foregoing embodiment. Details are not described herein again.</p>
<p id="p0050" num="0050"><figref idref="f0006">FIG. 7</figref> is a schematic flowchart of another embodiment of a method for managing QoS of downlink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0006">FIG. 7</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, a downlink service flow is transmitted from a PDN network to a user equipment. On one hand, when a QoS control function exists only in a CN, a CN user plane network function and a RAN user plane network function implement, according to a QoS rule delivered by the QoS control function, that a service flow is transmitted in a service flow manner in the CN, between the CN and a RAN, in the RAN, and between the RAN and the UE. On the other hand, when QoS control functions exist in the CN and the RAN, the CN user plane network function implements, according to a QoS rule delivered by the CN QoS control function, and the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, respectively, that a service flow is transmitted in a service flow manner in the CN, between the CN and the RAN, in the RAN, and between the RAN and the UE. In addition, the CN user plane network function performs parameter configuration on a service flow in the CN and a service flow between the CN and the RAN based on a first QoS parameter configuration, and the RAN user plane network function performs parameter configuration on a service flow in the RAN and a service flow between the RAN and the UE based on a second QoS parameter configuration. As shown in <figref idref="f0006">FIG. 7</figref>, the method includes the following steps:
<ul id="ul0002" list-style="none">
<li>701: A first CN user plane network function obtains n downlink service flows and transmits the n downlink service flows to a RAN.</li>
<li>702: ARAN user plane network function transmits the n downlink service flows to UE.</li>
</ul><!-- EPO <DP n="16"> --></p>
<p id="p0051" num="0051">Implementations of steps 701 and 702 are respectively similar to implementations of steps 601 and 503 in the foregoing embodiments. Details are not described herein again.</p>
<p id="p0052" num="0052"><figref idref="f0007">FIG. 8</figref> is a schematic flowchart of an embodiment of a method for managing QoS of uplink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0007">FIG. 8</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, an uplink service flow is transmitted from UE to a PDN network. On one hand, when a QoS control function exists only in a CN, a UE user plane network function, a RAN user plane network function, and a CN user plane network function implement, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner between the UE and a RAN, in the RAN, between the RAN and the CN, and in the CN. On the other hand, when QoS control functions exist in the CN and the RAN, the UE user plane network function implements, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, that a service flow is transmitted in a bearer manner between the UE and the RAN, in the RAN, between the RAN and the CN, and in the CN; the RAN user plane network function implements, according to the QoS rule delivered by the RAN QoS control function, and the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, respectively, that a service flow is transmitted in a bearer manner between the UE and the RAN, in the RAN, between the RAN and the CN, and in the CN. In addition, the UE user plane network function performs parameter configuration on a bearer between the UE and the RAN based on an uplink QoS parameter configuration; the RAN user plane network function performs parameter configuration on a bearer in the RAN and a bearer between the RAN and the CN based on a second QoS parameter configuration; and the CN user plane network function performs parameter configuration on a bearer in the CN based on a first QoS parameter configuration. As shown in <figref idref="f0007">FIG. 8</figref>, the method includes the following steps.</p>
<p id="p0053" num="0053">801: A UE user plane network function obtains m uplink service flows, and performs flow mapping of the m uplink service flows to p bearers for transmission to a RAN.</p>
<p id="p0054" num="0054">m and p are both integers greater than or equal to 1.</p>
<p id="p0055" num="0055">In this embodiment of the present invention, the UE user plane network function may obtain the m uplink service flows from an application server, and then maps, according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the m uplink service flows to the p bearers for transmission between the UE and the RAN. The m uplink service flows are service data transmitted from the UE to the PDN network. According to the QoS rule, the UE user plane network function may map the m uplink service flows to the p bearers evenly, or map m uplink service data flows to the p bearers unevenly. For example, if m is equal to p, a one-to-one mapping<!-- EPO <DP n="17"> --> of a service flow to a bearer is implemented; if m is greater than p, a many-to-one mapping of a service flow to a bearer is implemented; and if m is less than p, a one-to-many mapping of a service flow to a bearer is implemented. In addition, the UE user plane network function performs parameter configuration on the p bearers based on uplink QoS parameter configuration information, to ensure QoS of each bearer.</p>
<p id="p0056" num="0056">802: A RAN user plane network function performs flow demapping of the p bearers, to obtain the m uplink service flows.</p>
<p id="p0057" num="0057">The flow demapping is a reverse process of the flow mapping in step 801.</p>
<p id="p0058" num="0058">803: The RAN user plane network function performs flow remapping of the m uplink service flows to r bearers.</p>
<p id="p0059" num="0059">r is an integer greater than or equal to 1.</p>
<p id="p0060" num="0060">In this embodiment of the present invention, the RAN user plane network function remaps, according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the m uplink service flows obtained through the flow demapping to the r bearers. According to the QoS rule, the RAN user plane network function may map the m uplink service flows to the r bearers evenly, or map the m uplink service flows to the r bearers unevenly. For example, if m is equal to r, a one-to-one mapping of a service flow to a bearer is implemented; if m is greater than r, a many-to-one mapping of a service flow to a bearer is implemented; and if m is less than r, a one-to-many mapping of a service flow to a bearer is implemented.</p>
<p id="p0061" num="0061">804: The RAN user plane network function transmits the r bearers to a CN.</p>
<p id="p0062" num="0062">In this embodiment of the present invention, the RAN user plane network function transmits the r bearers in the RAN and between the RAN and the CN. The r bearers may be forwarded by one or more RAN user plane network functions in the RAN. In addition, the RAN user plane network function performs parameter configuration on the r bearers based on second QoS parameter configuration information, to ensure QoS of each bearer.</p>
<p id="p0063" num="0063">805: A second CN user plane network function performs the flow demapping of the r bearers, to obtain the m uplink service flows.</p>
<p id="p0064" num="0064">The second CN user plane network function is a user plane network function of a connection between the RAN and a CN, and is, for example, a serving gateway. The flow demapping is a reverse process of the flow mapping of step 804.</p>
<p id="p0065" num="0065">806: The second CN user plane network function performs flow remapping of the m uplink service flows to s bearers.</p>
<p id="p0066" num="0066">s is an integer greater than or equal to 1.</p>
<p id="p0067" num="0067">In this embodiment of the present invention, the second CN user plane network function<!-- EPO <DP n="18"> --> remaps, according to the QoS rule sent by the CN QoS control function, the m uplink service flows obtained through the flow demapping to the s bearers. According to the QoS rule, the second CN user plane network function may map the m uplink service flows to the s bearers evenly, or map the m uplink service flows to the s bearers unevenly. For example, if m is equal to s, a one-to-one mapping of a service flow to a bearer is implemented; if m is greater than s, a many-to-one mapping of a service flow to a bearer is implemented; and if m is less than s, a one-to-many mapping of a service flow to a bearer is implemented.</p>
<p id="p0068" num="0068">807: The second CN user plane network function transmits the s bearers to a first CN user plane network function.</p>
<p id="p0069" num="0069">The first CN user plane network function is a user plane network function of a connection between an external PDN and the CN, and is, for example, a PDN gateway.</p>
<p id="p0070" num="0070">In this embodiment of the present invention, the second CN user plane network function transmits the s bearers in the CN to the first CN user plane network function. The s bearers may be forwarded by one or more CN user plane network functions in the CN. In addition, the second CN user plane network function performs parameter configuration on the s bearers based on first QoS parameter configuration information, to ensure QoS of each bearer.</p>
<p id="p0071" num="0071">808: The first CN user plane network function performs the flow demapping of the s bearers, to obtain the m uplink service flows.</p>
<p id="p0072" num="0072">In this embodiment of the present invention, the first CN user plane network function performs, according to the QoS rule sent by the CN QoS control function, the flow demapping of the received s bearers to obtain the m uplink service flows.</p>
<p id="p0073" num="0073">In the embodiment in <figref idref="f0007">FIG. 8</figref>, the RAN and the CN may implement different bearer mapping manners, namely, a mapping between a service flow and a bearer, based on respective network resource usage. On one hand, when the QoS control function exists only in the CN, the RAN may report resource usage of the RAN to the CN, and the CN QoS control function determines respective bearer mapping manners of the UE, the RAN, and the CN. On the other hand, when the QoS control functions exist in the CN and the RAN, the CN and the RAN may determine respective bearer mapping manners respectively based on network resource usage of the CN and the RAN, and a bearer mapping manner of the UE also depends on the network resource usage of the RAN. In this embodiment, bearers to which the m uplink service flows are mapped in the UE, bearers to which the m uplink service flows are mapped in the RAN, and bears to which the m uplink service flows are mapped in the CN may be independent of each other. Namely, a manner of mapping the m uplink service flows to the p bearers, a manner of mapping the m uplink service flows to the r bearers, and a manner of mapping the m uplink service flows to the s bearers may be different from each other.<!-- EPO <DP n="19"> --> For example, p is equal to r, r is equal to s, and bearer mapping manners are the same; p is equal to r, r is equal to s, but the bearer mapping manners are different; p is equal to r, but r is no equal to s; or p is not equal to r, and r is not to equal to s. If bearer mapping manners of service flows in the UE and the RAN are the same, steps 802 and 803 may be omitted. Similarly, if bearer mapping manners of service flows in the RAN and the CN are the same, steps 805 and 806 may be omitted.</p>
<p id="p0074" num="0074">In the embodiment in <figref idref="f0007">FIG. 8</figref>, a service flow is transmitted in a bearer manner between the UE and the RAN, in the RAN, between the RAN and the CN, and in the CN. In another implementation, the UE may implement, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, that a service flow is transmitted in a service flow manner between the UE and the RAN, and a service flow is still transmitted in a bearer manner in the RAN, between the RAN and the CN, and in the CN. In this case, steps 801 and 802 are changed as: The UE user plane network function obtains the m uplink service flows and transmits the m uplink service flows to the RAN. In addition, the UE user plane network function performs parameter configuration on the m uplink service flows based on uplink QoS parameter configuration information, to ensure QoS of each service flow. Steps 803 to 808 remain unchanged.</p>
<p id="p0075" num="0075"><figref idref="f0008">FIG. 9</figref> is a schematic flowchart of another embodiment of a method for managing QoS of uplink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0008">FIG. 9</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, an uplink service flow is transmitted from UE to a PDN network. On one hand, when a QoS control function exists only in a CN, a UE user plane network function, a RAN user plane network function, and a CN user plane network function implement, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner between the UE and a RAN and in the CN, and a service flow is transmitted in a service flow manner in the RAN and between the RAN and the CN. On the other hand, when QoS control functions exist in the CN and the RAN, the UE user plane network function implements, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, and the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, respectively, that a service flow is transmitted in a bearer manner between the UE and the RAN and in the CN, and a service flow is transmitted in a service flow manner in the RAN and between the RAN and the CN. In addition, the UE user plane network function performs parameter configuration on a bearer between the UE and the RAN based on an uplink QoS parameter configuration; the RAN user plane network function performs parameter configuration on a service flow in the RAN and a service flow between the RAN and the CN based<!-- EPO <DP n="20"> --> on a second QoS parameter configuration; and the CN user plane network function performs parameter configuration on a bearer in the CN based on a first QoS parameter configuration. As shown in <figref idref="f0008">FIG. 9</figref>, the method includes the following steps.</p>
<p id="p0076" num="0076">901: A UE user plane network function obtains m uplink service flows, and performs flow mapping of the m uplink service flows to p bearers for transmission to a RAN.</p>
<p id="p0077" num="0077">902: A RAN user plane network function performs flow demapping of the p bearers, to obtain the m uplink service flows.</p>
<p id="p0078" num="0078">Implementations of steps 901 and 902 are respectively similar to implementations of steps 801 and 802 in the foregoing embodiment. Details are not described herein again.</p>
<p id="p0079" num="0079">903: The RAN user plane network function transmits the m uplink service flows to a CN.</p>
<p id="p0080" num="0080">In this embodiment of the present invention, the RAN user plane network function transmits, according to the QoS rule sent by the CN QoS control function or the RAN QoS control function, the m uplink service flows obtained through the flow demapping in the RAN and between the RAN and the CN. In addition, the RAN user plane network function performs parameter configuration on the m uplink service flows based on second QoS parameter configuration information, to ensure QoS of each service flow.</p>
<p id="p0081" num="0081">904: A second CN user plane network function performs flow remapping of the m uplink service flows to s bearers.</p>
<p id="p0082" num="0082">905: The second CN user plane network function transmits the s bearers to a first CN user plane network function.</p>
<p id="p0083" num="0083">906: The first CN user plane network function performs the flow demapping of the s bearers, to obtain the m uplink service flows.</p>
<p id="p0084" num="0084">Implementations of steps 904, 905, and 906 are respectively similar to implementations of steps 806, 807, and 808 in the foregoing embodiment. Details are not described herein again.</p>
<p id="p0085" num="0085">In the embodiment in <figref idref="f0008">FIG. 9</figref>, a service flow is transmitted in a bearer manner between the UE and the RAN and in the CN, and a service flow is transmitted in a service flow manner in the RAN and between the RAN and the CN. In another implementation, the UE may implement, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, that a service flow is transmitted in a service flow manner between the UE and the RAN, in the RAN, and between the RAN and the CN, and a service flow is still transmitted in a bearer manner in the CN. In this case, steps 901 and 902 are changed as: The UE user plane network function obtains the m uplink service flows and transmits the m uplink service flows to the RAN. In addition, the UE user plane network function performs parameter configuration on the m uplink service flows based on uplink QoS parameter configuration information, to ensure QoS of each service flow. Steps 903 to<!-- EPO <DP n="21"> --> 906 remain unchanged.</p>
<p id="p0086" num="0086"><figref idref="f0009">FIG. 10</figref> is a schematic flowchart of another embodiment of a method for managing QoS of uplink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0009">FIG. 10</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, an uplink service flow is transmitted from UE to a PDN network. On one hand, when a QoS control function exists only in a CN, a UE user plane network function, a RAN user plane network function, and a CN user plane network function implement, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner between the UE and a RAN, in the RAN, and between the RAN and the CN, and a service flow is transmitted in a service flow manner in the CN. On the other hand, when QoS control functions exist in the CN and the RAN, the UE user plane network function implements, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, the RAN user plane network function implements, according to the QoS rule delivered by the RAN QoS control function, and the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, respectively, that a service flow is transmitted in a bearer manner between the UE and the RAN, in the RAN, and between the RAN and the CN, and a service flow is transmitted in a service flow manner in the CN. In addition, the UE user plane network function performs parameter configuration on a bearer between the UE and the RAN based on an uplink QoS parameter configuration; the RAN user plane network function performs parameter configuration on a bearer in the RAN and a bearer between the RAN and the CN based on a second QoS parameter configuration; and the CN user plane network function performs parameter configuration on a service flow in the CN based on a first QoS parameter configuration. As shown in <figref idref="f0009">FIG. 10</figref>, the method includes the following steps.</p>
<p id="p0087" num="0087">1001: A UE user plane network function obtains m uplink service flows, and performs flow mapping of the m uplink service flows to p bearers for transmission to a RAN.</p>
<p id="p0088" num="0088">1002: A RAN user plane network function performs flow demapping of the p bearers, to obtain the m uplink service flows.</p>
<p id="p0089" num="0089">1003: The RAN user plane network function remaps the m uplink service flows to r bearers.</p>
<p id="p0090" num="0090">1004: The RAN user plane network function transmits the r bearers to a CN.</p>
<p id="p0091" num="0091">1005: A second CN user plane network function performs the flow demapping of the r bearers, to obtain the m uplink service flows.</p>
<p id="p0092" num="0092">Implementations of steps 1001, 1002, 1003, 1004, and 1005 are respectively similar to implementations of steps 801, 802, 803, 804, and 805 in the foregoing embodiment. Details are not<!-- EPO <DP n="22"> --> described herein again.</p>
<p id="p0093" num="0093">1006: The second CN user plane network function transmits the m uplink service flows to a first CN user plane network function.</p>
<p id="p0094" num="0094">In this embodiment of the present invention, the second CN user plane network function transmits the m uplink service flows in the CN to the first CN user plane network function. The m uplink service flows may be forwarded by one or more CN user plane network functions in the CN. The second CN user plane network function performs parameter configuration on the m uplink service flows based on first QoS parameter configuration information, to ensure QoS of each service flow.</p>
<p id="p0095" num="0095">In the embodiment in <figref idref="f0009">FIG. 10</figref>, a service flow is transmitted in a bearer manner between the UE and the RAN, in the RAN, and between the RAN and the CN, and a service flow is transmitted in a service flow manner in the CN. In another implementation, the UE may implement, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, that a service flow is transmitted in a service flow manner between the UE and the RAN and in the CN, and a service flow is still transmitted in a bearer manner in the RAN and between the RAN and the CN. In this case, steps 1001 and 1002 are changed as: The UE user plane network function obtains the m uplink service flows and transmits the m uplink service flows to the RAN. In addition, the UE user plane network function performs parameter configuration on the m uplink service flows based on uplink QoS parameter configuration information, to ensure QoS of each service flow. Steps 1003 to 1006 remain unchanged.</p>
<p id="p0096" num="0096"><figref idref="f0010">FIG. 11</figref> is a schematic flowchart of another embodiment of a method for managing QoS of uplink transmission in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0010">FIG. 11</figref> is for illustration purposes only and is not covered by the scope of the claims. In this embodiment, an uplink service flow is transmitted from UE to a PDN network. On one hand, when a QoS control function exists only in a CN, a UE user plane network function, a RAN user plane network function, and a CN user plane network function implement, according to a QoS rule delivered by the CN QoS control function, that a service flow is transmitted in a bearer manner between the UE and a RAN, and a service flow is transmitted in a service flow manner in the RAN, between the RAN and the CN, and in the CN. On the other hand, when QoS control functions exist in the CN and the RAN, the UE user plane network function implements, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, the RAN user plane network function implements, according to a QoS rule delivered by the RAN QoS control function, and the CN user plane network function implements, according to the QoS rule delivered by the CN QoS control function, respectively, that a service flow is transmitted in a bearer manner between the<!-- EPO <DP n="23"> --> UE and the RAN, and a service flow is transmitted in a service flow manner in the RAN, between the RAN and the CN, and in the CN. In addition, the UE user plane network function performs parameter configuration on a bearer between the UE and the RAN based on an uplink QoS parameter configuration; the RAN user plane network function performs parameter configuration on a service flow in the RAN and a service flow between the RAN and the CN based on a second QoS parameter configuration; and the CN user plane network function performs parameter configuration on a service flow in the CN based on a first QoS parameter configuration. As shown in <figref idref="f0010">FIG. 11</figref>, the method includes the following steps:
<ul id="ul0003" list-style="none" compact="compact">
<li>1101: A UE user plane network function obtains m uplink service flows, and performs flow mapping of the m uplink service flows to p bearers for transmission to a RAN.</li>
<li>1102: A RAN user plane network function performs flow demapping of the p bearers, to obtain the m uplink service flows.</li>
<li>1103: The RAN user plane network function transmits the m uplink service flows to a CN.</li>
<li>1104: A second CN user plane network function transmits the m uplink service flows to a first CN user plane network function.</li>
</ul></p>
<p id="p0097" num="0097">Implementations of steps 1101, 1102, 1103, and 1104 are respectively similar to implementations of steps 801, 802, 903, and 1006 in the foregoing embodiments. Details are not described herein again.</p>
<p id="p0098" num="0098">In the embodiment in <figref idref="f0010">FIG. 11</figref>, a service flow is transmitted in a bearer manner between the UE and the RAN, and a service flow is transmitted in a service flow manner in the RAN, between the RAN and the CN, and in the CN. In another implementation, the UE may implement, according to the QoS rule delivered by the CN QoS control function or the RAN QoS control function, that a service flow is transmitted in a service flow manner the UE and the RAN, in the RAN, between the RAN and the CN, and in the CN. In this case, steps 1101 and 1102 are changed as: The UE user plane network function obtains the m uplink service flows and transmits the m uplink service flows to the RAN. In addition, the UE user plane network function performs parameter configuration on the m uplink service flows based on uplink QoS parameter configuration information, to ensure QoS of each service flow. Steps 1103 and 1104 remain unchanged.</p>
<p id="p0099" num="0099"><figref idref="f0011">FIG. 12</figref> is a schematic flowchart of an embodiment of a method for transmitting data in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0011">FIG. 12</figref> is for illustration purposes only and is not covered by the scope of the claims. The method includes the following steps:
<ul id="ul0004" list-style="none" compact="compact">
<li>1201: Obtain a QoS rule and a QoS parameter configuration.</li>
<li>1202: Determine whether to send data in a bearer manner. If it is determined to send data<!-- EPO <DP n="24"> --> in a bearer manner, the process proceeds to step 1203; otherwise, it indicates sending of data in a service flow manner, and the process proceeds to step 1204.</li>
<li>1203: Map a received service flow to a bearer for transmission.</li>
<li>1204: Directly transmit the received service flow.</li>
</ul></p>
<p id="p0100" num="0100">The data transmission method provided in this embodiment of the present invention may be performed by a first CN user plane network function. Correspondingly, the data transmission is downlink transmission. The first CN user plane network function is a user plane network function of a connection between an external PDN and a CN, and is, for example, a PDN gateway. In step 1201, the first CN user plane network function obtains a QoS rule sent by a CN QoS control function, and determines a transmission manner in step 1202. In addition, in step 1201, the first CN user plane network function obtains a parameter configuration sent by a first QoS parameter configuration function, and the parameter configuration is used in step 1203 or step 1204 for ensuring QoS of transmission.</p>
<p id="p0101" num="0101">The data transmission method provided in this embodiment of the present invention may be performed by a UE user plane network function. Correspondingly, the data transmission is uplink transmission. In step 1201, on one hand, when the QoS control function exists only in the CN, the UE user plane network function obtains the QoS rule delivered by the CN QoS control function, and determines a transmission manner in step 1202. On the other hand, when QoS control functions exist in the CN and a RAN, the UE user plane network function obtains the QoS rule delivered by the CN QoS control function or the RAN QoS control function, and determines a transmission manner in step 1202. In addition, in step 1201, the UE user plane network function obtains a parameter configuration sent by an uplink QoS parameter configuration function, and the parameter configuration is used in step 1203 or step 1204 for ensuring QoS of transmission.</p>
<p id="p0102" num="0102"><figref idref="f0012">FIG. 13</figref> is a schematic flowchart of another embodiment of a method for transmitting data in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0012">FIG. 13</figref> is for illustration purposes only and is not covered by the scope of the claims. The method includes the following steps.</p>
<p id="p0103" num="0103">1301: Obtain a QoS rule.</p>
<p id="p0104" num="0104">1302: Determine whether data of a bearer is received. If it is determined that data of a bearer is received, the process proceeds to step 1303; otherwise, it indicates receiving of data in a service flow manner, and the process proceeds to step 1304.</p>
<p id="p0105" num="0105">In this embodiment of the present invention, by detecting a data packet format of received data, it can be determined whether the received data is data of a bearer or data of a service flow. For example, a data packet header of a bearer includes a tunnel endpoint identifier of the GTP, and there<!-- EPO <DP n="25"> --> is no tunnel endpoint identifier in a data packet header of a service flow. Therefore, whether the received data is data of a bearer or data of a service flow may be determined by detecting whether a data packet header includes a tunnel endpoint identifier.</p>
<p id="p0106" num="0106">1303: Perform flow demapping of a received bearer.</p>
<p id="p0107" num="0107">1304: Receive a service flow.</p>
<p id="p0108" num="0108">The data transmission method provided in this embodiment of the present invention may be performed by a first CN user plane network function. Correspondingly, the data transmission is uplink transmission. In step 1301, the first CN user plane network function obtains a QoS rule sent by a CN QoS control function, and determines a receiving manner in step 1302, and determines how to perform the flow demapping of a bearer in step 1303.</p>
<p id="p0109" num="0109">The data transmission method provided in this embodiment of the present invention may be performed by a UE user plane network function. Correspondingly, the data transmission is uplink transmission. In step 1301, on one hand, when the QoS control function exists only in the CN, the UE user plane network function obtains the QoS rule delivered by the CN QoS control function, and determines a receiving manner in step 1302, and determines, in step 1303, how to perform the flow demapping of a bearer. On the other hand, when QoS control functions exist in the CN and a RAN, the UE user plane network function obtains the QoS rule delivered by the CN QoS control function or the RAN QoS control function, and determines a receiving manner in step 1302, and determines, in step 1303, how to perform the flow demapping of a bearer.</p>
<p id="p0110" num="0110"><figref idref="f0013">FIG. 14</figref> is a schematic flowchart of another embodiment of a method for transmitting data in a wireless communications system according to the present invention. It is noted that the embodiment of <figref idref="f0013">FIG. 14</figref> is for illustration purposes only and is not covered by the scope of the claims. The method includes the following steps.</p>
<p id="p0111" num="0111">1401: Obtain a QoS rule and a QoS parameter configuration.</p>
<p id="p0112" num="0112">1402: Determine whether data of a bearer is received. If it is determined that data of a bearer is received, the process proceeds to step 1403; otherwise, it indicates receiving of data in a service flow manner, and the process proceeds to step 1404.</p>
<p id="p0113" num="0113">In this embodiment of the present invention, by detecting a data packet format of received data, it can be determined whether the received data is data of a bearer or data of a service flow. For example, a data packet header of a bearer includes a tunnel endpoint identifier of the GTP, and there is no tunnel endpoint identifier in a data packet header of a service flow. Therefore, whether the received data is data of a bearer or data of a service flow may be determined by detecting whether a data packet header includes a tunnel endpoint identifier.</p>
<p id="p0114" num="0114">1403: Perform flow demapping of a received bearer. The process then proceeds to step<!-- EPO <DP n="26"> --> 1404.</p>
<p id="p0115" num="0115">1404: Determine whether to send data in a bearer manner. If it is determined to send data in a bearer manner, the process proceeds to step 1405; otherwise, it indicates sending of data in a service flow manner, and the process proceeds to step 1406.</p>
<p id="p0116" num="0116">1405: Remap a service flow to a bearer for transmission.</p>
<p id="p0117" num="0117">In this embodiment of the present invention, on one hand, if it is determined in step 1402 to receive data in a bearer manner and it is determined in step 1404 to send data in a bearer manner, in step 1405, a service flow obtained through the flow demapping in step 1403 is remapped to a bearer for transmission. On the other hand, if it is determined in step 1402 to receive data in a service flow manner and it is determined in step 1404 to send data in a bearer manner, in step 1405, a received service flow is remapped to a bearer for transmission.</p>
<p id="p0118" num="0118">1406: Directly transmit the service flow.</p>
<p id="p0119" num="0119">In this embodiment of the present invention, on one hand, if it is determined in step 1402 to receive data in a bearer manner, and it is determined in step 1404 to send data in a service flow manner, in step 1406, a service flow obtained through the flow demapping in step 1403 is transmitted. On the other hand, if it is determined in step 1402 to receive data in a service flow manner, and it is determined in step 1404 to send data in a service flow manner, in step 1405, a received service flow is transmitted.</p>
<p id="p0120" num="0120">The data transmission method provided in this embodiment of the present invention may be performed by a RAN user plane network function. Correspondingly, the data transmission may be uplink transmission or downlink transmission. In step 1401, on one hand, when a QoS control function exists only in the CN, the RAN user plane network function obtains a QoS rule delivered by the CN QoS control function, and determines a receiving manner in step 1402, and determines a sending manner in step 1404. On the other hand, when QoS control functions exist in the CN and a RAN, the RAN user plane network function obtains a QoS rule delivered by the RAN QoS control function, and determines a receiving manner in step 1402. In addition, in step 1401, the RAN user plane network function obtains a parameter configuration sent by a second QoS parameter configuration function, and the parameter configuration is used in step 1405 or step 1406 for ensuring QoS of transmission. Further, if it is determined in step 1402 to receive data in a bearer manner and it is determined in step 1404 to send data in a bearer manner, and the QoS rule indicates that bearer mapping manners of reception and sending are the same, steps 1403 and 1405 may be omitted.</p>
<p id="p0121" num="0121">The data transmission method provided in this embodiment of the present invention may be performed by a second CN user plane network function. Correspondingly, the data transmission is uplink transmission. The second CN user plane network function is a user plane network function of<!-- EPO <DP n="27"> --> a connection between the RAN and the CN, and is, for example, a serving gateway. In step 1401, the second CN user plane network function obtains the QoS rule sent by the CN QoS control function, determines a receiving manner in step 1402, and determines a sending manner in step 1404. In addition, in step 1401, the second CN user plane network function obtains a parameter configuration sent by a first QoS parameter configuration function, and the parameter configuration is used in step 1405 or step 1406 for ensuring QoS of transmission. Further, if it is determined in step 1402 to receive data in a bearer manner and it is determined in step 1404 to send data in a bearer manner, and the QoS rule indicates that bearer mapping manners of reception and sending are the same, steps 1403 and 1405 may be omitted.</p>
<p id="p0122" num="0122">The foregoing describes the solutions provided in the embodiments of the present invention mainly from perspectives of interaction between network elements and processing of the network elements. It can be understood that to implement the foregoing functions, each network element includes a corresponding hardware structure and/or software module for performing each function. A person skilled in the art should easily realize that with reference to the embodiments disclosed in this specification, this patent application can be implemented in a form of hardware or a form of a combination of hardware and computer software. Whether a function is performed by hardware or hardware driven by computer software depends on particular applications and design constraints of the technical solutions. A person skilled in the art may use different methods to implement the described functions for each particular application, but it should not be considered that the implementation goes beyond the scope of this patent application.</p>
<p id="p0123" num="0123">This patent application further provides apparatus embodiments for implementing steps and methods in the foregoing method embodiments. It should be noted that the apparatus embodiments may be used together with the foregoing methods, or may be used alone.</p>
<p id="p0124" num="0124"><figref idref="f0014">FIG. 15</figref> is a schematic structural diagram of UE 1500 according to an embodiment of the present invention. It is noted that the embodiment of <figref idref="f0014">FIG. 15</figref> is for illustration purposes only and is not covered by the scope of the claims. As shown in <figref idref="f0014">FIG. 15</figref>, the UE 1500 includes a processor 1501, a memory 1502, and a communications interface 1503. The processor 1501 is connected to the memory 1502 and the communications interface 1503. For example, the processor 1501 may be connected to the memory 1502 and the communications interface 1503 by using a bus.</p>
<p id="p0125" num="0125">The processor 1501 is configured to support the UE in performing corresponding functions in the foregoing methods. The processor 1501 may be a central processing unit (English: central processing unit, CPU), a network processor (English: network processor, NP), a hardware chip, or any combination thereof. The hardware chip may be an application-specific integrated circuit (English: application-specific integrated circuit, ASIC), a programmable logic device (English,<!-- EPO <DP n="28"> --> programmable logic device, PLD), or a combination thereof. The PLD may be a complex programmable logic device (English: complex programmable logic device, CPLD), a field-programmable gate array (English field-programmable gate array, FPGA), a generic array logic (English: generic array logic, GAL), or any combination thereof.</p>
<p id="p0126" num="0126">The memory 1502 is configured to store user plane data that needs to be sent by the UE and control plane data, user plane data, and the like that are received by the UE from a RAN device. Further, the memory 1502 may store a QoS rule, an uplink QoS parameter configuration, and the like that are received from a CN QoS control function or a RAN QoS control function. The memory 1502 may include a volatile memory (English: volatile memory), for example, a random-access memory (English: random-access memory, RAM for short). The memory 1502 may alternatively include a non-volatile memory (English: non-volatile memory), for example, a read-only memory (English: read-only memory, ROM for short), a flash memory (English: flash memory), a hard disk drive (English: hard disk drive, HDD for short), or a solid-state drive (English: solid-state drive, SSD for short). The memory 1502 may alternatively include a combination of memories of the foregoing types.</p>
<p id="p0127" num="0127">The communications interface 1503 includes a transceiver that communicates with the RAN device, and is configured to receive messages and data involved in the foregoing methods from and send messages and data involved in the foregoing methods to the RAN device.</p>
<p id="p0128" num="0128">The processor 1501 may perform the following operation:<br/>
sending uplink data and/or receiving downlink data through the communications interface 1503. Further, the processor 1501 determines, according to the QoS rule and the uplink QoS parameter configuration that are received from a CN QoS control function or a RAN QoS control function through the communications interface 1503, a manner of receiving and sending data, and processes received data and/or to-be-sent data. Refer to the descriptions of the embodiments in <figref idref="f0011">FIG. 12</figref> and <figref idref="f0012">FIG. 13</figref> for a specific implementation.</p>
<p id="p0129" num="0129"><figref idref="f0014">FIG. 16</figref> is a schematic structural diagram of another UE 1600 according to an embodiment of the present invention. It is noted that the embodiment of <figref idref="f0014">FIG. 16</figref> is for illustration purposes only and is not covered by the scope of the claims. As shown in <figref idref="f0014">FIG. 16</figref>, the UE 1600 includes a receiving module 1601, a determining module 1602, a processing module 1603, and a sending module 1604.</p>
<p id="p0130" num="0130">The receiving module 1601 has both a control plane function and a user plane function. In a control plane, the receiving module 1601 is configured to receive control plane signaling. Referring to a control plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, on one hand, when a QoS control function exists only in a CN, the receiving module 1601 receives a QoS rule and an uplink QoS parameter configuration that are delivered by the CN QoS control function. On the other hand, when QoS control functions exist in the CN and a RAN, the receiving module 1601 receives a QoS rule<!-- EPO <DP n="29"> --> and an uplink QoS parameter configuration that are delivered by the CN QoS control function or the RAN QoS control function. In a user plane, the receiving module 1601 is configured to receive user plane data. Referring to the user plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, the receiving module 1601 receives downlink data transmitted from a RAN device, where the downlink data may be transmitted in a service flow manner or in a bearer manner.</p>
<p id="p0131" num="0131">The determining module 1602 determines, by using the obtained QoS rule, a transmission manner of the user plane data. For downlink transmission, the determining module 1602 is configured to determine whether the UE receives the downlink data in a bearer manner or in a service flow manner. For uplink transmission, the determining module 1602 is configured to determine whether the UE sends uplink data in a bearer manner or in a service flow manner.</p>
<p id="p0132" num="0132">The processing module 1603 implements processing of user plane data based on a decision of the determining module 1602. Specifically, referring to the descriptions of the embodiments in <figref idref="f0011">FIG. 12</figref> and <figref idref="f0012">FIG. 13</figref>, for the downlink transmission, if the determining module 1602 determines that the UE receives the downlink data in a bearer manner, the processing module 1603 performs, according to the obtained QoS rule, flow demapping processing on a bearer received from the RAN device. For the uplink transmission, if the determining module 1602 determines that the UE sends the uplink data in a bearer manner, the processing module 1603 performs the processing of mapping flows to a bearer on uplink service flows according to the obtained QoS rule and the uplink QoS parameter configuration.</p>
<p id="p0133" num="0133">The sending module 1604 sends user plane uplink data based on the decision of the determining module 1602 and/or the processing of the processing module 1603. Referring to the descriptions of the embodiments in <figref idref="f0011">FIG. 12</figref> and <figref idref="f0012">FIG. 13</figref>, if the determining module 1602 determines that the UE sends the uplink data in a bearer manner, the sending module 1604 sends a bearer of which the processing module 1603 performs flow mapping; and if the determining module 1602 determines that the UE sends the uplink data in a service flow manner, the sending module 1604 sends the uplink service flows.</p>
<p id="p0134" num="0134"><figref idref="f0015">FIG. 17</figref> is a schematic structural diagram of a RAN device 1700 according to an embodiment of the present invention. As shown in <figref idref="f0015">FIG. 17</figref>, the RAN device 1700 includes a processor 1701, a memory 1702, and a communications interface 1703. The processor 1701 is connected to the memory 1702 and the communications interface 1703. For example, the processor 1701 may be connected to the memory 1702 and the communications interface 1703 by using a bus.</p>
<p id="p0135" num="0135">The processor 1701 is configured to support the RAN device in performing corresponding functions in the foregoing methods. The processor 1701 may be a central processing unit (English: central processing unit, CPU), a network processor (English: network processor, NP), a hardware<!-- EPO <DP n="30"> --> chip, or any combination thereof. The hardware chip may be an application-specific integrated circuit (English: application-specific integrated circuit, ASIC), a programmable logic device (English, programmable logic device, PLD), or a combination thereof. The PLD may be a complex programmable logic device (English: complex programmable logic device, CPLD), a field-programmable gate array (English field-programmable gate array, FPGA), a generic array logic (English: generic array logic, GAL), or any combination thereof.</p>
<p id="p0136" num="0136">The memory 1702 is configured to store control plane data and user plane data that need to be sent by the RAN device and control plane data, user plane data, and the like that are received by the RAN device from a CN device and/or UE. Further, the memory 1702 may store a QoS rule, a second QoS parameter configuration, and the like that are received from a CN QoS control function or a RAN QoS control function. The memory 1702 may include a volatile memory (English: volatile memory), for example, a random-access memory (English: random-access memory, RAM for short). The memory 1702 may alternatively include a non-volatile memory (English: non-volatile memory), for example, a read-only memory (English: read-only memory, ROM for short), a flash memory (English: flash memory), a hard disk drive (English: hard disk drive, HDD for short), or a solid-state drive (English: solid-state drive, SSD for short). The memory 1702 may alternatively include a combination of memories of the foregoing types.</p>
<p id="p0137" num="0137">The communications interface 1703 includes a transceiver that communicates with the CN device and a transceiver that communicates with the UE, and is configured to receive messages and data involved in the foregoing methods from and send messages and data involved in the foregoing methods to the CN device and the UE.</p>
<p id="p0138" num="0138">The processor 1701 may perform the following operation:<br/>
sending uplink data and/or receiving downlink data through the communications interface 1703. Further, the processor 1701 determines, according to the QoS rule and the QoS parameter configuration that are received from a CN QoS control function or a RAN QoS control function through the communications interface 1703, a manner of receiving and sending data, and processes received data and/or to-be-sent data. Refer to the descriptions of the embodiment in <figref idref="f0013">FIG. 14</figref> for a specific implementation.</p>
<p id="p0139" num="0139"><figref idref="f0015">FIG. 18</figref> is a schematic structural diagram of another RAN device 1800 according to an embodiment of the present invention. As shown in <figref idref="f0015">FIG. 18</figref>, the RAN device 1800 includes a receiving module 1801, a determining module 1802, a processing module 1803, a QoS control module 1804, and a sending module 1805.</p>
<p id="p0140" num="0140">The receiving module 1801 has both a control plane function and a user plane function. In a control plane, the receiving module 1801 is configured to receive control plane signaling. Referring<!-- EPO <DP n="31"> --> to a control plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, when a QoS control function exists only in a CN, the receiving module 1801 receives a QoS rule and a second QoS parameter configuration that are delivered by the CN QoS control function. In a user plane, the receiving module 1801 is configured to receive user plane data. Referring to the user plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, the receiving module 1801 receives downlink data transmitted from a CN device and/or uplink data transmitted from UE. The downlink data and the uplink data may be transmitted in a service flow manner or in a bearer manner.</p>
<p id="p0141" num="0141">The determining module 1802 determines, by using the obtained QoS rule, a transmission manner of the user plane data. On one hand, when the QoS control function exists only in the CN, the determining module 1802 determines, according to the QoS rule obtained by the receiving module 1801, a transmission manner of receiving and/or sending user plane data. On the other hand, when QoS control functions exist in the CN and a RAN, the determining module 1802 determines, according to the QoS rule obtained from the QoS control module 1804, a transmission manner of receiving and/or sending user plane data. The received user plane data includes downlink data received from the CN device and/or uplink data received from the UE, and the sent user plane data includes uplink data sent to the CN device and/or downlink data sent to the UE.</p>
<p id="p0142" num="0142">The processing module 1803 implements processing of user plane data based on a decision of the determining module 1802. Specifically, referring to the descriptions of the embodiment in <figref idref="f0013">FIG. 14</figref>, for data reception, if the determining module 1802 determines that the RAN device receives data in a bearer manner, the processing module 1803 performs, according to the QoS rule obtained from the receiving module 1801 or the QoS control module 1804, flow demapping processing on the received bearer. For data transmission, if the determining module 1802 determines that the RAN device sends data in a bearer manner, the processing module 1803 performs, according to the QoS rule and the second QoS parameter configuration that are obtained from the receiving module 1801 or the QoS control module 1804, processing of mapping flows to a bearer on service flows.</p>
<p id="p0143" num="0143">The sending module 1804 sends user plane uplink data based on the decision of the determining module 1802 and/or the processing of the processing module 1803. Referring to the user plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, if the determining module 1802 determines that the RAN device sends data in a bearer manner, the sending module 1804 sends a bearer of which the processing module 1803 performs flow remapping; and if the determining module 1803 determines that the RAN device sends the data in a service flow manner, the sending module 1804 sends service flows of which the processing module 1803 performs the flow demapping.</p>
<p id="p0144" num="0144"><figref idref="f0016">FIG. 19</figref> is a schematic structural diagram of a CN device 1900 according to an embodiment of the present invention. It is noted that the embodiment of <figref idref="f0016">FIG. 19</figref> is for illustration<!-- EPO <DP n="32"> --> purposes only and is not covered by the scope of the claims. As shown in <figref idref="f0016">FIG. 19</figref>, the CN device 1900 includes a processor 1901, a memory 1902, and a communications interface 1903. The processor 1901 is connected to the memory 1902 and the communications interface 1903. For example, the processor 1901 may be connected to the memory 1902 and the communications interface 1903 by using a bus.</p>
<p id="p0145" num="0145">The processor 1901 is configured to support the CN device in performing corresponding functions in the foregoing methods. The processor 1901 may be a central processing unit (English: central processing unit, CPU), a network processor (English: network processor, NP), a hardware chip, or any combination thereof. The hardware chip may be an application-specific integrated circuit (English: application-specific integrated circuit, ASIC), a programmable logic device (English, programmable logic device, PLD), or a combination thereof. The PLD may be a complex programmable logic device (English: complex programmable logic device, CPLD), a field-programmable gate array (English field-programmable gate array, FPGA), a generic array logic (English: generic array logic, GAL), or any combination thereof.</p>
<p id="p0146" num="0146">The memory 1902 is configured to store control plane data and user plane data that need to be sent by the CN device and user plane data and the like that are received by the CN device from a RAN device. Further, the memory 1902 may store a QoS rule, a first QoS parameter configuration, and the like that are received from a CN QoS control function. The memory 1902 may include a volatile memory (English: volatile memory), for example, a random-access memory (English: random-access memory, RAM for short). The memory 1902 may alternatively include a non-volatile memory (English: non-volatile memory), for example, a read-only memory (English: read-only memory, ROM for short), a flash memory (English: flash memory), a hard disk drive (English: hard disk drive, HDD for short), or a solid-state drive (English: solid-state drive, SSD for short). The memory 1902 may alternatively include a combination of memories of the foregoing types.</p>
<p id="p0147" num="0147">The communications interface 1903 includes a transceiver that communicates with the RAN device, and is configured to receive messages and data involved in the foregoing methods from and send messages and data involved in the foregoing methods to the RAN device.</p>
<p id="p0148" num="0148">The processor 1901 may perform the following operation:<br/>
sending uplink data and/or receiving downlink data through the communications interface 1903. Further, the processor 1901 determines, according to a QoS rule and the first QoS parameter configuration that are received from the QoS control function in the core network, a manner of receiving and sending data, and processes received data and/or to-be-sent data. Refer to the descriptions of the embodiments in <figref idref="f0011 f0012 f0013">FIG. 12 to FIG. 14</figref> for a specific implementation.</p>
<p id="p0149" num="0149"><figref idref="f0016">FIG. 20</figref> is a schematic structural diagram of another CN device 2000 according to an<!-- EPO <DP n="33"> --> embodiment of the present invention. It is noted that the embodiment of <figref idref="f0016">FIG. 20</figref> is for illustration purposes only and is not covered by the scope of the claims. As shown in <figref idref="f0016">FIG. 20</figref>, the CN device 2000 includes a receiving module 2001, a determining module 2002, a processing module 2003, a QoS control module 2004, and a sending module 2005.</p>
<p id="p0150" num="0150">The receiving module 2001 is configured to receive user plane data. Referring to the user plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, the receiving module 2001 receives uplink data transmitted from a RAN device, where the uplink data may be transmitted in a service flow manner or in a bearer manner.</p>
<p id="p0151" num="0151">The determining module 2002 is configured to determine, according to a QoS rule obtained from the QoS control module 2004, a transmission manner of receiving and/or sending user plane data. The received user plane data includes uplink data received from the RAN device, and the sent user plane data includes downlink data sent to the RAN device. The transmission manner includes performing data transmission in a service flow manner or in a bearer manner.</p>
<p id="p0152" num="0152">The processing module 2003 implements processing of user plane data based on a decision of the determining module 2002. Specifically, referring to the descriptions of the embodiments in <figref idref="f0011 f0012 f0013">FIG. 12 to FIG. 14</figref>, for data reception, if the determining module 2002 determines that the CN device receives data in a bearer manner, the processing module 2003 performs, according to the QoS rule obtained from the QoS control module 2004, flow demapping of the received bearer. For data transmission, if the determining module 2002 determines that the CN device sends data in a bearer manner, the processing module 2003 performs, according to the QoS rule and a first QoS parameter configuration that are obtained from the QoS control module 2004, processing of mapping flows to a bearer on service flows.</p>
<p id="p0153" num="0153">The sending module 2004 sends user plane uplink data based on the decision of the determining module 2002 and/or the processing of the processing module 2003. Referring to the user plane implementation shown in <figref idref="f0001">FIG. 2</figref> and <figref idref="f0002">FIG. 3</figref>, if the determining module 2002 determines that the RAN device sends data in a bearer manner, the sending module 2004 sends a bearer of which the processing module 2003 performs flow remapping; and if the determining module 2003 determines that the RAN device sends the data in a service flow manner, the sending module 2004 sends service flows of which the processing module 2003 performs the flow demapping.</p>
<p id="p0154" num="0154">In the several embodiments provided in this application, it should be understood that the disclosed system, apparatus, and method may be implemented in other manners. For example, the described apparatus embodiment is merely an example. For example, the unit division is merely logical function division and may be other division in actual implementation. For example, a plurality of units or components may be combined or integrated into another system, or some features may be<!-- EPO <DP n="34"> --> ignored or not performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented by using some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electronic, mechanical, or other forms.</p>
<p id="p0155" num="0155">The units described as separate parts may or may not be physically separate, and parts displayed as units may or may not be physical units, may be located in one position, or may be distributed on a plurality of network units. Some or all of the units may be selected according to actual requirements to achieve the objectives of the solutions of the embodiments.</p>
<p id="p0156" num="0156">In addition, functional units in the embodiments of this patent application may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit.</p>
<p id="p0157" num="0157">When functions are implemented in the form of a software functional unit and sold or used as an independent product, the functions may be stored in a computer-readable storage medium. Based on such an understanding, the technical solutions of this application essentially, or the part contributing to the prior art, or some of the technical solutions may be implemented in a form of a software product. The software product is stored in a storage medium, and includes several instructions for instructing a computer device (which may be a personal computer, a server, or a network device) to perform all or some of the steps of the methods described in the embodiments of this application. The foregoing storage medium includes: any medium that can store program code, such as a USB flash drive, a removable hard disk, a read-only memory (ROM, read-only memory), a random access memory (RAM, random access memory), a magnetic disk, or an optical disc.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="35"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>A method for managing quality of service in a wireless communications system, comprising:
<claim-text>receiving, by a radio access network device in a service flow manner, service data that is transmitted by a core network device from a packet data network, PDN, to a user equipment, wherein the service flow manner is that data packets of the service data are transmitted according to an Internet Protocol, IP, transmission protocol;</claim-text>
<claim-text>mapping, by the radio access network device according to a quality of service, QoS, rule, the service data to t bearers between the radio access network device and the user equipment for transmission, wherein t is an integer greater than or equal to 1; and</claim-text>
<claim-text>transmitting, by the radio access network, the service data to the user equipment through the t bearers in a bearer manner.</claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The method according to claim 1, wherein the radio access network device maps the service data to the t bearers evenly for transmission.</claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The method according to claim 1, wherein the radio access network device maps the service data to the t bearers unevenly for transmission.</claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>A method for managing quality of service in a wireless communications system, comprising:
<claim-text>receiving, by a radio access network device through p bearers between a user equipment and the radio access network device, service data that is from the user equipment to a packet data network, PDN, network, wherein p is an integer greater than or equal to 1;</claim-text>
<claim-text>performing, by the radio access network device, flow demapping of data of the p bearers according to a quality of service, QoS, rule, to obtain the service data from the p bearers; and</claim-text>
<claim-text>transmitting, by the radio access network device, the service data obtained from the flow demapping to a core network device in a service flow manner, wherein the service flow manner is that data packets of the service data are transmitted according to an Internet Protocol, IP, transmission protocol.</claim-text></claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>The method according to claim 1 or 4, wherein the radio access network device obtains the QoS rule from a radio access network QoS controller or the core network device.</claim-text></claim>
<claim id="c-en-01-0006" num="0006">
<claim-text>The method according to claim 1 or 4, wherein the radio access network device obtains a second QoS parameter configuration from a second QoS parameter configuration function, and<!-- EPO <DP n="36"> --> performs QoS parameter configuration on the service data based on the second QoS parameter configuration.</claim-text></claim>
<claim id="c-en-01-0007" num="0007">
<claim-text>A radio access network device (1700), comprising:
<claim-text>a communications interface (1703), configured to receive, in a service flow manner, service data that is transmitted by a core network device from a packet data network, PDN, network to a user equipment, wherein the service flow manner is that data packets of the service data are transmitted according to an Internet Protocol, IP, transmission protocol; and</claim-text>
<claim-text>a processor (1701), configured to map the service data to t bearers between the radio access network device (1700) and the user equipment according to a quality of service, QoS, rule, wherein t is an integer greater than or equal to 1, wherein</claim-text>
<claim-text>the communications interface (1703) is further configured to transmit the service data mapped to the t bearers to the user equipment in a bearer manner through the t bearers.</claim-text></claim-text></claim>
<claim id="c-en-01-0008" num="0008">
<claim-text>The radio access network device (1700) according to claim 7, wherein the processor (1701) is further configured to map the service data to the t bearers evenly.</claim-text></claim>
<claim id="c-en-01-0009" num="0009">
<claim-text>The radio access network device (1700) according to claim 7, wherein the processor (1701) is further configured to map the service data to the t bearers unevenly.</claim-text></claim>
<claim id="c-en-01-0010" num="0010">
<claim-text>A radio access network device (1700), comprising:
<claim-text>a communications interface (1703), configured to: receive, through p bearers between a user equipment and the radio access network device (1700), service data that is from the user equipment to a packet data network, PDN, network, wherein p is an integer greater than or equal to 1; and transmit the service data to a core network device;</claim-text>
<claim-text>a processor (1701), configured to perform flow demapping of the p bearers according to a quality of service, QoS, rule, to obtain the service data from the p bearers; and</claim-text>
<claim-text>wherein the communication interface (1703) is further configured to transmit the service data obtained from the flow demapping to a core network device in a service flow manner, wherein the service flow manner is that data packets of the service data are transmitted according to an Internet Protocol, IP, transmission protocol.</claim-text></claim-text></claim>
<claim id="c-en-01-0011" num="0011">
<claim-text>The radio access network device according to claim 7 or 10,<br/>
wherein the communications interface (1703) is further configured to obtain the QoS rule from a radio access network QoS controller or the core network device.</claim-text></claim>
<claim id="c-en-01-0012" num="0012">
<claim-text>The radio access network device (1700) according to claim 7 or 10, wherein
<claim-text>the communications interface (1703) is further configured to obtain a second QoS parameter<!-- EPO <DP n="37"> --> configuration from a second QoS parameter configuration function; and</claim-text>
<claim-text>the processor (1701) is further configured to performs QoS parameter configuration on the service data based on the second QoS parameter configuration.</claim-text></claim-text></claim>
<claim id="c-en-01-0013" num="0013">
<claim-text>A computer readable storage medium, comprising an instruction, wherein when the instruction is run on a computer, the computer is enabled to perform the method according to any one of claims 1 to 6.</claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="38"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Verfahren zum Verwalten der Dienstqualität in einem Drahtloskommunikationssystem, umfassend:
<claim-text>Empfangen von Dienstdaten, die durch ein Kernnetzwerkgerät von einem Paketdatennetzwerk (PDN) an ein Benutzerendgerät übertragen werden, durch ein Funkzugangsnetzwerkgerät in einer Dienstflussweise, wobei die Dienstflussweise darin besteht, dass Datenpakete der Dienstdaten gemäß einem Internetprotokoll-Übertragungsprotokoll (IP-Übertragungsprotokoll) übertragen werden;</claim-text>
<claim-text>Zuordnen der Dienstdaten durch das Funkzugangsnetzwerkgerät gemäß einer Dienstqualitätsregel (quality of service rule - QoS-Regel) zu t Trägern zwischen dem Funkzugangsnetzwerkgerät und dem Benutzerendgerät zur Übertragung, wobei t eine ganze Zahl größer oder gleich 1 ist; und</claim-text>
<claim-text>Übertragen der Dienstdaten an das Benutzerendgerät über die t Träger in einer Trägerweise durch das Funkzugangsnetzwerk.</claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Verfahren nach Anspruch 1, wobei das Funkzugangsnetzwerkgerät die Dienstdaten gleichmäßig den t Trägern zur Übertragung zuordnet.</claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Verfahren nach Anspruch 1, wobei das Funkzugangsnetzwerkgerät die Dienstdaten ungleichmäßig den t Trägern zur Übertragung zuordnet.</claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Verfahren zum Verwalten der Dienstqualität in einem Drahtloskommunikationssystem, umfassend:
<claim-text>Empfangen von Dienstdaten, die von dem Benutzerendgerät zu einem Paketdatennetzwerk (PDN-Netzwerk) gehen, durch das Funkzugangsnetzwerkgerät über p Träger zwischen einem Benutzerendgerät und dem Funkzugangsnetzwerkgerät, wobei p eine ganze Zahl größer oder gleich 1 ist;<!-- EPO <DP n="39"> --></claim-text>
<claim-text>Durchführen einer Flussrückbildung von Daten der p Träger gemäß einer Dienstqualitätsregel (QoS-Regel) durch das Funkzugangsnetzwerkgerät, um die Dienstdaten von den p Trägern zu erhalten; und</claim-text>
<claim-text>Übertragen der anhand der Flussrückbildung erhaltenen Dienstdaten an ein Kernnetzwerkgerät in einer Dientflussweise durch das Funkzugangsnetzwerkgerät, wobei die Dienstflussweise darin besteht, dass Datenpakete der Dienstdaten gemäß einem Internetprotokoll-Übertragungsprotokoll (IP-Übertragungsprotokoll) übertragen werden.</claim-text></claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Verfahren nach Anspruch 1 oder 4, wobei das Funkzugangsnetzwerkgerät die QoS-Regel von einer Funkzugangsnetzwerk-QoS-Steuerung oder dem Kernnetzwerkgerät erhält.</claim-text></claim>
<claim id="c-de-01-0006" num="0006">
<claim-text>Verfahren nach Anspruch 1 oder 4, wobei das Funkzugangsnetzwerkgerät eine zweite QoS-Parameterkonfiguration von einer zweiten QoS-Parameterkonfigurationsfunktion erhält und eine QoS-Parameterkonfiguration für die Dienstdaten auf Grundlage der zweiten QoS-Parameterkonfiguration durchführt.</claim-text></claim>
<claim id="c-de-01-0007" num="0007">
<claim-text>Funkzugangsnetzwerkgerät (1700), umfassend:
<claim-text>eine Kommunikationsschnittstelle (1703), die dazu konfiguriert ist, in einer Dienstflussweise Dienstdaten zu empfangen, die durch ein Kernnetzwerkgerät von einem Paketdatennetzwerk (PDN-Netzwerk) an ein Benutzerendgerät übertragen werden, wobei die Dienstflussweise darin besteht, dass Datenpakete der Dienstdaten gemäß einem Internetprotokoll-Übertragungsprotokoll (IP-Übertragungsprotokoll) übertragen werden; und</claim-text>
<claim-text>einen Prozessor (1701), der dazu konfiguriert ist, die Dienstdaten gemäß einer Dienstqualitätsregel (QoS-Regel) t Trägern zwischen dem Funkzugangsnetzwerkgerät (1700) und dem Benutzerendgerät zuzuordnen, wobei t eine ganze Zahl größer oder<!-- EPO <DP n="40"> --> gleich 1 ist, wobei</claim-text>
<claim-text>die Kommunikationsschnittstelle (1703) ferner dazu konfiguriert ist, die den t Trägern zugeordneten Dienstdaten in einer Trägerweise über die t Träger an das Benutzerendgerät zu übertragen.</claim-text></claim-text></claim>
<claim id="c-de-01-0008" num="0008">
<claim-text>Funkzugangsnetzwerkgerät (1700) nach Anspruch 7, wobei der Prozessor (1701) ferner dazu konfiguriert ist, die Dienstdaten gleichmäßig den t Trägern zuzuordnen.</claim-text></claim>
<claim id="c-de-01-0009" num="0009">
<claim-text>Funkzugangsnetzwerkgerät (1700) nach Anspruch 7, wobei der Prozessor (1701) ferner dazu konfiguriert ist, die Dienstdaten ungleichmäßig den t Trägern zuzuordnen.</claim-text></claim>
<claim id="c-de-01-0010" num="0010">
<claim-text>Funkzugangsnetzwerkgerät (1700), umfassend:
<claim-text>eine Kommunikationsschnittstelle (1703), die für Folgendes konfiguriert ist: Empfangen von Dienstdaten, die von dem Benutzerendgerät an ein Paketdatennetzwerk (PDN-Netzwerk) gehen, über p Träger zwischen einem Benutzerendgerät und dem Funkzugangsnetzwerkgerät (1700), wobei p eine ganze Zahl größer oder gleich 1 ist; und Übertragen der Dienstdaten an ein Kernnetzwerkgerät;</claim-text>
<claim-text>einen Prozessor (1701), der dazu konfiguriert ist, eine Flussrückbildung der p Träger gemäß einer Dienstqualitätsregel (QoS-Regel) durchzuführen, um die Dienstdaten von den p Trägern zu erhalten; und</claim-text>
<claim-text>wobei die Kommunikationsschnittstelle (1703) ferner dazu konfiguriert ist, die anhand der Flussrückbildung erhaltenen Dienstdaten in einer Dienstflussweise an ein Kernnetzwerkgerät zu übertragen, wobei die Dienstflussweise darin besteht, dass Datenpakte der Dienstdaten gemäß einem Internetprotokoll-Übertragungsprotokoll (IP-Übertragungsprotokoll) übertragen werden.</claim-text><!-- EPO <DP n="41"> --></claim-text></claim>
<claim id="c-de-01-0011" num="0011">
<claim-text>Funkzugangsnetzwerkgerät nach Anspruch 7 oder 10,<br/>
wobei die Kommunikationsschnittstelle (1703) ferner dazu konfiguriert ist, die QoS-Regel von einer Funkzugangsnetzwerk-QoS-Steuerung oder dem Kernnetzwerkgerät zu erhalten.</claim-text></claim>
<claim id="c-de-01-0012" num="0012">
<claim-text>Funkzugangsnetzwerkgerät (1700) nach Anspruch 7 oder 10, wobei
<claim-text>die Kommunikationsschnittstelle (1703) ferner dazu konfiguriert ist, eine zweite QoS-Parameterkonfiguration von einer zweiten QoS-Parameterkonfigurationsfunktion zu erhalten; und</claim-text>
<claim-text>der Prozessor (1701) ferner dazu konfiguriert ist, eine QoS-Parameterkonfiguration für die Dienstdaten auf Grundlage der zweiten QoS-Parameterkonfiguration durchzuführen.</claim-text></claim-text></claim>
<claim id="c-de-01-0013" num="0013">
<claim-text>Computerlesbares Speichermedium, das eine Anweisung umfasst, wobei ein Ausführen der Anweisung auf einem Computer es dem Computer ermöglicht, das Verfahren nach einem der Ansprüche 1 bis 6 durchzuführen.</claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="42"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Procédé de gestion de la qualité de service dans un système de communication sans fil, comprenant :
<claim-text>la réception, par un dispositif de réseau d'accès radio selon un principe de flux de service, de données de service qui sont transmises par un dispositif de réseau central depuis un réseau de données par paquets, PDN, à un équipement utilisateur, dans lequel le principe de flux de service est tel que les paquets de données des données de service sont transmis selon un protocole de transmission de protocole Internet, IP ;</claim-text>
<claim-text>le mappage, par le dispositif de réseau d'accès radio selon une règle de qualité de service, QoS, des données de service à t supports entre le dispositif de réseau d'accès radio et l'équipement utilisateur pour la transmission, où t est un entier supérieur ou égal à 1 ; et</claim-text>
<claim-text>la transmission, par le réseau d'accès radio, des données de service à l'équipement utilisateur à travers les t supports selon un principe de support.</claim-text></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Procédé selon la revendication 1, dans lequel le dispositif de réseau d'accès radio mappe les données de service sur les t supports de manière uniforme pour la transmission.</claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Procédé selon la revendication 1, dans lequel le dispositif de réseau d'accès radio mappe les données de service sur les t supports de manière non uniforme pour la transmission.</claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Procédé de gestion de la qualité de service dans un système de communication sans fil, comprenant :
<claim-text>la réception, par un dispositif de réseau d'accès radio via p supports entre un équipement utilisateur et le dispositif de réseau d'accès radio, de données de service provenant de l'équipement utilisateur vers un réseau de données par paquets,<!-- EPO <DP n="43"> --> PDN, où p est un entier supérieur ou égal à 1 ;</claim-text>
<claim-text>la réalisation, par le dispositif de réseau d'accès radio, d'un démappage de flux de données des p supports selon une règle de qualité de service, QoS, pour obtenir les données de service des p supports ; et</claim-text>
<claim-text>la transmission, par le dispositif de réseau d'accès radio, des données de service obtenues à partir du démappage de flux à un dispositif de réseau central selon un principe de flux de service, dans lequel le principe de flux de service est tel que les paquets de données des données de service sont transmis selon un protocole de transmission de protocole Internet, IP.</claim-text></claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé selon la revendication 1 ou 4, dans lequel le dispositif de réseau d'accès radio obtient la règle QoS d'un dispositif de commande QoS de réseau d'accès radio ou du dispositif de réseau central.</claim-text></claim>
<claim id="c-fr-01-0006" num="0006">
<claim-text>Procédé selon la revendication 1 ou 4, dans lequel le dispositif de réseau d'accès radio obtient une seconde configuration de paramètre QoS à partir d'une seconde fonction de configuration de paramètre QoS, et exécute une configuration de paramètre QoS sur les données de service sur la base de la seconde configuration de paramètre QoS.</claim-text></claim>
<claim id="c-fr-01-0007" num="0007">
<claim-text>Dispositif de réseau d'accès radio (1700), comprenant :
<claim-text>une interface de communications (1703), conçue pour recevoir, selon un principe de flux de service, des données de service qui sont transmises par un dispositif de réseau central depuis un réseau de données par paquets, PDN, à un équipement utilisateur, dans lequel le principe de flux de service est tel que les paquets de données des données de service sont transmis selon un protocole de transmission de protocole Internet, IP ; et</claim-text>
<claim-text>un processeur (1701), conçu pour mapper les données de service à t supports entre le dispositif de réseau d'accès radio (1700)<!-- EPO <DP n="44"> --> et l'équipement utilisateur selon une règle de qualité de service, QoS, dans lequel t est un entier supérieur ou égal à 1, dans lequel</claim-text>
<claim-text>l'interface de communications (1703) est en outre conçue pour transmettre les données de service mappées aux t supports vers l'équipement utilisateur selon un principe de support par l'intermédiaire des t supports.</claim-text></claim-text></claim>
<claim id="c-fr-01-0008" num="0008">
<claim-text>Dispositif de réseau d'accès radio (1700) selon la revendication 7, dans lequel le processeur (1701) est en outre conçu pour mapper uniformément les données de service sur les t supports.</claim-text></claim>
<claim id="c-fr-01-0009" num="0009">
<claim-text>Dispositif de réseau d'accès radio (1700) selon la revendication 7, dans lequel le processeur (1701) est en outre conçu pour mapper de manière non uniforme les données de service sur les t supports.</claim-text></claim>
<claim id="c-fr-01-0010" num="0010">
<claim-text>Dispositif de réseau d'accès radio (1700), comprenant :
<claim-text>une interface de communications (1703), conçue pour : recevoir, via p supports entre un équipement utilisateur et le dispositif de réseau d'accès radio (1700), des données de service provenant de l'équipement utilisateur vers un réseau de données par paquets, PDN, réseau, dans lequel p est un entier supérieur ou égal à 1 ; et transmettre les données de service à un dispositif de réseau central ;</claim-text>
<claim-text>un processeur (1701), conçu pour réaliser un démappage de flux des p supports selon une règle de qualité de service, QoS, pour obtenir les données de service des p supports ; et</claim-text>
<claim-text>dans lequel l'interface de communications (1703) est en outre conçue pour transmettre les données de service obtenues à partir du démappage de flux à un dispositif de réseau central selon un principe de flux de service, dans lequel le principe de flux de service est tel que les paquets de données des données de service<!-- EPO <DP n="45"> --> sont transmis selon un protocole de transmission de protocole Internet, IP.</claim-text></claim-text></claim>
<claim id="c-fr-01-0011" num="0011">
<claim-text>Dispositif de réseau d'accès radio selon la revendication 7 ou 10,<br/>
dans lequel l'interface de communications (1703) est en outre conçue pour obtenir la règle QoS à partir d'un dispositif de commande QoS de réseau d'accès radio ou du dispositif de réseau central.</claim-text></claim>
<claim id="c-fr-01-0012" num="0012">
<claim-text>Dispositif de réseau d'accès radio (1700) selon la revendication 7 ou 10, dans lequel<br/>
l'interface de communications (1703) est en outre conçue pour obtenir une seconde configuration de paramètre QoS à partir d'une seconde fonction de configuration de paramètre QoS ; et le processeur (1701) est en outre conçu pour effectuer une configuration de paramètre QoS sur les données de service sur la base de la seconde configuration de paramètre QoS.</claim-text></claim>
<claim id="c-fr-01-0013" num="0013">
<claim-text>Support de stockage lisible par ordinateur, comprenant une instruction, dans lequel, lorsque l'instruction est exécutée sur un ordinateur, l'ordinateur est activé pour exécuter le procédé selon l'une quelconque des revendications 1 à 6.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="46"> -->
<figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="155" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> -->
<figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="156" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> -->
<figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="89" he="156" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> -->
<figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="87" he="134" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> -->
<figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="86" he="147" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> -->
<figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="84" he="86" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> -->
<figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="89" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> -->
<figure id="f0008" num="9"><img id="if0008" file="imgf0008.tif" wi="88" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> -->
<figure id="f0009" num="10"><img id="if0009" file="imgf0009.tif" wi="87" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> -->
<figure id="f0010" num="11"><img id="if0010" file="imgf0010.tif" wi="89" he="143" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> -->
<figure id="f0011" num="12"><img id="if0011" file="imgf0011.tif" wi="86" he="147" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> -->
<figure id="f0012" num="13"><img id="if0012" file="imgf0012.tif" wi="89" he="126" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> -->
<figure id="f0013" num="14"><img id="if0013" file="imgf0013.tif" wi="82" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> -->
<figure id="f0014" num="15,16"><img id="if0014" file="imgf0014.tif" wi="114" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> -->
<figure id="f0015" num="17,18"><img id="if0015" file="imgf0015.tif" wi="114" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> -->
<figure id="f0016" num="19,20"><img id="if0016" file="imgf0016.tif" wi="114" he="212" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="CN101132613A"><document-id><country>CN</country><doc-number>101132613</doc-number><kind>A</kind></document-id></patcit><crossref idref="pcit0001">[0004]</crossref></li>
</ul></p>
<heading id="ref-h0003"><b>Non-patent literature cited in the description</b></heading>
<p id="ref-p0003" num="">
<ul id="ref-ul0002" list-style="bullet">
<li><nplcit id="ref-ncit0001" npl-type="s"><article><atl/><serial><sertitle>3GPP technical report TR23.799</sertitle><pubdate><sdate>20160600</sdate><edate/></pubdate></serial></article></nplcit><crossref idref="ncit0001">[0011]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
