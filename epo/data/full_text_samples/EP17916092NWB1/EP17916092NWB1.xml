<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP17916092B1" file="EP17916092NWB1.xml" lang="en" country="EP" doc-number="3646836" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3646836</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>17916092.4</B210><B220><date>20170626</date></B220><B240><B241><date>20191219</date></B241></B240><B250>ja</B250><B251EP>en</B251EP><B260>en</B260></B200><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20200506</date><bnum>202019</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210429</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>A61G   5/04        20130101AFI20200512BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>Y02T  10/72        20130101 LA20210226BGEP        </text></classification-cpc><classification-cpc sequence="2"><text>Y02T  10/64        20130101 LA20210226BGEP        </text></classification-cpc><classification-cpc sequence="3"><text>B60L2240/429       20130101 LA20201005BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>B60L2200/24        20130101 LA20201005BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>B60L2240/423       20130101 LA20201005BHEP        </text></classification-cpc><classification-cpc sequence="6"><text>B60L  15/20        20130101 LI20200507BHEP        </text></classification-cpc><classification-cpc sequence="7"><text>B60L2240/421       20130101 LA20201005BHEP        </text></classification-cpc><classification-cpc sequence="8"><text>A61G   5/04        20130101 FI20190130BHEP        </text></classification-cpc><classification-cpc sequence="9"><text>A61G   5/02        20130101 LA20200706BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>ROLLSTUHL MIT ELEKTRISCHEM HILFSANTRIEB, ELEKTRISCHE HILFSANTRIEBSEINHEIT FÜR ROLLSTUHL, STEUERVORRICHTUNG FÜR ROLLSTUHL MIT ELEKTRISCHEM HILFSANTRIEB, STEUERVERFAHREN FÜR ROLLSTUHL MIT ELEKTRISCHEM HILFSANTRIEB UND PROGRAMM</B542><B541>en</B541><B542>POWER ASSIST WHEELCHAIR, POWER ASSIST UNIT FOR WHEELCHAIR, CONTROL DEVICE FOR POWER ASSIST WHEELCHAIR, CONTROL METHOD FOR POWER ASSIST WHEELCHAIR, AND PROGRAM</B542><B541>fr</B541><B542>FAUTEUIL ROULANT À ASSISTANCE MOTORISÉE, UNITÉ D'ASSISTANCE MOTORISÉE POUR FAUTEUIL ROULANT, DISPOSITIF DE COMMANDE POUR FAUTEUIL ROULANT À ASSISTANCE MOTORISÉE, PROCÉDÉ DE COMMANDE POUR FAUTEUIL ROULANT À ASSISTANCE MOTORISÉE, ET PROGRAMME</B542></B540><B560><B561><text>WO-A1-2017/037898</text></B561><B561><text>WO-A1-2017/047333</text></B561><B561><text>JP-A- H0 986 476</text></B561><B561><text>JP-A- H05 310 175</text></B561><B561><text>JP-A- 2004 025 913</text></B561><B561><text>JP-A- 2004 113 375</text></B561><B561><text>JP-A- 2004 120 875</text></B561><B561><text>JP-A- 2007 223 579</text></B561><B561><text>KR-A- 20140 065 291</text></B561><B565EP><date>20200518</date></B565EP></B560></B500><B700><B720><B721><snm>TAKAHASHI, Hisashi</snm><adr><str>5-3-19-604 Kamitsurumahoncho
Minami-ku</str><city>Sagamiharashi
Kanagawa 252-0318</city><ctry>JP</ctry></adr></B721><B721><snm>UEMURA, Tatsuki</snm><adr><str>c/o YAMAHA HATSUDOKI KABUSHIKI KAISHA
2500 Shingai</str><city>Iwata-shi
Shizuoka 438-8501</city><ctry>JP</ctry></adr></B721><B721><snm>MIZUNO, Masamitsu</snm><adr><str>c/o YAMAHA HATSUDOKI KABUSHIKI KAISHA
2500 Shingai</str><city>Iwata-shi
Shizuoka 438-8501</city><ctry>JP</ctry></adr></B721></B720><B730><B731><snm>Yamaha Hatsudoki Kabushiki Kaisha</snm><iid>100257223</iid><irf>EP125717-JK</irf><adr><str>2500 Shingai</str><city>Iwata-shi, Shizuoka 438-8501</city><ctry>JP</ctry></adr></B731><B731><snm>Takahashi, Hisashi</snm><iid>101278388</iid><irf>EP125717-JK</irf><adr><str>5-3-19-604, Kamitsurumahoncho 
Minami-ku</str><city>Sagamihara-shi, Kanagawa 252-0318</city><ctry>JP</ctry></adr></B731></B730><B740><B741><snm>Grünecker Patent- und Rechtsanwälte 
PartG mbB</snm><iid>100060488</iid><adr><str>Leopoldstraße 4</str><city>80802 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B860><B861><dnum><anum>JP2017023353</anum></dnum><date>20170626</date></B861><B862>ja</B862></B860><B870><B871><dnum><pnum>WO2019003260</pnum></dnum><date>20190103</date><bnum>201901</bnum></B871></B870></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">Technical Field</heading>
<p id="p0001" num="0001">The present disclosure relates to a power assist wheelchair, a power assist unit for a wheelchair, a control device for a power assist wheelchair, a control method for a power assist wheelchair, and a program. Such a wheelchair is disclosed in the <patcit id="pcit0001" dnum="KR20140065291"><text>KR20140065291</text></patcit>.</p>
<heading id="h0002">Background Art</heading>
<p id="p0002" num="0002">Known is a power assist wheelchair driven by combining power of an occupant rowing a hand rim by hand and power of an electric motor. In <patcit id="pcit0002" dnum="JP2006230421A"><text>JP 2006-230421 A</text></patcit>, it is described that manual torque given to a wheelchair by a person is estimated based upon an acceleration sensor, compensation torque is obtained by the manual torque and assist magnification, and the compensation torque is converted into a compensation current, thereby controlling a motor current.</p>
<heading id="h0003">Citation List</heading>
<heading id="h0004">Patent Literature</heading>
<p id="p0003" num="0003">Patent Literature 1: <patcit id="pcit0003" dnum="JP2006230421A"><text>JP 2006-230421 A</text></patcit><!-- EPO <DP n="2"> --></p>
<heading id="h0005">Summary of Invention</heading>
<heading id="h0006">Technical Problem</heading>
<p id="p0004" num="0004">Meanwhile, in a case where the acceleration sensor is provided in the wheelchair as described in <patcit id="pcit0004" dnum="JP2006230421A"><text>JP 2006-230421 A</text></patcit>, since an output value changes depending on a position where the acceleration sensor is provided, it is difficult to accurately estimate the manual torque. Such a problem is particularly noticeable when a unit for power assist is retrofitted into the wheelchair.</p>
<p id="p0005" num="0005">An object of the present disclosure is to estimate manual torque with a simple hardware configuration, as further disclosed in the claims.</p>
<heading id="h0007">Solution to Problem</heading>
<p id="p0006" num="0006">
<ol id="ol0001" compact="compact" ol-style="">
<li>(1) A power assist wheelchair proposed in the present disclosure includes: a wheel; an electric motor that drives the wheel; an encoder that detects rotation of the electric motor; and a control device that controls the electric motor. The control device includes: a total torque value calculation unit that calculates a total torque value based upon only a detection signal of the encoder; an assist torque value calculation unit that calculates an assist torque value based upon an output current of the electric motor; a manual torque value calculation unit that calculates a manual torque value based upon a difference obtained by subtracting the assist torque value from the total torque value;<!-- EPO <DP n="3"> --> and a target current determination unit that determines a target current of the electric motor based upon the manual torque value. Accordingly, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</li>
<li>(2) In an example of the power assist wheelchair, the total torque value and the assist torque value may be calculated as torque acting on an output shaft of the electric motor. Accordingly, the manual torque can be more easily estimated.</li>
<li>(3) In an example of the power assist wheelchair, the total torque value and the assist torque value may be calculated as torque acting on the wheel. Accordingly, the manual torque can be more easily estimated.</li>
<li>(4) In an example of the power assist wheelchair, the manual torque value may be calculated as torque acting on the wheel. Accordingly, the manual torque acting on the wheel can be estimated.</li>
<li>(5) In an example of the power assist wheelchair, the target current determination unit may calculate a target torque value of the electric motor by multiplying the manual torque value converted from the torque acting on the wheel into the torque acting on the output shaft of the electric motor by a predetermined assist ratio. Accordingly, the target torque value of the electric motor can be<!-- EPO <DP n="4"> --> calculated from the estimated manual torque acting on the wheel.</li>
<li>(6) A power assist wheelchair proposed in the present disclosure includes: a wheel; an electric motor that drives the wheel; an encoder that detects rotation of the electric motor; and a control device that controls the electric motor. The control device includes: a total torque value calculation unit that calculates a total torque value based upon a detection signal of the encoder; a twist torque value calculation unit that calculates a twist torque value representing torque causing twist of the wheel with respect to an axle; a manual torque value calculation unit that calculates a manual torque value based upon a difference obtained by subtracting the twist torque value from the total torque value; and a target current determination unit that determines a target current of the electric motor based upon the manual torque value. Accordingly, the manual torque can be estimated in consideration of the twist of the wheel with respect to the axle.</li>
<li>(7) In an example of the power assist wheelchair, the total torque value calculation unit may calculate the total torque value based upon a difference obtained by subtracting a twist angular velocity value representing an angular velocity of the twist from an angular velocity value calculated based upon the detection signal of the encoder. Accordingly, the total torque value can be more accurately calculated.</li>
<li>(8) In an example of the power assist wheelchair, the twist<!-- EPO <DP n="5"> --> angular velocity value may be calculated based upon the twist torque value. Accordingly, the total torque value can be calculated by using the twist torque value.</li>
<li>(9) In an example of the power assist wheelchair, the twist torque value calculation unit may calculate the twist torque value based upon a difference obtained by subtracting an assist torque value calculated based upon an output current of the electric motor from a torque value calculated based upon the detection signal of the encoder. Accordingly, the twist torque value can be calculated based upon the detection signal of the encoder and the output current of the electric motor.</li>
<li>(10) A power assist wheelchair proposed in the present disclosure includes: first and second wheels separated from each other in the vehicle width direction; a first electric motor that drives the first wheel; a first encoder that detects rotation of the first electric motor; a second electric motor that drives the second wheel; a second encoder that detects rotation of the second electric motor; and a control device that controls the first and second electric motors . The control device includes : a first total torque value calculation unit that calculates a first total torque value based upon only a detection signal of the first encoder; a first assist torque value calculation unit that calculates a first assist torque value based upon an output current of the first electric motor; a first manual torque value calculation unit that calculates a first manual torque value based upon a difference<!-- EPO <DP n="6"> --> obtained by subtracting the first assist torque value from the first total torque value; a first target current determination unit that determines a target current of the first electric motor based upon the first manual torque value; a second total torque value calculation unit that calculates a second total torque value based upon only a detection signal of the second encoder; a second assist torque value calculating unit that calculates a second assist torque value based upon an output current of the second electric motor; a second manual torque value calculation unit that calculates a second manual torque value based upon a difference obtained by subtracting the second assist torque value from the second total torque value; and a second target current determination unit that determines a target current of the second electric motor based upon the second manual torque value. Accordingly, with respect to each of the first and second wheels, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</li>
<li>(11) In an example of the power assist wheelchair, the first target current determination unit may determine the target current of the first electric motor based upon the first manual torque value and the second manual torque value, and the second target current determination unit may determine the target current of the second electric motor based upon the first manual torque value and the second manual torque value. Accordingly, the target torque value of the electric motor can be calculated also in consideration of<!-- EPO <DP n="7"> --> another manual torque.</li>
<li>(12) In an example of the power assist wheelchair, the first and second target current determination units may respectively calculate the target currents of the first and second electric motors based upon a value obtained by multiplying the sum of the first manual torque value and the second manual torque value by a predetermined straight-ahead assist ratio. Accordingly, the straightness of the wheelchair can be controlled.</li>
<li>(13) In an example of the power assist wheelchair, the first and second target current determination units may respectively calculate the target currents of the first and second electric motors based upon a value obtained by multiplying a difference between the first manual torque value and the second manual torque value by a predetermined turn assist ratio. Accordingly, the turnability of the wheelchair can be controlled.</li>
<li>(14) In an example of the power assist wheelchair, the first and second target current determination units may respectively calculate the target currents of the first and second electric motors based upon a value obtained by multiplying the sum of the first manual torque value and the second manual torque value by a predetermined straight-ahead assist ratio, and a value obtained by multiplying a difference between the first manual torque value and the second manual torque value by a predetermined turn assist ratio. Accordingly, the straightness and the turnability of the<!-- EPO <DP n="8"> --> wheelchair can be controlled.</li>
<li>(15) In an example of the power assist wheelchair, the straight-ahead assist ratio may be greater than the turn assist ratio. Accordingly, the straightness of the wheelchair can be improved.</li>
<li>(16) In an example of the power assist wheelchair, the turn assist ratio may be greater than the straight-ahead assist ratio. Accordingly, the turnability of the wheelchair can be improved.</li>
<li>(17) A power assist unit for a wheelchair proposed in the present disclosure includes: a wheel; an electric motor that drives the wheel; an encoder that detects rotation of the electric motor; and a control device that controls the electric motor. The control device includes: a total torque value calculation unit that calculates a total torque value based upon only a detection signal of the encoder; an assist torque value calculation unit that calculates an assist torque value based upon an output current of the electric motor; a manual torque value calculation unit that calculates a manual torque value based upon a difference obtained by subtracting the assist torque value from the total torque value; and a target current determination unit that determines a target current of the electric motor based upon the manual torque value. Accordingly, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple<!-- EPO <DP n="9"> --> hardware configuration.</li>
<li>(18) A control device for a power assist wheelchair proposed in the present disclosure including a wheel, an electric motor that drives the wheel, and an encoder that detects rotation of the electric motor, the device includes: a total torque value calculation unit that calculates a total torque value based upon only a detection signal of the encoder; an assist torque value calculation unit that calculates an assist torque value based upon an output current of the electric motor; a manual torque value calculation unit that calculates a manual torque value based upon a difference obtained by subtracting the assist torque value from the total torque value; and a target current determination unit that determines a target current of the electric motor based upon the manual torque value. Accordingly, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</li>
<li>(19) A control method for a power assist wheelchair proposed in the present disclosure including a wheel, an electric motor that drives the wheel, and an encoder that detects rotation of the electric motor, the method includes: calculating a total torque value based upon only a detection signal of the encoder; calculating an assist torque value based upon an output current of the electric motor; calculating a manual torque value based upon a difference obtained by subtracting the assist torque value from the total<!-- EPO <DP n="10"> --> torque value; and determining a target current of the electric motor based upon the manual torque value. Accordingly, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</li>
<li>(20) A program proposed in the present disclosure for causing a computer of a control device for a power assist wheelchair including a wheel, an electric motor that drives the wheel, and an encoder that detects rotation of the electric motor to function as a total torque value calculation unit that calculates a total torque value based upon only a detection signal of the encoder; an assist torque value calculation unit that calculates an assist torque value based upon an output current of the electric motor; a manual torque value calculation unit that calculates a manual torque value based upon a difference obtained by subtracting the assist torque value from the total torque value; and a target current determination unit that determines a target current of the electric motor based upon the manual torque value. Accordingly, since the total torque value is calculated based upon only the detection signal of the encoder and then the manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</li>
</ol></p>
<heading id="h0008">Advantageous Effects of Invention</heading><!-- EPO <DP n="11"> -->
<p id="p0007" num="0007">According to the present invention, since a total torque value is calculated based upon only a detection signal of an encoder and then a manual torque value is calculated, the manual torque can be estimated with a simple hardware configuration.</p>
<heading id="h0009">Brief Description of Drawings</heading>
<p id="p0008" num="0008">
<ul id="ul0001" list-style="none" compact="compact">
<li>[<figref idref="f0001">Fig. 1] Fig. 1</figref> is a left side view illustrating a power assist wheelchair according to an embodiment.</li>
<li>[<figref idref="f0002">Fig. 2] Fig. 2</figref> is a plan view illustrating the power assist wheelchair.</li>
<li>[<figref idref="f0003">Fig. 3] Fig. 3</figref> is a block diagram illustrating a control device for the power assist wheelchair according to the embodiment.</li>
<li>[<figref idref="f0004">Fig. 4] Fig. 4</figref> is a flowchart illustrating a control method for the power assist wheelchair according to the embodiment.</li>
<li>[<figref idref="f0005">Fig. 5] Fig. 5</figref> is a block diagram illustrating a functional configuration of a control device according to a first control example.</li>
<li>[<figref idref="f0006">Fig. 6] Fig. 6</figref> is a flowchart illustrating a manual torque estimation routine according to the first control example.</li>
<li>[<figref idref="f0007">Fig. 7] Fig. 7</figref> is a flowchart illustrating a routine included in the manual torque estimation routine.</li>
<li>[<figref idref="f0008">Fig. 8] Fig. 8</figref> is a block diagram illustrating a functional configuration of a control device according to a second control example.<!-- EPO <DP n="12"> --></li>
<li>[<figref idref="f0009">Fig. 9] Fig. 9</figref> is a flowchart illustrating a manual torque estimation routine according to the second control example.</li>
<li>[<figref idref="f0010">Fig. 10] Fig. 10</figref> is a flowchart illustrating a routine included in the manual torque estimation routine.</li>
<li>[<figref idref="f0011">Fig. 11] Fig. 11</figref> is a block diagram illustrating a functional configuration of a control device according to a third control example.</li>
<li>[<figref idref="f0012">Fig. 12] Fig. 12</figref> is a flowchart illustrating a manual torque estimation routine according to the third control example.</li>
<li>[<figref idref="f0013">Fig. 13] Fig. 13</figref> is a flowchart illustrating a routine included in the manual torque estimation routine.</li>
<li>[<figref idref="f0014">Fig. 14] Fig. 14</figref> is a flowchart illustrating a routine included in the manual torque estimation routine.</li>
<li>[<figref idref="f0015">Fig. 15] Fig. 15</figref> is a flowchart illustrating a routine included in the manual torque estimation routine.</li>
<li>[<figref idref="f0016">Fig. 16] Fig. 16</figref> is a block diagram illustrating a functional configuration of a control device according to another embodiment.</li>
</ul></p>
<heading id="h0010">Description of Embodiments</heading>
<p id="p0009" num="0009">Hereinafter, embodiments of the present disclosure will be described with reference to the drawings.</p>
<p id="p0010" num="0010"><figref idref="f0001">Figs. 1</figref> and <figref idref="f0002">2</figref> are a left side view and a plan view illustrating a power assist wheelchair 1 (hereinafter also abbreviated as a "wheelchair 1") according to an embodiment. In the specification,<!-- EPO <DP n="13"> --> a forward direction, a backward direction, an upward direction, a downward direction, a left direction, and a right direction indicate a forward direction, a backward direction, an upward direction, a downward direction, a left direction, and a right direction when viewed from an occupant seated on a seat 5 of the wheelchair 1. The left and right direction is also referred to as a vehicle width direction. Arrows F in <figref idref="f0001">Fig. 1</figref> and <figref idref="f0002">Fig. 2</figref> represent the forward direction.</p>
<p id="p0011" num="0011">The wheelchair 1 includes a vehicle body frame 3 formed of a metal pipe and the like. A pair of left and right wheels 2L and 2R and a pair of left and right casters 4L and 4R are rotatably supported on the vehicle body frame 3. The vehicle body frame 3 includes a pair of left and right back frames 3b, a pair of left and right armrests 3c, and a pair of left and right seat frames 3d.</p>
<p id="p0012" num="0012">The seat frame 3d extends in the forward direction from the vicinity of the axles of the wheels 2L and 2R, and the seat 5 for seating an occupant is provided between the seat frames 3d. A front part of the seat frame 3d is bent in the downward direction, and a footrest 9 is provided at a front lower end of the seat frame 3d.</p>
<p id="p0013" num="0013">A rear end of the seat frame 3d is connected to the back frame 3b. The back frame 3b extends in the upward direction, and a back support 6 is provided between the back frames 3b. An upper part<!-- EPO <DP n="14"> --> of the back frame 3b is bent in the backward direction, and a hand grip 7 for a helper is provided.</p>
<p id="p0014" num="0014">The armrest 3c is disposed in the upward direction of the seat frame 3d. A rear end of the armrest 3c is connected to the back frame 3b. A front part of the armrest 3c is bent in the downward direction, and is connected to the seat frame 3d.</p>
<p id="p0015" num="0015">The wheels 2L and 2R include a disk-shaped hub 25 including the axle, an outer peripheral part 26 surrounding the hub 25, and a plurality of radially extending spokes 27 interposed between the hub 25 and the outer peripheral part 26. The outer peripheral part 26 includes a rim to which the spoke 27 is connected, and a tire mounted on the rim.</p>
<p id="p0016" num="0016">The wheelchair 1 includes hand rims 13L and 13R for manually driving the wheels 2L and 2R, respectively. The hand rims 13L and 13R are annularly formed and formed to have smaller diameters than those of the wheels 2L and 2R, and connected to a plurality of connection pipes 28 radially extending from the hub 25.</p>
<p id="p0017" num="0017">Further, the wheelchair 1 also includes electric motors 21L and 21R for respectively driving the wheels 2L and 2R. The electric motors 21L and 21R are formed of, for example, a brushless DC motor or an AC servo motor, and include encoders 24L and 24R (refer to <figref idref="f0003">Fig. 3</figref>) for detecting rotation.</p>
<p id="p0018" num="0018"><!-- EPO <DP n="15"> --> Specifically, the left hand rim 13L is disposed on the outside in the vehicle width direction with respect to the left wheel 2L. The occupant of the wheelchair 1 manually drives the left wheel 2L by rotating the left hand rim 13L. Further, the left electric motor 21L is disposed on the inside in the vehicle width direction with respect to the left wheel 2L. The left wheel 2L rotates integrally with the left electric motor 21L. The left electric motor 21L may be coaxially provided with the left wheel 2L, or may be connected thereto via a gear.</p>
<p id="p0019" num="0019">In the same manner, the right hand rim 13R is disposed on the outside in the vehicle width direction with respect to the right wheel 2R. The occupant of the wheelchair 1 manually drives the right wheel 2R by rotating the right hand rim 13R. Further, the right electric motor 21R is disposed on the inside in the vehicle width direction with respect to the right wheel 2R. The right wheel 2R rotates integrally with the right electric motor 21R. The right electric motor 21R may be coaxially provided with the right wheel 2R, or may be connected thereto via a gear.</p>
<p id="p0020" num="0020">As illustrated in <figref idref="f0003">Fig. 3</figref>, the wheelchair 1 includes controllers 30L and 30R for respectively controlling the electric motors 21L and 21R. In this example, two controllers 30L and 30R for respectively controlling the electric motors 21L and 21R are provided as a control device according to the embodiment, but this example is not limited thereto, and one controller for controlling the both electric motors 21L and 21R may be provided.<!-- EPO <DP n="16"> --></p>
<p id="p0021" num="0021">Specifically, the left encoder 24L provided in the left electric motor 21L detects the rotation of the left electric motor 21L, and outputs a detection signal corresponding to the rotation to the left controller 30L. The left controller 30L determines a target current of the left electric motor 21L based upon the detection signal of the left encoder 24L, and controls a current to be outputted to the left electric motor 21L so that the target current flows. Accordingly, an assist torque to be outputted by the left electric motor 21L is adjusted.</p>
<p id="p0022" num="0022">In the same manner, the right encoder 24R provided in the right electric motor 21R detects the rotation of the right electric motor 21R, and outputs a detection signal corresponding to the rotation to the right controller 30R. The right controller 30R determines a target current of the right electric motor 21R based upon the detection signal of the right encoder 24R, and controls a current to be outputted to the right electric motor 21R so that the target current flows. Accordingly, an assist torque to be outputted by the right electric motor 21R is adjusted.</p>
<p id="p0023" num="0023">The controllers 30L and 30R respectively include a microprocessor and a storage unit, and the microprocessor executes processing according to a program stored in the storage unit. The storage unit includes a main storage unit (for example, a RAM) and an auxiliary storage unit (for example, a non-volatile semiconductor memory) . The program is supplied to the storage unit<!-- EPO <DP n="17"> --> via an information storage medium or a communication line.</p>
<p id="p0024" num="0024">The controllers 30L and 30R respectively include a motor driver, an AD converter, a communication interface in addition to the microprocessor and the storage unit. The left controller 30L and the right controller 30R transmit and receive information to and from each other by communication using, for example, a CAN (Controller Area Network).</p>
<p id="p0025" num="0025">A battery 22 for supplying electric power to the electric motors 21L and 21R and the controllers 30L and 30R is mounted on the wheelchair 1. In this example, the battery 22 is detachably disposed at the right rear part of the vehicle body frame 3. Further, the wheelchair 1 includes a cable 23 including a feed line and a communication line extending in the left and right direction in the rear direction of the back support 6.</p>
<p id="p0026" num="0026">In this example, the electric power is directly supplied from the battery 22 to the right electric motor 21R and the right controller 30R, and the electric power is supplied from the battery 22 to the left electric motor 21L and the left controller 30L via the cable 23. Further, the left controller 30L and the right controller 30R transmit and receive the information to and from each other via the communication line included in the cable 23.</p>
<p id="p0027" num="0027">The wheelchair 1 includes a power assist unit 10 for the wheelchair (hereinafter also abbreviated as a "unit 10") according<!-- EPO <DP n="18"> --> to the embodiment attachable to and detachable from the vehicle body frame 3. The unit 10 includes the wheels 2L and 2R, the hand rims 13L and 13R, the electric motors 21L and 21R, the encoders 24L and 24R, and the controllers 30L and 30R. Further, the unit 10 also includes the battery 22 and the cable 23.</p>
<p id="p0028" num="0028">The unit 10 can also be attached to and detached from a vehicle body frame different from the vehicle body frame 3. For example, it is possible to change a general wheelchair into the power assist wheelchair 1 by removing the wheels from the vehicle body frame of the general wheelchair and by mounting the unit 10 on the vehicle body frame thereof.</p>
<p id="p0029" num="0029">Hereinafter, the control of the electric motors 21L and 21R by the controllers 30L and 30R will be specifically described. Further, in the following description, the wheels 2L and 2R are collectively referred to as the "wheel 2"; the hand rims 13L and 13R are collectively referred to as the "hand rim 13"; the electric motors 21L and 21R are collectively referred to as the "electric motor 21"; the encoders 24L and 24R are collectively referred to as the "encoder 24"; and the controllers 30L and 30R are collectively referred to as the "controller 30".</p>
<p id="p0030" num="0030"><figref idref="f0004">Fig. 4</figref> is a flowchart illustrating a control method according to an embodiment. The controller 30 implements a control method illustrated in <figref idref="f0004">Fig. 4</figref> in such a manner that the microprocessor executes the processing according to the program according to the<!-- EPO <DP n="19"> --> embodiment stored in the storage unit.</p>
<p id="p0031" num="0031">First, the controller 30 defines necessary variables such as a gravitational acceleration, a deceleration ratio, and a motor torque constant (S1). Specifically, the controller 30 reads out a value corresponding to each variable from the storage unit, and inputs the read value to each variable.</p>
<p id="p0032" num="0032">Next, the controller 30 acquires an encoder value and a motor output current (S2). The encoder value is a value of the detection signal of the encoder 24 representing the rotation of the electric motor 21. The motor output current is an amount of current outputted from the controller 30 to the electric motor 21.</p>
<p id="p0033" num="0033">Next, the controller 30 executes a manual torque estimation routine that estimates manual torque based upon the acquired encoder value and the motor output current (S3). The manual torque is torque inputted from the outside such as, for example, torque inputted to the wheel 2 by rotating the hand rim 13 by an occupant of the wheelchair 1. The manual torque is not limited thereto, and for example, the manual torque may be torque inputted to the wheel 2 by pressing the hand grip 7 by a helper, may be torque inputted to the wheel 2 by kicking the floor by the occupant, and may be torque inputted to the wheel 2 by directly rotating the wheel 2 by the occupant.</p>
<p id="p0034" num="0034">Next, the controller 30 executes a target current<!-- EPO <DP n="20"> --> determination routine that determines a motor target current based upon the estimated manual torque (S4). The motor target current is a target current of the electric motor 21, and is a current amount of the electric motor 21 which is set as the target of the controller 30.</p>
<p id="p0035" num="0035">The controller 30 repeats steps S2 to S4 while a power supply state is ON (S5: YES). When the power supply state is OFF (S5: NO), the controller 30 terminates the processing.</p>
<p id="p0036" num="0036">Hereinafter, specific examples of the manual torque estimation routine S3 and the target current determination routine S4 will be described. In the first to third control examples described hereinbelow, estimation methods of the manual torque are different from each other.</p>
<heading id="h0011">[First Control Example]</heading>
<p id="p0037" num="0037"><figref idref="f0005">Fig. 5</figref> is a block diagram illustrating a functional configuration of the controller 30 (hereinafter also referred to as a controller 30A) according to a first control example. Each function block is implemented in such a manner that the microprocessor included in the controller 30 executes the processing according to the program stored in the storage unit.</p>
<p id="p0038" num="0038">The controller 30A includes a manual torque estimation unit 40 (hereinafter also referred to as a manual torque estimation unit 40A) and a target current determination unit 50 according to the<!-- EPO <DP n="21"> --> first control example. The manual torque estimation unit 40 executes the manual torque estimation routine S3, and the target current determination unit 50 executes the target current determination routine S4. The manual torque estimation unit 40 is an example of a manual torque value calculation unit.</p>
<p id="p0039" num="0039">The manual torque estimation unit 40A includes an angular velocity-torque conversion unit 41, a motor current-torque conversion unit 43, a low pass filter 44, a subtraction unit 45, a wheel torque conversion unit 47, and a low pass filter 49.</p>
<p id="p0040" num="0040">The angular velocity-torque conversion unit 41 is an example of a total torque value calculation unit, and calculates a total torque value T<sub>total</sub> based upon the detection signal of the encoder 24. Specifically, the angular velocity-torque conversion unit 41 converts a motor angular velocity ω<sub>Mtr</sub> calculated from the encoder value into the total torque value T<sub>total</sub>. The total torque value T<sub>total</sub> is calculated as torque acting on the electric motor 21. The total torque value T<sub>total</sub> calculated by the angular velocity-torque conversion unit 41 is outputted to the subtraction unit 45.</p>
<p id="p0041" num="0041">The total torque includes the manual torque inputted from the outside and the assist torque outputted from the electric motor 21. Since the wheel 2 and the electric motor 21 integrally rotate, the detection signal of the encoder 24 that detects the rotation of the electric motor 21 represents the rotation by the total torque acting on the wheel 2 (that is, the sum of the manual torque inputted<!-- EPO <DP n="22"> --> from the outside and the assist torque outputted from the electric motor 21).</p>
<p id="p0042" num="0042">Among the equations multiplied in the motor angular velocity ω<sub>Mtr</sub> in the angular velocity-torque conversion unit 41, τ is a time constant of the low pass filter, s is a Laplace operator, J<sub>Mtr</sub> is an inertia moment of the electric motor 21, and D<sub>Mtr</sub> is a viscosity coefficient of the electric motor 21. The denominator of the equation is a component of the low pass filter, and the numerator thereof is a component that converts angular velocity into torque.</p>
<p id="p0043" num="0043">The angular velocity-torque conversion unit 41 calculates the total torque value T<sub>total</sub> based upon "only" the detection signal of the encoder 24. The meaning of based upon "only" the detection signal of the encoder 24 indicates that no detection signal other than the detection signal of the encoder 24 is used among the detection signals inputted to the controller 30. For example, even though an acceleration sensor is provided and a detection signal of the acceleration sensor is inputted to the controller 30, the detection signal of the acceleration sensor is not used for the calculation of the total torque value T<sub>total</sub>.</p>
<p id="p0044" num="0044">The motor current-torque conversion unit 43 is an example of an assist torque value calculation unit, and calculates an assist torque value T<sub>ast</sub> based upon a motor output current i<sub>Mtr</sub>. The assist torque is torque outputted from the electric motor 21. Specifically, the motor current-torque conversion unit 43<!-- EPO <DP n="23"> --> calculates the assist torque value T<sub>ast</sub> by multiplying the motor output current i<sub>Mtr</sub> by a motor torque constant kt. The assist torque value T<sub>ast</sub> is calculated as torque acting on the electric motor 21.</p>
<p id="p0045" num="0045">The assist torque value T<sub>ast</sub> calculated by the motor current-torque conversion unit 43 is outputted to the subtraction unit 45 via the low pass filter 44.</p>
<p id="p0046" num="0046">The subtraction unit 45 calculates a difference T<sub>dif</sub> between the total torque value T<sub>total</sub> from the angular velocity-torque conversion unit 41 and the assist torque value T<sub>ast</sub> from the motor current-torque conversion unit 43. Specifically, the subtraction unit 45 calculates the difference T<sub>dif</sub> by subtracting the assist torque value T<sub>ast</sub> from the total torque value T<sub>total</sub>.</p>
<p id="p0047" num="0047">The difference T<sub>dif</sub> calculated by the subtraction unit 45 is converted from the torque acting on the electric motor 21 into the torque acting on the wheel 2 by the wheel torque conversion unit 47, and then is further outputted to the target current determination unit 50 as a manual torque value T<sub>in</sub> via the low pass filter 49. That is, the manual torque value T<sub>in</sub> is calculated as the torque acting on the wheel 2.</p>
<p id="p0048" num="0048">In the wheel torque conversion unit 47, β to be multiplied by the difference T<sub>dif</sub> is transmission efficiency from the electric motor 21 to the wheel 2, and gr is a deceleration ratio of the electric motor 21 to the wheel 2.<!-- EPO <DP n="24"> --></p>
<p id="p0049" num="0049">The target current determination unit 50 includes a motor torque conversion unit 51, an assist ratio multiplication unit 53, and a torque-motor current conversion unit 55.</p>
<p id="p0050" num="0050">The motor torque conversion unit 51 divides the manual torque value T<sub>in</sub> from the manual torque estimation unit 40A by the deceleration ratio gr, thereby converting the manual torque value T<sub>in</sub> from the torque acting on the wheel 2 into the torque acting on the electric motor 21. The converted manual torque value T<sub>in</sub> is outputted to the assist ratio multiplication unit 53.</p>
<p id="p0051" num="0051">The assist ratio multiplication unit 53 multiplies the manual torque value T<sub>in</sub> converted into the torque acting on the electric motor 21 by a predetermined assist ratio α. The assist ratio α is, for example, a value which is greater than 0 and equal to or smaller than 2. Further, the assist ratio α may be changed according to a vehicle speed of the wheelchair 1 calculated from the detection signal of the encoder 24.</p>
<p id="p0052" num="0052">The torque-motor current conversion unit 55 calculates the target current of the electric motor 21 based upon the manual torque value T<sub>in</sub> multiplied by the assist ratio α. Specifically, the torque-motor current conversion unit 55 calculates the target current of the electric motor 21 by dividing the manual torque value T<sub>in</sub> multiplied by the assist ratio by the motor torque constant kt.</p>
<p id="p0053" num="0053"><!-- EPO <DP n="25"> --> The controller 30 controls a current outputted to the electric motor 21 so that the target current flows. The current outputted from the controller 30 to the electric motor 21 is detected as the motor output current i<sub>Mtr</sub>, and is used for calculating the assist torque value T<sub>ast</sub> by the motor current-torque conversion unit 43.</p>
<p id="p0054" num="0054"><figref idref="f0006">Fig. 6</figref> is a flowchart illustrating a manual torque estimation routine (hereinafter also referred to as a manual torque estimation routine S6A) according to the first control example. <figref idref="f0007">Fig. 7</figref> is a flowchart illustrating a total torque-assist torque subtraction routine S12 included in the manual torque estimation routine S6A.</p>
<p id="p0055" num="0055">In the manual torque estimation routine S6A illustrated in <figref idref="f0006">Fig. 6</figref>, the controller 30A first calculates the motor angular velocity ω<sub>Mtr</sub> from the encoder value (S11). Next, the controller 30A executes the total torque-assist torque subtraction routine S12. The total torque-assist torque subtraction routine S12 is executed in a block group 401A of the controller 30A illustrated in <figref idref="f0005">Fig. 5</figref>.</p>
<p id="p0056" num="0056">In the total torque-assist torque subtraction routine S12 illustrated in <figref idref="f0007">Fig. 7</figref>, the controller 30A first converts the motor output current i<sub>Mtr</sub> into the assist torque value T<sub>ast</sub> (S21: operation as the motor current-torque conversion unit 43). Next, the controller 30A performs low pass filter processing on the assist torque value T<sub>ast</sub> (S22: operation as the low pass filter 44).</p>
<p id="p0057" num="0057"><!-- EPO <DP n="26"> --> Next, the controller 30A converts the motor angular velocity ω<sub>Mtr</sub> into the total torque value T<sub>total</sub> (S23: operation as the angular velocity-torque conversion unit 41). Next, the controller 30A calculates the difference T<sub>dif</sub> between the total torque value T<sub>total</sub> and the assist torque value T<sub>ast</sub>, and converts the difference T<sub>dif</sub> into the torque acting on the wheel 2 (S24: operation as the subtraction unit 45 and the wheel torque conversion unit 47).</p>
<p id="p0058" num="0058">Referring back to <figref idref="f0006">Fig. 6</figref>, the controller 30A performs the low pass filter processing on the difference T<sub>dif</sub> calculated as the torque acting on the wheel 2 (S13: operation as the low pass filter 49). The difference T<sub>dif</sub> calculated in this manner is outputted as the manual torque value T<sub>in</sub>, and the manual torque estimation routine S6A is terminated.</p>
<p id="p0059" num="0059">In the first control example described above, since the total torque value T<sub>total</sub> is calculated based upon "only" the detection signal of the encoder 24 and then the manual torque value T<sub>in</sub> is calculated by using the total torque value T<sub>total</sub>, it is possible to estimate the manual torque with a simple hardware configuration. This is particularly advantageous for the power assist unit 10 for the wheelchair attachable to and detachable from the vehicle body frame 3.</p>
<p id="p0060" num="0060">On the other hand, since estimating the manual torque by using an acceleration sensor or a gyro sensor has a problem in that a detected value changes depending on a sensor mounting position,<!-- EPO <DP n="27"> --> the estimation is not particularly appropriate for a unit attachable to and detachable from various wheelchairs. That is, since it is desirable to set a sensor mounting position at the center of the wheelchair but the center of the wheelchair is different depending on the type of the wheelchair, it is difficult to always match the sensor mounting position with the center of the wheelchair.</p>
<heading id="h0012">[Second Control Example]</heading>
<p id="p0061" num="0061"><figref idref="f0008">Fig. 8</figref> is a block diagram illustrating a functional configuration of the controller 30 (hereinafter also referred to as a controller 30B) according to a second control example. A detailed description of a configuration overlapped with the above-described control example will be omitted by adding the same number thereto.</p>
<p id="p0062" num="0062">The controller 30B includes the manual torque estimation unit 40 (hereinafter also referred to as a manual torque estimation unit 40B) and the target current determination unit 50 according to the second control example. The manual torque estimation unit 40B includes an angular velocity-torque conversion unit 42, the motor current-torque conversion unit 43, the wheel torque conversion unit 47, the low pass filter 44, the subtraction unit 45, and the low pass filter 49.</p>
<p id="p0063" num="0063">The angular velocity-torque conversion unit 42 is an example of a total torque value calculation unit, and calculates the total torque value T<sub>total</sub> based upon the detection signal of the encoder<!-- EPO <DP n="28"> --> 24. Specifically, the angular velocity-torque conversion unit 42 converts the wheel angular velocity ω<sub>Whl</sub> calculated from the encoder value into the total torque value T<sub>total</sub>. The wheel angular velocity ω<sub>whl</sub> is obtained by dividing the motor angular velocity ω<sub>Mtr</sub> calculated from the encoder value by the deceleration ratio of the electric motor 21 to the wheel 2. The total torque value T<sub>total</sub> is calculated as the torque acting on the wheel 2.</p>
<p id="p0064" num="0064">Among the equations multiplied in the wheel angular velocity ω<sub>whl</sub> in the angular velocity-torque conversion unit 42, J<sub>Whl</sub> is an inertia moment of the wheel 2, and D<sub>Whl</sub> is a viscosity coefficient of the wheel 2.</p>
<p id="p0065" num="0065">The angular velocity-torque conversion unit 42 of the example also calculates the total torque value T<sub>total</sub> based upon "only" the detection signal of the encoder 24.</p>
<p id="p0066" num="0066">The assist torque value T<sub>ast</sub> calculated by the motor current-torque conversion unit 43 is converted from the torque acting on the electric motor 21 into the torque acting on the wheel 2 by the wheel torque conversion unit 47, and is further outputted to the subtraction unit 45 via the low pass filter 44.</p>
<p id="p0067" num="0067">The difference T<sub>dif</sub> calculated by the subtraction unit 45 is outputted to the target current determination unit 50 as the manual torque T<sub>in</sub> via the low pass filter 49. That is, the manual torque T<sub>in</sub> is calculated as the torque acting on the wheel 2.<!-- EPO <DP n="29"> --></p>
<p id="p0068" num="0068"><figref idref="f0009">Fig. 9</figref> is a flowchart illustrating the manual torque estimation routine (hereinafter also referred to as a manual torque estimation routine S6B) according to the second control example. <figref idref="f0010">Fig. 10</figref> is a flowchart illustrating a total torque-assist torque subtraction routine S32 included in the manual torque estimation routine S6B.</p>
<p id="p0069" num="0069">In the manual torque estimation routine S6B illustrated in <figref idref="f0009">Fig. 9</figref>, the controller 30B first calculates the motor angular velocity ω<sub>Mtr</sub> from the encoder value, and calculates the wheel angular velocity ω<sub>Whl</sub> from the motor angular velocity ω<sub>Mtr</sub> (S31). In this example, as described above, the wheel angular velocity ω<sub>Whl</sub> is a value obtained by dividing the motor angular velocity ω<sub>Mtr</sub> by the deceleration ratio.</p>
<p id="p0070" num="0070">Next, the controller 30B executes the total torque-assist torque subtraction routine S32. The total torque-assist torque subtraction routine S32 is executed in a block group 401B of the controller 30B illustrated in <figref idref="f0008">Fig. 8</figref>.</p>
<p id="p0071" num="0071">In the total torque-assist torque subtraction routine S32 illustrated in <figref idref="f0010">Fig. 10</figref>, the controller 30B first converts the motor output current i<sub>Mtr</sub> into the assist torque value T<sub>ast</sub>, and converts the assist torque value T<sub>ast</sub> into the torque acting on the wheel 2 (S41: operation as the motor current-torque conversion unit 43 and the wheel torque conversion unit 47). Next, the controller 30B<!-- EPO <DP n="30"> --> performs the low pass filter processing on the assist torque value T<sub>ast</sub> (S42: operation as the low pass filter 44).</p>
<p id="p0072" num="0072">Next, the controller 30B converts the wheel angular velocity ω<sub>Whl</sub> into the total torque value T<sub>total</sub> (S43: operation as the angular velocity-torque conversion unit 42). Next, the controller 30B calculates the difference T<sub>dif</sub> between the total torque value T<sub>total</sub> and the assist torque value T<sub>ast</sub> (S44: operation as the subtraction unit 45).</p>
<p id="p0073" num="0073">Referring back to <figref idref="f0009">Fig. 9</figref>, the controller 30B performs the low pass filter processing on the difference T<sub>dif</sub> (S33: operation as the low pass filter 49). The difference T<sub>dif</sub> calculated in this manner is outputted as the manual torque value T<sub>in</sub>, and the manual torque estimation routine S6B is terminated.</p>
<p id="p0074" num="0074">Also, in the second control example described above, in the same manner as that of the first control example, since the total torque value T<sub>total</sub> is calculated based upon "only" the detection signal of the encoder 24 and then the manual torque value T<sub>in</sub> is calculated by using the total torque value T<sub>total</sub>, it is possible to estimate the manual torque with a simple hardware configuration.</p>
<heading id="h0013">[Third Control Example]</heading>
<p id="p0075" num="0075">In the wheelchair 1, actually, the wheel 2 may twist with respect to the axle. Specifically, a phase of the outer ring side of the wheel 2 and the axle side thereof may be deviated by elastic<!-- EPO <DP n="31"> --> deformation of a member between the outer periphery of the wheel 2 and the axle thereof. For example, the spoke 27 between the outer peripheral part 26 of the wheel 2 and the hub 25 illustrated in <figref idref="f0001">Fig. 1</figref> is mainly elastically deformed. Therefore, in this example, the manual torque is estimated in consideration of such a twist.</p>
<p id="p0076" num="0076"><figref idref="f0011">Fig. 11</figref> is a block diagram illustrating a functional configuration of the controller 30 (hereinafter also referred to as a controller 30C) according to a third control example. A detailed description of a configuration overlapped with the above-described control example will be omitted by adding the same number thereto. The controller 30C includes the manual torque estimation unit 40 (hereinafter also referred to as a manual torque estimation unit 40C) and the target current determination unit 50 according to the third control example.</p>
<p id="p0077" num="0077">The manual torque estimation unit 40C includes a block group 401C that calculates a twist torque value T<sub>tor</sub> that causes a twist; a block group 402C that calculates the wheel angular velocity ω<sub>Whl</sub> based upon the twist torque value T<sub>tor</sub>; and a block group 403C that calculates the manual torque value T<sub>in</sub>.</p>
<p id="p0078" num="0078">The block group 401C that calculates the twist torque value T<sub>tor</sub> is an example of a twist torque value calculation unit. Since the block group 401C is common to the block group 401A in the first control example, a detailed description thereof will be omitted. In this example, the difference T<sub>dif</sub> converted into the torque acting<!-- EPO <DP n="32"> --> on the wheel 2 (the difference between the total torque value T<sub>total</sub> calculated based upon the motor angular velocity ω<sub>Mtr</sub> and the assist torque value T<sub>ast</sub> calculated based upon the motor output current i<sub>Mtr</sub>) is outputted as the twist torque value T<sub>tor</sub>.</p>
<p id="p0079" num="0079">The block group 402C that calculates the wheel angular velocity ω<sub>Whl</sub> includes a wheel angular velocity conversion unit 61, a low pass filter 62, a twist angle conversion unit 64, a twist angular velocity conversion unit 65, a low pass filter 66, and a subtraction unit 68.</p>
<p id="p0080" num="0080">The wheel angular velocity conversion unit 61 converts the motor angular velocity ω<sub>Mtr</sub> into the angular velocity of the wheel 2 by dividing the motor angular velocity ω<sub>Mtr</sub> calculated from the encoder value by the deceleration ratio gr of the electric motor 21 to the wheel 2. The motor angular velocity ω<sub>Mtr</sub> converted into the angular velocity of the wheel 2 is outputted to the subtraction unit 68 via the low pass filter 62.</p>
<p id="p0081" num="0081">The twist angle conversion unit 64 calculates a twist angle Δθ based upon the twist torque value T<sub>tor</sub>. The twist angle Δθ is calculated by dividing the twist torque value T<sub>tor</sub> by a twist spring constant K. The twist angle Δθ represents an angle difference with respect to the axle of the wheel 2. That is, the twist angle Δθ is an angle difference generated between the axle side and the outer ring side by the twist torque acting on the axle side of the wheel 2.<!-- EPO <DP n="33"> --></p>
<p id="p0082" num="0082">The twist angular velocity conversion unit 65 calculates a twist angular velocity Δω based upon the twist angle Δθ. The twist angular velocity Δω is calculated by time-differentiating the twist angle Δθ. The twist angular velocity Δω is an angular velocity difference generated between the axle side and the outer ring side by the twist torque acting on the axle side of the wheel 2. The twist angular velocity Δω is outputted to the subtraction unit 68 via the low pass filter 66.</p>
<p id="p0083" num="0083">The subtraction unit 68 outputs a difference obtained by subtracting the twist angular velocity Δω from the motor angular velocity ω<sub>Mtr</sub> converted into the angular velocity of the wheel 2 as the wheel angular velocity ω<sub>Whl</sub>. Thus, the wheel angular velocity ω<sub>Whl</sub> closer to an actual value in consideration of the twist is obtained, and the obtained wheel angular velocity ω<sub>Whl</sub> is used for estimating the manual torque.</p>
<p id="p0084" num="0084">The block group 403C that calculates the manual torque value T<sub>in</sub> includes an angular velocity-torque conversion unit 71, a low pass filter 73, a subtraction unit 75, and a low pass filter 77.</p>
<p id="p0085" num="0085">The angular velocity-torque conversion unit 71 is an example of a total torque value calculation unit, and calculates a total torque value T<sub>total_whl</sub>. Specifically, the angular velocity-torque conversion unit 71 converts the wheel angular velocity ω<sub>Whl</sub> in consideration of the twist from the block group 402C (that is, the<!-- EPO <DP n="34"> --> difference obtained by subtracting the twist angular velocity Δω from the motor angular velocity ω<sub>Mtr</sub> converted into the angular velocity of the wheel 2) into the total torque value T<sub>total_whl</sub>. The total torque value T<sub>total_whl</sub> calculated by the angular velocity-torque conversion unit 71 is outputted to the subtraction unit 75.</p>
<p id="p0086" num="0086">On the other hand, the twist torque value T<sub>tor</sub> from the block group 401C is outputted to the subtraction unit 75 via the low pass filter 73.</p>
<p id="p0087" num="0087">The subtraction unit 75 calculates a difference T<sub>dif_whl</sub> between the total torque value T<sub>total whl</sub> from the angular velocity-torque conversion unit 71 and the twist torque value T<sub>tor</sub> from the low pass filter 73. Specifically, the subtraction unit 75 calculates the difference T<sub>dif_whl</sub> by subtracting the twist torque value T<sub>tor</sub> from the total torque value T<sub>total whl</sub>. The difference T<sub>dif whl</sub> calculated by the subtraction unit 75 is outputted to the target current determination unit 50 as the manual torque value T<sub>in</sub> via the low pass filter 77.</p>
<p id="p0088" num="0088"><figref idref="f0012">Fig. 12</figref> is a flowchart illustrating the manual torque estimation routine (hereinafter also referred to as a manual torque estimation routine S6C) according to the third control example. <figref idref="f0013 f0014 f0015">Figs. 13 to 15</figref> are flowcharts illustrating a twist torque calculation routine S52, a wheel angular velocity calculation routine S53, and a total torque-twist torque subtraction routine<!-- EPO <DP n="35"> --> S53 included in the manual torque estimation routine S6C.</p>
<p id="p0089" num="0089">In the manual torque estimation routine S6C illustrated in <figref idref="f0012">Fig. 12</figref>, the controller 30C first calculates the motor angular velocity ω<sub>Mtr</sub> from the encoder value (S51). Next, the controller 30C executes the twist torque calculation routine S52. The twist torque calculation routine S52 is executed in the block group 401C of the controller 30C illustrated in <figref idref="f0011">Fig. 11</figref>.</p>
<p id="p0090" num="0090">In the twist torque calculation routine S52 illustrated in <figref idref="f0013">Fig. 13</figref>, the controller 30C first converts the motor output current i<sub>Mtr</sub> into the assist torque value T<sub>ast</sub> (S61: operation as the motor current-torque conversion unit 43). Next, the controller 30C performs the low pass filter processing on the assist torque value T<sub>ast</sub> (S62: operation as the low pass filter 44).</p>
<p id="p0091" num="0091">Next, the controller 30C converts the motor angular velocity ω<sub>Mtr</sub> into the total torque value T<sub>total</sub> (S63: operation as the angular velocity-torque conversion unit 41). Next, the controller 30C calculates the difference T<sub>dif</sub> between the total torque value T<sub>total</sub> and the assist torque value T<sub>ast</sub>, and converts the difference T<sub>dif</sub> into the torque acting on the wheel 2 (S64: operations as the subtraction unit 45 and the wheel torque conversion unit 47).</p>
<p id="p0092" num="0092">The difference T<sub>dif</sub> converted into the torque acting on the wheel 2 (the difference between the total torque value T<sub>total</sub> calculated based upon the motor angular velocity ω<sub>Mtr</sub> and the assist<!-- EPO <DP n="36"> --> torque value T<sub>ast</sub> calculated based on the motor output current i<sub>Mtr</sub>) is outputted as the twist torque value T<sub>tor</sub>.</p>
<p id="p0093" num="0093">Next, in the manual torque estimation routine S6C illustrated in <figref idref="f0012">Fig. 12</figref>, the controller 30C executes the wheel angular velocity calculation routine S53. The wheel angular velocity calculation routine S53 is executed in the block group 402C of the controller 30C illustrated in <figref idref="f0011">Fig. 11</figref>.</p>
<p id="p0094" num="0094">In the wheel angular velocity calculation routine S53 illustrated in <figref idref="f0014">Fig. 14</figref>, the controller 30C first calculates the twist angle Δθ from the twist torque value T<sub>tor</sub>, calculates the twist angular velocity Δω from the twist angle Δθ, and performs the low pass filter processing on the twist angular velocity Δω (S71: operations as the twist angle conversion unit 64, the twist angular velocity conversion unit 65, and the low pass filter 66).</p>
<p id="p0095" num="0095">Next, the controller 30C converts the motor angular velocity ω<sub>Mtr</sub> into the angular velocity of the wheel 2 and performs the low pass filter processing (S72: operation as the wheel angular velocity conversion unit 61 and the low pass filter 62). Next, the controller 30C calculates the wheel angular velocity ω<sub>whl</sub> from the motor angular velocity ω<sub>Mtr</sub> converted into the angular velocity of the wheel 2 and the twist angular velocity Δω (S73: operation as the subtraction unit 68).</p>
<p id="p0096" num="0096">Next, in the manual torque estimation routine S6C illustrated<!-- EPO <DP n="37"> --> in <figref idref="f0012">Fig. 12</figref>, the controller 30C executes the total torque-twist torque subtraction routine S54. The total torque-twist torque subtraction routine S54 is executed in the block group 403C of the controller 30C illustrated in <figref idref="f0011">Fig. 11</figref>.</p>
<p id="p0097" num="0097">In the total torque-twist torque subtraction routine S54 illustrated in <figref idref="f0015">Fig. 15</figref>, the controller 30C first converts the wheel angular velocity ω<sub>whl</sub> into the total torque value T<sub>total whl</sub> (S81: operation as the angular velocity-torque conversion unit 71). Next, the controller 30C performs the low pass filter processing on the twist torque value T<sub>tor</sub> (S82: operation as the low pass filter 73) .</p>
<p id="p0098" num="0098">Next, the controller 30C calculates the difference T<sub>dif_whl</sub> between the total torque value T<sub>total_whl</sub> and the twist torque value T<sub>tor,</sub> and performs the low pass filter processing on the difference T<sub>dif whl</sub> (S83: operation as the subtraction unit 75 and the low pass filter 77). The difference T<sub>dif whl</sub> calculated in this manner is outputted as the manual torque value T<sub>in</sub>, and the manual torque estimation routine S6C is terminated.</p>
<p id="p0099" num="0099">In the third control example described above, since the twist torque value T<sub>tor</sub> is calculated and then the manual torque value T<sub>in</sub> is calculated by using the twist torque value T<sub>tor,</sub> it is possible to estimate the manual torque in consideration of the twist.</p>
<p id="p0100" num="0100">Further, in the third control example, the difference obtained by subtracting the twist angular velocity Δω from the motor<!-- EPO <DP n="38"> --> angular velocity ω<sub>Mtr</sub> converted into the angular velocity of the wheel 2 is defined as the wheel angular velocity ω<sub>Whl</sub>, and the total torque value T<sub>total_whl</sub> is calculated from the wheel angular velocity ω<sub>Whl.</sub> Accordingly, it is possible to calculate the total torque value T<sub>total whl</sub> more accurately.</p>
<p id="p0101" num="0101">Further, in the third control example, the twist angular velocity Δω is calculated based upon the twist torque value T<sub>tor</sub>. Thus, it is possible to use the twist torque value T<sub>tor</sub> not only for calculating the wheel angular velocity ω<sub>Whl</sub> by the block group 402C and but also for calculating the manual torque value T<sub>in</sub> by the block group 403C.</p>
<heading id="h0014">[Other Embodiments]</heading>
<p id="p0102" num="0102"><figref idref="f0016">Fig. 16</figref> is a block diagram illustrating a functional configuration of a control device according to another embodiment. In the embodiment, the controllers 30R and 30L respectively determine motor output currents i<sub>MtrR</sub> and i<sub>MtrL</sub> while transmitting and receiving information to and from each other.</p>
<p id="p0103" num="0103">The right controller 30R includes a manual torque estimation unit 40R and a target current determination unit 50R. The manual torque estimation unit 40R calculates a manual torque value T<sub>inR</sub> of the right wheel 2R based upon a motor angular velocity ω<sub>MtrR</sub> of the right electric motor 21R and a motor output current i<sub>MtrR</sub> thereof. The target current determination unit 50R determines the motor output current i<sub>MtrR</sub> to be outputted to the right electric motor 21R<!-- EPO <DP n="39"> --> based upon the manual torque value T<sub>inR</sub> from the manual torque estimation unit 40R and a manual torque value T<sub>inL</sub> from the left controller 30L.</p>
<p id="p0104" num="0104">In the same manner, the left controller 30L includes a manual torque estimation unit 40L and a target current determination unit 50L. The manual torque estimation unit 40L calculates the manual torque value T<sub>inL</sub> of the left wheel 2L based upon a motor angular velocity ω<sub>MtrL</sub> of the left electric motor 21L and a motor output current i<sub>MtrL</sub> thereof. The target current determination unit 50L determines the motor output current i<sub>MtrL</sub> to be outputted to the left electric motor 21L based upon the manual torque value T<sub>inL</sub> from the manual torque estimation unit 40L and the manual torque value T<sub>inR</sub> from the right controller 30R.</p>
<p id="p0105" num="0105">One of the manual torque estimation units 40A to 40C according to the first to third control examples can be applied to the manual torque estimation units 40R and 40L.</p>
<p id="p0106" num="0106">The target current determination units 50R and 50L have the same configuration. Hereinafter, the target current determination unit 50R of the right controller 30R will be representatively described, and the detailed description of the target current determination unit 50L of the left controller 30L will be omitted.</p>
<p id="p0107" num="0107">The target current determination unit 50R includes a motor torque conversion unit 51R, an addition unit 521R, a subtraction<!-- EPO <DP n="40"> --> unit 523R, a straight-ahead assist ratio multiplication unit 531R, a turn assist ratio multiplication unit 533R, a subtraction unit 541R, a division unit 543R, and a torque-motor current conversion unit 55R.</p>
<p id="p0108" num="0108">The motor torque conversion unit 51R converts the manual torque value T<sub>inR</sub> from the manual torque estimation unit 40R into the torque acting on the electric motor 21 from the torque acting on the wheel 2. The motor torque conversion unit 51R outputs the converted manual torque value T<sub>inR</sub> to the addition unit 521R, the subtraction unit 523R, and the left controller 30L.</p>
<p id="p0109" num="0109">The addition unit 521R calculates an additional manual torque value T<sub>str</sub> by adding the manual torque value T<sub>inL</sub> from the left controller 30L to the manual torque value T<sub>inR</sub> from the motor torque conversion unit 51R, and the obtained value is outputted to the straight-ahead assist ratio multiplication unit 531R. The additional manual torque value T<sub>str</sub> represents a straight-ahead component of the manual torque inputted to the wheels 2R and 2L of the wheelchair 1.</p>
<p id="p0110" num="0110">The subtraction unit 523R calculates a subtraction manual torque value T<sub>rot</sub> by subtracting the manual torque value T<sub>inR</sub> from the motor torque conversion unit 51R from the manual torque value T<sub>inL</sub> from the left controller 30L, and the obtained value is outputted to the turn assist ratio multiplication unit 533R. The subtraction manual torque value T<sub>rot</sub> represents a turn component of the manual<!-- EPO <DP n="41"> --> torque inputted to the wheels 2R and 2L of the wheelchair 1.</p>
<p id="p0111" num="0111">In the embodiment, since the clockwise rotation of the yaw axis is positive and the counterclockwise rotation thereof is negative, the manual torque value T<sub>inR</sub> of the right wheel 2R is subtracted from the manual torque value T<sub>inL</sub> of the left wheel 2L. The addition manual torque value T<sub>str</sub> and the subtraction manual torque value T<sub>rot</sub> are represented by the following Equation 1: <maths id="math0001" num="[Equation 1]"><math display="block"><mtable columnalign="left"><mtr><mtd><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">str</mi></msub><mo>=</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">inL</mi></msub><mo>+</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">inR</mi></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">rot</mi></msub><mo>=</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">inL</mi></msub><mo>+</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="italic">inR</mi></msub></mtd></mtr></mtable></math><img id="ib0001" file="imgb0001.tif" wi="31" he="23" img-content="math" img-format="tif"/></maths></p>
<p id="p0112" num="0112">The straight-ahead assist ratio multiplication unit 531R multiplies the additional manual torque value T<sub>str</sub> from the addition unit 521R by a predetermined straight-ahead assist ratio α<sub>str,</sub> and outputs the obtained value to the subtraction unit 541. The turn assist ratio multiplication unit 533R multiplies the subtraction manual torque value T<sub>rot</sub> from the subtraction unit 523R by a predetermined turn assist ratio α<sub>rot</sub>, and outputs the obtained value to the subtraction unit 541.</p>
<p id="p0113" num="0113">The subtraction unit 541R subtracts the value from the turn assist ratio multiplication unit 533R from the value from the straight-ahead assist ratio multiplication unit 531R, and outputs the obtained value to the division unit 543R. The division unit 543R divides the value from the subtraction unit 541R by 2, and outputs the obtained value to the torque-motor current conversion<!-- EPO <DP n="42"> --> unit 55R as a right assist torque value T<sub>αR</sub>.</p>
<p id="p0114" num="0114">On the other hand, in the left controller 30L, an addition unit 542L adds a value from a turn assist ratio multiplication unit 533L to a value from a straight-ahead assist ratio multiplication unit 531L, and outputs the obtained value to a division unit 543L. The division unit 543L divides the value from the addition unit 542L by 2, and outputs the obtained value to a torque-motor current conversion unit 55L as a left assist torque value T<sub>αL</sub>.</p>
<p id="p0115" num="0115">The right assist torque value T<sub>αR</sub> and the left assist torque value T<sub>αL</sub> obtained in this manner are represented by the following Equation 2: <maths id="math0002" num="[Equation 2]"><math display="block"><mtable columnalign="left"><mtr><mtd><msub><mi>T</mi><mi mathvariant="italic">aR</mi></msub><mo>=</mo><mfrac><mrow><msub><mi>α</mi><mi mathvariant="italic">str</mi></msub><msub><mi>T</mi><mi mathvariant="italic">str</mi></msub><mo>−</mo><msub><mi>α</mi><mi mathvariant="italic">rot</mi></msub><msub><mi>T</mi><mi mathvariant="italic">rot</mi></msub></mrow><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><msub><mi>T</mi><mi mathvariant="italic">aL</mi></msub><mo>=</mo><mfrac><mrow><msub><mi>α</mi><mi mathvariant="italic">str</mi></msub><msub><mi>T</mi><mi mathvariant="italic">str</mi></msub><mo>+</mo><msub><mi>α</mi><mi mathvariant="italic">rot</mi></msub><msub><mi>T</mi><mi mathvariant="italic">rot</mi></msub></mrow><mn>2</mn></mfrac></mtd></mtr></mtable></math><img id="ib0002" file="imgb0002.tif" wi="41" he="33" img-content="math" img-format="tif"/></maths></p>
<p id="p0116" num="0116">The torque-motor current conversion unit 55R calculates a target current i<sub>MtrR</sub> of the right electric motor 21R based upon the right assist torque value T<sub>αR</sub> from the division unit 543R. The right controller 30R controls the current to be outputted to the right electric motor 21R so that the target current i<sub>MtrR</sub> flows.</p>
<p id="p0117" num="0117">In the same manner, in the left controller 30L, the torque-motor current conversion unit 55L calculates a target current i<sub>MtrL</sub> of the left electric motor 21L based upon the left assist<!-- EPO <DP n="43"> --> torque value T<sub>αL</sub> from the division unit 543L. The left controller 30L controls the current to be outputted to the left electric motor 21L so that the target current i<sub>MtrL</sub> flows.</p>
<p id="p0118" num="0118">In the embodiments described above, it is possible to control the straightness of the wheelchair 1 by the straight-ahead assist ratio α<sub>str</sub>, and it is possible to control the turnability of the wheelchair 1 by the turn assist ratio α<sub>rot</sub>. For example, it is possible to improve the straightness of the wheelchair 1 by making the straight-ahead assist ratio α<sub>str</sub> greater than the turn assist ratio α<sub>rot.</sub> Further, it is possible to improve the turnability of the wheelchair 1 by making the turn assist ratio α<sub>rot</sub> greater than the turn assist ratio α<sub>rot</sub>.</p>
<heading id="h0015">Reference Signs List</heading>
<p id="p0119" num="0119">
<dl id="dl0001" compact="compact">
<dt>1:</dt><dd>power assist wheelchair</dd>
<dt>2:</dt><dd>wheel</dd>
<dt>3:</dt><dd>vehicle body frame</dd>
<dt>4:</dt><dd>caster</dd>
<dt>5:</dt><dd>seat</dd>
<dt>6:</dt><dd>back support<!-- EPO <DP n="44"> --></dd>
<dt>7:</dt><dd>hand grip</dd>
<dt>9:</dt><dd>footrest</dd>
<dt>13:</dt><dd>hand rim</dd>
<dt>21:</dt><dd>electric motor</dd>
<dt>22:</dt><dd>battery</dd>
<dt>23:</dt><dd>cable</dd>
<dt>24:</dt><dd>encoder</dd>
<dt>25:</dt><dd>hub</dd>
<dt>26:</dt><dd>outer peripheral part</dd>
<dt>27:</dt><dd>spoke</dd>
<dt>28:</dt><dd>connection pipe</dd>
<dt>30:</dt><dd>controller</dd>
<dt>40:</dt><dd>manual torque estimation unit</dd>
<dt>41,</dt><dd>42: angular velocity-torque conversion unit</dd>
<dt>43:</dt><dd>motor current-torque conversion unit</dd>
<dt>44:</dt><dd>low pass filter</dd>
<dt>45:</dt><dd>subtraction unit</dd>
<dt>47:</dt><dd>wheel torque conversion unit</dd>
<dt>49:</dt><dd>low pass filter</dd>
<dt>50:</dt><dd>target current determination unit</dd>
<dt>51:</dt><dd>motor torque conversion unit</dd>
<dt>53:</dt><dd>assist ratio multiplication unit</dd>
<dt>55:</dt><dd>torque-motor current conversion unit</dd>
<dt>521:</dt><dd>addition unit</dd>
<dt>523:</dt><dd>subtraction unit</dd>
<dt>531:</dt><dd>straight-ahead assist ratio multiplication unit</dd>
<dt>533:</dt><dd>turn assist ratio multiplication unit<!-- EPO <DP n="45"> --></dd>
<dt>541:</dt><dd>subtraction unit</dd>
<dt>542:</dt><dd>addition unit</dd>
<dt>543:</dt><dd>division unit</dd>
<dt>61:</dt><dd>wheel angular velocity conversion unit</dd>
<dt>62:</dt><dd>low pass filter</dd>
<dt>64:</dt><dd>twist angle conversion unit</dd>
<dt>65:</dt><dd>twist angular velocity conversion unit</dd>
<dt>66:</dt><dd>low pass filter</dd>
<dt>68:</dt><dd>subtraction unit</dd>
<dt>71:</dt><dd>angular velocity-torque conversion unit</dd>
<dt>73:</dt><dd>low pass filter</dd>
<dt>75:</dt><dd>subtraction unit</dd>
<dt>77:</dt><dd>low pass filter</dd>
</dl></p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="46"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>A power assist wheelchair (1), comprising:
<claim-text>a wheel (2);</claim-text>
<claim-text>an electric motor (21) that drives the wheel (2);</claim-text>
<claim-text>an encoder (24) that detects rotation of the electric motor (21); and</claim-text>
<claim-text>a control device that controls the electric motor (21), wherein</claim-text>
<claim-text>the control device includes:
<claim-text>a total torque value calculation unit configured to calculate a total torque value (T<sub>total</sub>) based upon a detection signal of the encoder (24);</claim-text>
<claim-text>a twist torque value calculation unit configured to calculate a twist torque value (T<sub>tor</sub>) representing torque causing twist of the wheel (2) with respect to an axle;</claim-text>
<claim-text>a manual torque value calculation unit configured to calculate a manual torque value (T<sub>in</sub>) based upon a difference obtained by subtracting the twist torque value (T<sub>tor</sub>) from the total torque value (T<sub>total</sub>); and</claim-text>
<claim-text>a target current determination unit configured to determine a target current of the electric motor (21) based upon the manual torque value (Tin).</claim-text></claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The power assist wheelchair according to claim 1, wherein the total torque value calculation unit calculates the total torque value (T<sub>total</sub>) based upon a difference obtained by subtracting a twist angular velocity value representing an angular velocity of the twist from an angular velocity value calculated based upon the detection signal of the encoder.</claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The power assist wheelchair according to claim 2, wherein the twist angular velocity value is calculated based upon the twist torque value (T<sub>tor</sub>).</claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>The power assist wheelchair according to claim 1, wherein the twist torque value calculation unit calculates the twist torque value (T<sub>tor</sub>) based upon a difference obtained by subtracting an<!-- EPO <DP n="47"> --> assist torque value (T<sub>ast</sub>) calculated based upon an output current of the electric motor (21) from a torque value calculated based upon the detection signal of the encoder (24).</claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>A control method for a power assist wheelchair (1) including a wheel (2), an electric motor (21) that drives the wheel (2), and an encoder (24) that detects rotation of the electric motor (21), the method comprising:
<claim-text>calculating a total torque value (T<sub>total</sub>) based upon only a detection signal of the encoder (24);</claim-text>
<claim-text>calculating a twist torque value (T<sub>tor</sub>) representing torque causing twist of the wheel (2) with respect to an axle;</claim-text>
<claim-text>calculating a manual torque value (T<sub>in</sub>) based upon a difference obtained by subtracting the twist torque value (T<sub>tor</sub>) from the total torque value (T<sub>total</sub>); and</claim-text>
<claim-text>determining a target current of the electric motor (21) based upon the manual torque value (T<sub>in</sub>).</claim-text></claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="48"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Rollstuhl (1) mit elektrischer Unterstützung, umfassend:
<claim-text>ein Rad (2);</claim-text>
<claim-text>einen Elektromotor (21), der das Rad (2) antreibt;</claim-text>
<claim-text>einen Encoder (24), der die Drehung des Elektromotors (21) erfasst; und</claim-text>
<claim-text>eine Steuervorrichtung, die den Elektromotor (21) steuert, wobei</claim-text>
<claim-text>die Steuervorrichtung umfasst:
<claim-text>eine Gesamtdrehmomentwert-Berechnungseinheit, die so konfiguriert ist, dass sie einen Gesamtdrehmomentwert (T<sub>total</sub>) auf der Grundlage eines Erfassungssignals des Encoders (24) berechnet;</claim-text>
<claim-text>eine Torsionsdrehmomentwert-Berechnungseinheit, die so konfiguriert ist, dass sie einen Torsionsdrehmomentwert (T<sub>tor</sub>) berechnet, der ein Drehmoment darstellt, das eine Torsion des Rades (2) in Bezug auf eine Achse verursacht;</claim-text>
<claim-text>eine Einheit zur Berechnung eines manuellen Drehmomentwerts, die so konfiguriert ist, dass sie einen manuellen Drehmomentwert (T<sub>in</sub>) auf der Grundlage einer Differenz berechnet, die durch Subtraktion des Torsionsdrehmomentwerts (T<sub>tor</sub>) von dem Gesamtdrehmomentwert (T<sub>total</sub>) erhalten wird; und</claim-text>
<claim-text>eine Sollstrombestimmungseinheit, die so konfiguriert ist, dass sie einen Sollstrom des Elektromotors (21) auf der Grundlage des manuellen Drehmomentwerts (T<sub>in</sub>) bestimmt.</claim-text></claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Rollstuhl mit elektrischer Unterstützung nach Anspruch 1, wobei die Gesamtdrehmomentwert-Berechnungseinheit den Gesamtdrehmomentwert (T<sub>total</sub>) auf der Grundlage einer Differenz berechnet, die durch Subtraktion eines Torsionswinkelgeschwindigkeitswerts, der eine Winkelgeschwindigkeit der Torsion darstellt, von einem Winkelgeschwindigkeitswert erhalten wird, der auf der Grundlage des Erfassungssignals des Encoders berechnet wird.</claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Rollstuhl mit elektrischer Unterstützung nach Anspruch 2, wobei der Torsionswinkelgeschwindigkeitswert auf der Grundlage des Torsionsdrehmomentwertes (T<sub>tor</sub>) berechnet wird.<!-- EPO <DP n="49"> --></claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Rollstuhl mit elektrischer Unterstützung nach Anspruch 1, wobei die Torsionsdrehmomentwert (T<sub>tor</sub>)-Berechnungseinheit den Torsionsdrehmomentwert (T<sub>tor</sub>) auf der Grundlage einer Differenz berechnet, die durch Subtraktion eines Hilfsdrehmomentwerts (T<sub>ast</sub>), der auf der Grundlage eines Ausgangsstroms des Elektromotors (21) berechnet wird, von einem Drehmomentwert, der auf der Grundlage des Erfassungssignals des Encoders (24) berechnet wird, erhalten wird.</claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Steuerungsverfahren für einen Rollstuhl (1) mit elektrischer Unterstützung mit einem Rad (2), einem Elektromotor (21), der das Rad (2) antreibt, und einem Encoder (24), der die Drehung des Elektromotors (21) erfasst, wobei das Verfahren umfasst:
<claim-text>Berechnen eines Gesamtdrehmomentwerts (T<sub>total</sub>) lediglich auf der Grundlage eines Erfassungssignals des Encoders (24);</claim-text>
<claim-text>Berechnen eines Torsionsdrehmomentwerts (T<sub>tor</sub>), der ein Drehmoment darstellt, das eine Torsion des Rades (2) in Bezug auf eine Achse verursacht;</claim-text>
<claim-text>Berechnen eines manuellen Drehmomentwerts (T<sub>in</sub>) auf der Grundlage einer Differenz, die durch Subtrahieren des Torsionsdrehmomentwerts (T<sub>tor</sub>) von dem Gesamtdrehmomentwert (T<sub>total</sub>) erhalten wird; und</claim-text>
<claim-text>Bestimmen eines Sollstroms des Elektromotors (21) basierend auf dem manuellen Drehmomentwert (Tin).</claim-text></claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="50"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Fauteuil roulant à assistance électrique (1), comprenant :
<claim-text>une roue (2) ;</claim-text>
<claim-text>un moteur électrique (21) qui entraîne la roue (2) ;</claim-text>
<claim-text>un encodeur (24) qui détecte la rotation du moteur électrique (21) ; et</claim-text>
<claim-text>un dispositif de commande qui commande le moteur électrique (21),</claim-text>
<claim-text>le dispositif de commande comprenant :
<claim-text>une unité de calcul de valeur de torque total conçue pour calculer une valeur de torque total (T<sub>total</sub>) sur la base d'un signal de détection de l'encodeur (24) ;</claim-text>
<claim-text>une unité de calcul de valeur de torque de torsion conçue pour calculer une valeur de torque de torsion (T<sub>tor</sub>) représentant le torque amenant la torsion de la roue (2) par rapport à un axe ;</claim-text>
<claim-text>une unité de calcul de valeur de torque manuel conçue pour calculer une valeur de torque manuel (T<sub>in</sub>) sur la base d'une différence obtenue par la soustraction de la valeur de torque de torsion (T<sub>tor</sub>) à partir de la valeur de torque total (T<sub>total</sub>) ; et</claim-text>
<claim-text>une unité de détermination de courant cible conçue pour déterminer un courant cible du moteur électrique (21) sur la base de la valeur de torque manuel (T<sub>in</sub>).</claim-text></claim-text><!-- EPO <DP n="51"> --></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Fauteuil roulant à assistance électrique selon la revendication 1, l'unité de calcul de valeur de torque total calculant la valeur de torque total (T<sub>total</sub>) sur la base d'une différence obtenue par soustraction d'une valeur de vitesse angulaire de torsion représentant une vitesse angulaire de la torsion à partir d'une valeur de vitesse angulaire calculée sur la base du signal de détection de l'encodeur.</claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Fauteuil roulant à assistance électrique selon la revendication 2, la valeur de vitesse angulaire de torsion étant calculée sur la base de la valeur de torque de torsion (T<sub>tor</sub>) .</claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Fauteuil roulant à assistance électrique selon la revendication 1, l'unité de calcul de valeur de torque de torsion calculant la valeur de torque de torsion (T<sub>tor</sub>) sur la base d'une différence obtenue par soustraction d'une valeur de torque d'assistance (T<sub>ast</sub>) calculée sur la base d'un courant de sortie du moteur électrique (21) à partir d'une valeur de torque calculée sur la base du signal de détection de l'encodeur (24).</claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé de commande d'un fauteuil roulant à assistance électrique (1) comprenant une roue (2), un moteur électrique (21) qui entraîne la roue (2), et un encodeur (24) qui détecte la rotation du moteur électrique (21), le procédé comprenant :
<claim-text>le calcul d'une valeur de torque total (T<sub>total</sub>) sur la base uniquement d'un signal de détection de l'encodeur (24) ;<!-- EPO <DP n="52"> --></claim-text>
<claim-text>le calcul d'une valeur de torque de torsion (T<sub>tor</sub>) représentant le torque amenant la torsion de la roue (2) par rapport à un axe ;</claim-text>
<claim-text>le calcul d'une valeur de torque manuel (T<sub>in</sub>) sur la base d'une différence obtenue par soustraction de la valeur de torque de torsion (T<sub>tor</sub>) à partir de la valeur de torque total (T<sub>total</sub>) ; et</claim-text>
<claim-text>la détermination d'un courant cible du moteur électrique (21) sur la base de la valeur de torque manuel (T<sub>in</sub>) .</claim-text></claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="53"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="145" he="155" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="150" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="132" he="133" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> -->
<figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="85" he="199" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> -->
<figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="141" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> -->
<figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="88" he="143" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> -->
<figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="68" he="171" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> -->
<figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="129" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> -->
<figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="89" he="147" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> -->
<figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="91" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> -->
<figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> -->
<figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="88" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> -->
<figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="87" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> -->
<figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="98" he="149" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> -->
<figure id="f0015" num="15"><img id="if0015" file="imgf0015.tif" wi="98" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> -->
<figure id="f0016" num="16"><img id="if0016" file="imgf0016.tif" wi="157" he="216" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="KR20140065291"><document-id><country>KR</country><doc-number>20140065291</doc-number></document-id></patcit><crossref idref="pcit0001">[0001]</crossref></li>
<li><patcit id="ref-pcit0002" dnum="JP2006230421A"><document-id><country>JP</country><doc-number>2006230421</doc-number><kind>A</kind></document-id></patcit><crossref idref="pcit0002">[0002]</crossref><crossref idref="pcit0003">[0003]</crossref><crossref idref="pcit0004">[0004]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
