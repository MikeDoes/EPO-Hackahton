<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP17913826B1" file="EP17913826NWB1.xml" lang="en" country="EP" doc-number="3611860" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3611860</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>17913826.8</B210><B220><date>20170615</date></B220><B240><B241><date>20191114</date></B241><B242><date>20210122</date></B242></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20200219</date><bnum>202008</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210623</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04L   1/18        20060101AFI20200410BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04W  72/02        20090101ALI20200410BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04W  72/04        20090101ALI20200410BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04L   1/1887      20130101 FI20200406BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>DATENÜBERTRAGUNG UND ZUGEHÖRIGES PRODUKT</B542><B541>en</B541><B542>DATA TRANSMISSION AND RELATED PRODUCT</B542><B541>fr</B541><B542>TRANSMISSION DE DONNÉES ET PRODUIT ASSOCIÉ</B542></B540><B560><B561><text>WO-A2-2009/044344</text></B561><B561><text>CN-A- 101 800 991</text></B561><B561><text>CN-A- 102 055 570</text></B561><B561><text>CN-A- 102 447 549</text></B561><B561><text>CN-A- 104 378 185</text></B561><B561><text>US-A1- 2011 103 327</text></B561><B562><text>SAMSUNG: "Text proposal to capture muting behaviour in 36.321", 3GPP DRAFT; R2-163672 TP FOR MUTING, 3RD GENERATION PARTNERSHIP PROJECT (3GPP), MOBILE COMPETENCE CENTRE ; 650, ROUTE DES LUCIOLES ; F-06921 SOPHIA-ANTIPOLIS CEDEX ; FRANCE , vol. RAN WG2, no. Nanjing, China; 20160523 - 20160527 22 May 2016 (2016-05-22), XP051105098, Retrieved from the Internet: URL:http://www.3gpp.org/ftp/Meetings_3GPP_ SYNC/RAN2/Docs/ [retrieved on 2016-05-22]</text></B562><B565EP><date>20200417</date></B565EP></B560></B500><B700><B720><B721><snm>TANG, Hai</snm><adr><str>No. 18 Haibin Road
Wusha
Chang'an</str><city>Dongguan
Guangdong 523860</city><ctry>CN</ctry></adr></B721></B720><B730><B731><snm>GUANGDONG OPPO MOBILE TELECOMMUNICATIONS 
CORP., LTD.</snm><iid>101838366</iid><irf>27B840012EP16W</irf><adr><str>No. 18 Haibin Road</str><city>Wusha, Chang'an
Dongguan,
Guangdong 523860</city><ctry>CN</ctry></adr></B731></B730><B740><B741><snm>Penza, Giancarlo</snm><iid>101616752</iid><adr><str>Bugnion S.p.A. 
Viale Lancetti, 17</str><city>20158 Milano</city><ctry>IT</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B860><B861><dnum><anum>CN2017088527</anum></dnum><date>20170615</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2018227512</pnum></dnum><date>20181220</date><bnum>201851</bnum></B871></B870></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">Technical Field</heading>
<p id="p0001" num="0001">The present invention relates to the technical field of communication, in particular to a data transmission method and a related product.</p>
<heading id="h0002">Background</heading>
<p id="p0002" num="0002">A Long Term Evolution (LTE) system uses shared resources to schedule user data. This scheduling method may utilize wireless communication resources to a great extent, but it requires large overhead of control information. In the LTE system, all voice services in a circuit domain are cancelled and are replaced by VoIP services in a data domain. However, as there are generally a large number of voice users and shared resources are used in LTE to schedule user data, and relevant control information is required for each transmission, the excessive overhead of control information limits the quantity of users that the LTE system may support at the same time. Therefore, a Semi-Persistent Scheduling (SPS) technology is introduced in LTE for real-time services with fixed packet sizes and regular arrival intervals. In short, Semi-Persistent scheduling means that in a scheduling and transmission process of LTE, an evolved Node B (eNB) indicates current scheduling information of a User Equipment (UE) through a Physical Downlink Control Channel (PDCCH) during initial scheduling. If it is identified to be Semi-Persistent scheduling by the UE, current scheduling information is saved, and the service data is sent or received at the same positions of time-frequency resources at fixed intervals.</p>
<p id="p0003" num="0003">In the LTE system, only one Semi-Persistent scheduling is allowed for the same UE, so the Semi-Persistent scheduling of the same UE will not conflict. At present, in a system with a 5-Generation (5G) mobile communication technology or a New Ratio interface (NR), it has been proposed that multiple Semi-Persistent schedulings may exist for the same UE. Then there may be conflicts among multiple Semi-Persistent schedulings of the same UE. Therefore, in 5G or NR, how to avoid conflicts among multiple Semi-Persistent schedulings of the same UE is a technical problem to be solved.</p>
<p id="p0004" num="0004">Document <nplcit id="ncit0001" npl-type="s"><text>XP51105098A, SAMSUNG, "Text proposal to capture muting behaviour in 36.321", 3GPP DRAFT; R2-163672 TP FOR MUTING, 3RD GENERATION PARTNERSHIP PROJECT (3GPP) Nanjing, China; 20160523 - 20160527 22 May 2016 (2016-05-22</text></nplcit>) discloses a text proposal to capture muting behavior.<!-- EPO <DP n="2"> --></p>
<heading id="h0003">Summary</heading>
<p id="p0005" num="0005">The invention is set out in the appended set of claims.</p>
<heading id="h0004">Brief Description of Drawings</heading>
<p id="p0006" num="0006">In order to explain technical schemes of the examples of the present invention more clearly, drawings referred to in the description of the examples will be briefly introduced below. Obviously, the drawings in the following description are some examples of the present invention. For those of ordinary skill in the art, other drawings may be obtained according to those drawings without paying an inventive effort.
<ul id="ul0001" list-style="none">
<li><figref idref="f0001">FIG. 1</figref> is a schematic diagram of a network architecture provided in an example of the present invention.</li>
<li><figref idref="f0002">FIG. 2</figref> is a schematic diagram of a flowchart of a data transmission method provided in an example of the present invention.</li>
<li><figref idref="f0002">FIG. 3</figref> is a schematic diagram of structure of a user equipment provided in an example of the present invention.</li>
<li><figref idref="f0003">FIG. 4</figref> is a schematic diagram of structure of a network device provided in an example of the present invention.</li>
<li><figref idref="f0003">FIG. 5</figref> is a schematic diagram of structure of another user equipment provided in an example of the present invention.</li>
<li><figref idref="f0004">FIG. 6</figref> is a schematic diagram of structure of another network device provided in an example of the present invention.</li>
<li><figref idref="f0004">FIG. 7</figref> is a schematic diagram of structure of another user equipment provided in an example of the present invention.</li>
</ul></p>
<heading id="h0005">Detailed Description</heading>
<p id="p0007" num="0007">Examples of the present invention provide a data transmission method and a related product, which avoiding the problem of conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0008" num="0008">It can be seen that in the solution, when the HARQ buffer of the user equipment is not empty, the grant used for data retransmission is the same as that used for previous data<!-- EPO <DP n="3"> --> transmission, thus avoiding conflicts between multiple Semi-Persistent schedulings of the same UE. In addition, when the HARQ buffer is empty, when the user equipment does not allow using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment only selects one grant of Semi-Persistent scheduling to transmit data, and when the user equipment allows using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment selects multiple grants of Semi-Persistent scheduling to transmit data, thus avoiding conflicts between multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0009" num="0009">These aspects and other aspects of the present application will be more simply understood in following description of the examples.</p>
<p id="p0010" num="0010">The technical solutions of the present application are clearly and completely described with reference to the accompanying drawings, in order to make the technical solutions of the present application more clearly understood by those skilled in the art. The described examples are only part, but not all, of the examples of the present application. Based on the examples of the present application, all other examples acquired by those skilled in the art without creative work are within the scope of the present application.</p>
<p id="p0011" num="0011">Details are given below separately.</p>
<p id="p0012" num="0012">The terms "first", "second", "third" and "fourth", or the like in the description, claims and drawings of the present application are used to distinguish different objects and not used to describe a specific order. In addition, term "include" and "have" and any variations thereof are intended to cover non-exclusive inclusion. For example, a process, method, system, product, or device that includes a series of acts or units is not limited to the listed acts or units, but optionally also includes acts or units that are not listed, or optionally also includes other acts or units that are inherent to the process, method, product, or device.</p>
<p id="p0013" num="0013">The "example" mentioned in this disclosure means that a particular feature, structure, or characteristic described in combination with the example may be included in at least one example of the present application. The appearance of the phrase in various places in the specification does not necessarily refer to the same example, nor is it an independent or alternative example mutually exclusive with other examples. It is explicitly and implicitly understood by one skilled person in the art that examples described in this disclosure may be combined with other examples.
<ol id="ol0001" compact="compact" ol-style="">
<li>1) A User Equipment (UE) is a device that provides voice and/or data connectivity to users, such as a handheld device with a wireless connection function, a vehicle-mounted device.<!-- EPO <DP n="4"> --> Common terminals include, for example, mobile phones, tablet computers, notebook computers, palm computers, mobile internet devices (MIDs), wearable devices such as smart watches, smart bracelets, pedometers, etc.</li>
</ol></p>
<p id="p0014" num="0014">A network device refers to a node device on the network side. For example, the network device may be a Radio Access Network (RAN) device on an access network side in a cellular network. The so-called RAN device is a device that connects terminals to a wireless network, including but not limited to: an Evolved Node B (eNB), a radio network controller (RNC), a Node B (NB), a Base Station Controller (BSC), a Base Transceiver Station (BTS), a Home Base Station (e.g., a Home evolved NodeB, or a Home Node B, HNB), a BaseBand Unit (BBU). For another example, the network device may be a node device in a Wireless Local Area Network (WLAN), such as an access controller (AC), a gateway, or a WIFI Access Point (AP).
<ul id="ul0002" list-style="none">
<li>3) Semi-Persistent scheduling means that in a scheduling and transmission process, an eNB indicates current scheduling information of a user equipment through a Physical Downlink Control Channel (PDCCH) in initial scheduling, the user equipment stores the current scheduling information, and transmits or receives service data at the same positions of time-frequency resources at fixed intervals.</li>
<li>4) Dynamic scheduling refers to real-time and dynamic allocation of time-frequency resources and allowed transmission rate through a Media Access Control (MAC) layer (scheduler) during scheduling. Resource allocation is based on demand, and each scheduling requires interaction of scheduling signalings.</li>
<li>5) Non-adaptive retransmission means that HARQ does not need authorization, and a user equipment retransmits data according to the resources and the modulation and coding method used in the previous transmission.</li>
<li>6) Adaptive retransmission is retransmission that requires authorized transmission through PDCCH masked by SPS-C-RNTI (identification of Semi-Persistent Scheduling).</li>
<li>7) "Multiple" refers to two or more than two. "And/or" describes an association relationship of associated objects, indicating that there may be three relationships, for example, A and/or B may represent three situations: A alone, A and B at the same time, and B alone. Symbol "/" generally indicates that objects before and after the symbol "/" is in an "or" relationship.</li>
</ul></p>
<p id="p0015" num="0015">Examples of the present application will be described below with reference to the accompanying drawings.<!-- EPO <DP n="5"> --></p>
<p id="p0016" num="0016">Please refer to <figref idref="f0001">FIG. 1</figref>, which is a schematic diagram of a network architecture disclosed in an example of the present application. The network architecture shown in <figref idref="f0001">FIG. 1</figref> includes a user equipment 110 and a network device 120. At present, in a 5G/NR system, it has been proposed that there may be multiple Semi-Persistent schedulings for the same user equipment, so there may be conflicts between multiple Semi-Persistent schedulings for the same user equipment. For example, assuming that a user equipment has two Semi-Persistent schedulings, the first Semi-Persistent scheduling starts transmission from the second ms and transmits one time every 3ms, and positions of time-frequency resources occupied by the first Semi-Persistent scheduling are: 2, 5, 8, 11, and 14. The second Semi-Persistent scheduling starts transmission from the first ms and transmits one time every 4ms, then positions of time-frequency resources occupied by the second Semi-Persistent scheduling are: 1, 5, 9, and 14. It can be seen that the first Semi-Persistent scheduling and the second Semi-Persistent scheduling conflict at the positions 5 and 14 of time-frequency resources.</p>
<p id="p0017" num="0017">In order to solve the problem, in the 5G/NR system, when a HARQ buffer of the user equipment 120 is not empty, the user equipment 120 selects a grant used for previous data transmission to transmit data that needs to be retransmitted. Since the grant used for data retransmission is the same as that used for previous data transmission, positions of time-frequency resources used for authorized scheduling are also the same. Since there is no problem of scheduling conflict in previous transmission, the grant used for the previous data transmission is used for retransmitting data, which may avoid conflicts among multiple Semi-Persistent schedulings of the same UE. In addition, when the HARQ buffer of the user equipment 120 is empty, according to an allowed carrier access manner, the user equipment 120 selects one current grant of Semi-Persistent scheduling to transmit new data or multiple current grants of Semi-Persistent scheduling to transmit new data. It can be seen that, when the user equipment 120 does not allow using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment 120 only selects one grant of Semi-Persistent scheduling to transmit data, and when the user equipment 120 allows using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment 120 selects multiple grants of Semi-Persistent scheduling to transmit data, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0018" num="0018">Next, a data transmission method provided in an example of the present application will be described in detail in combination with the network architecture shown in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0019" num="0019">Please refer to <figref idref="f0002">FIG. 2. FIG. 2</figref> is a schematic flowchart of a data transmission method<!-- EPO <DP n="6"> --> provided in an example of the present invention, and the method includes following acts S201 and S202.</p>
<p id="p0020" num="0020">In act S201, when a HARQ buffer of a user equipment is not empty, the user equipment selects a grant used for previous data transmission to retransmit data that needs to be retransmitted; a network device monitors resources of the grant used by the user equipment for previous data transmission to obtain data that needs to be retransmitted transmitted by the user equipment through the grant used for previous data transmission when the HARQ buffer of the user equipment is not empty.</p>
<p id="p0021" num="0021">In an example, when a HARQ buffer is not empty and a grant of dynamic scheduling of a current Transmission Time Interval (TTI) has no New Data Indicator (NDI) that is not toggled, the user equipment selects the grant used for previous data transmission to transmit data that needs to be retransmitted.</p>
<p id="p0022" num="0022">Specifically, since a grant of dynamic scheduling has no NDI that is not toggled, it indicates that the user equipment is not required by a network to perform retransmission on the grant of dynamic scheduling. But since the HARQ buffer is not empty, it indicates that the user equipment needs to perform retransmission, the user equipment can only perform retransmission on Semi-Persistent resources (i.e., non-adaptive retransmission). In this case, if there are multiple Semi-Persistent resources, and the user equipment selects other Semi-Persistent resources for retransmission, there may be a possibility of TBS inconsistency, so the user equipment should select original Semi-Persistent resources for retransmission.</p>
<p id="p0023" num="0023">Further, when the HARQ buffer is not empty and a grant of dynamic scheduling of a current TTI has a New Data Indicator (NDI) that is not toggled, the user equipment selects a current grant of dynamic scheduling to transmit data that needs to be retransmitted.</p>
<p id="p0024" num="0024">Specifically, a grant of dynamic scheduling has an NDI that is not toggled, which indicates that the network wants the user equipment to perform retransmission, and specially sends one grant of dynamic scheduling to the user equipment, and wants the user equipment to perform retransmission (i.e., adaptive retransmission) on the grant of dynamic scheduling, thus avoiding disadvantages of Semi-Persistent resources (e.g., fixed resource allocation and MCS).</p>
<p id="p0025" num="0025">In one example, if the grant used for previous data transmission is one grant of Semi-Persistent scheduling, the user equipment selects the one grant of the Semi-Persistent scheduling to transmit data that needs to be retransmitted, and the network device monitors resources of the one grant of the Semi-Persistent scheduling to obtain the data that needs to be<!-- EPO <DP n="7"> --> retransmitted transmitted by the user equipment.</p>
<p id="p0026" num="0026">If the grant used for previous data transmission is M grants of Semi-Persistent scheduling, the user equipment selects the M grants of Semi-Persistent scheduling to transmit the data that needs to be retransmitted, and the network device monitors resources of the M grants of Semi-Persistent scheduling to obtain the data that needs to be retransmitted transmitted by the user equipment, wherein the M is an integer greater than 1.</p>
<p id="p0027" num="0027">Specifically, the HARQ buffer of the user equipment being not empty indicates there are data not successfully received by the network device among data sent by the user equipment to the network device, and the user equipment needs to retransmit the data not successfully received by the network device to the network device. In the 5G/NR system, the user equipment selects the grant of the Semi-Persistent Scheduling used for previous data transmission to transmit the data that needs to be retransmitted. For example, the user equipment sends data packets 1 to 10 to the network device, wherein the data packets 2 and 3 have not been successfully received by the network device. If the grant of the Semi-Persistent Scheduling used by the user equipment to transmit data before includes grant 1 only, the user equipment selects grant 1 to transmit data packet 2 and data packet 3. If the grant of the Semi-Persistent Scheduling used by the user equipment for previous data transmission includes grant 2 and grant 3, the user equipment selects grant 2 and grant 3 to transmit data packet 2 and data packet 3. When there are multiple grants of Semi-Persistent scheduling used by the user equipment for previous data transmission, resources of the multiple grants of Semi-Persistent scheduling will not conflict.</p>
<p id="p0028" num="0028">It can be seen that since the grant used for data retransmission is the same as that used for previous data transmission, positions of time-frequency resources used for authorized scheduling are also the same. Since there is no problem of scheduling conflict in previous transmission, the grant used for the previous data transmission is used for retransmitting data, which may avoid conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0029" num="0029">Further, there are multiple grants of Semi-Persistent scheduling used by the user equipment for previous data transmission, and there are multiple data that needs to be retransmitted. If a grant of Semi-Persistent scheduling used for transmitting data i before is grant 1, the user equipment selects grant 1 to transmit data i, wherein the data i is one of multiple data that needs to be retransmitted, and grant 1 is one of the multiple grants of Semi-Persistent scheduling used by the user equipment for previous data transmission. For example, the user equipment sends data packets 1 to 10 to the network device, wherein the data<!-- EPO <DP n="8"> --> packets 2 and 3 have not been successfully received by the network device. The grant of the Semi-Persistent Scheduling used by the user equipment to transmit data includes grant 2 and grant 3. The user equipment used grant 2 to transmit data packet 2 and the user equipment used grant 3 to transmit data packet 3 before. In case of retransmission, the user equipment also uses grant 2 to retransmit data packet 2 and the user equipment also uses grant 3 to retransmit data packet 3.</p>
<p id="p0030" num="0030">Further, there are multiple grants of Semi-Persistent scheduling used by the user equipment for previous data transmission, and there are multiple data that needs to be retransmitted. If a grant of Semi-Persistent scheduling used for transmitting data i before is grant 1, the user equipment selects a grant other than grant 1 among the multiple grants of Semi-Persistent scheduling to transmit data i, wherein the data i is one of multiple data that needs to be retransmitted, and the grant 1 is one of the multiple grants of Semi-Persistent scheduling used by the user equipment for previous data transmission. For example, the user equipment sends data packets 1 to 10 to the network device, wherein the data packets 2 and 3 have not been successfully received by the network device. The grant of the Semi-Persistent Scheduling used by the user equipment to transmit data before includes grant 2 and grant 3. The user equipment used grant 2 to transmit data packet 2 and used grant 3 to transmit data packet 3 before. In case of retransmission, the user equipment also uses grant 3 to retransmit data packet 2 and the user equipment also uses grant 2 to retransmit data packet 3.</p>
<p id="p0031" num="0031">Or, in act S202, when the HARQ buffer is empty, the user equipment selects one current grant of Semi-Persistent scheduling to transmit new data or selects multiple current grants of Semi-Persistent scheduling to transmit new data according to a carrier access manner allowed by the user equipment; the network device monitors resources of the one current grant of Semi-Persistent scheduling or the multiple current grants of Semi-Persistent scheduling to obtain the new data transmitted by the user equipment through the one current grant of Semi-Persistent scheduling or the multiple current grants of Semi-Persistent scheduling when the HARQ buffer of the user equipment is empty.</p>
<p id="p0032" num="0032">In an example, when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling and the user equipment is not allowed to use a non-single carrier access manner, the user equipment selects one of the N grants of Semi-Persistent scheduling to transmit new data, and the network device monitors resources of the N grants of Semi-Persistent scheduling to obtain the new data transmitted by the user equipment, wherein the N is an integer greater than 1.<!-- EPO <DP n="9"> --></p>
<p id="p0033" num="0033">When the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling and the user equipment is allowed to use a non-single carrier access manner, the user equipment selects multiple grants among the N grants of Semi-Persistent scheduling to transmit new data, and the network device monitors resources of the N grants of Semi-Persistent scheduling to obtain the new data transmitted by the user equipment.</p>
<p id="p0034" num="0034">Specifically, the HARQ buffer of the user equipment being empty indicates that the user equipment has no data to retransmit to the network device. In the 5G/NR system, if the user equipment currently has N grants of Semi-Persistent scheduling, but a current situation of the user equipment does not allow the user equipment to use the non-single carrier access manner (the non-single carrier access manner requires better transmission power and higher signal-to-noise ratio than the single carrier access manner, and an anti-interference capability of the non-single carrier access manner is not as good as that of the single carrier access manner; assuming that the user equipment is at an edge of a cell, since a current network situation of the user equipment is not good, the current situation of the user equipment does not allow the user equipment to use the non-single carrier access manner), the user equipment selects one grant from the N grants of Semi-Persistent scheduling to transmit new data. If the user equipment currently has N grants of Semi-Persistent scheduling and the current situation of the user equipment allows the user equipment to use a non-single carrier access manner, the user equipment selects multiple grants from the N grants of Semi-Persistent scheduling to transmit new data.</p>
<p id="p0035" num="0035">It can be seen that, when the user equipment does not allow using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment only selects one grant of Semi-Persistent scheduling to transmit data, and when the user equipment allows using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment selects multiple grants of Semi-Persistent scheduling to transmit data, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0036" num="0036">Further, the user equipment selects multiple grants from the N grants of Semi-Persistent scheduling to transmit new data, and the multiple grants may be multiple grants with adjacent positions of time-frequency resources. For example, N grants of Semi-Persistent scheduling include grant 1, grant 2, grant 3, grant 4, and grant 5, positions of time-frequency resources of grant 2, grant 3, and grant 4 are adjacent, then the user equipment selects grant 2, grant 3, and grant 4 to transmit new data.</p>
<p id="p0037" num="0037">Further, the user equipment selects multiple grants from the N grants of Semi-Persistent<!-- EPO <DP n="10"> --> scheduling to transmit new data, and the multiple grants may be multiple grants whose transmission-block sizes (TBSs) exceed a preset threshold. For example, among the N grants of Semi-Persistent scheduling, there are grant 1, grant 2, grant 3, grant 4, and grant 5, and among these 5 grants, there are grant 2, grant 3, and grant 4 whose TBSs exceed the preset threshold, then the user equipment selects grant 2, grant 3 and grant 4 to transmit new data.</p>
<p id="p0038" num="0038">In an example, the user equipment selects one grant with the largest TBS among N grants of Semi-Persistent scheduling to transmit new data, and the network device monitors resources of the one grant with the largest TBS among the N grants of Semi-Persistent scheduling to obtain the new data transmitted by the user equipment. For example, among N grants of Semi-Persistent scheduling, there are grant 1, grant 2, grant 3, grant 4, and grant 5. Among these 5 grants, a grant with the largest TBS is grant 5, so the user equipment selects grant 5 to transmit new data.</p>
<p id="p0039" num="0039">Specifically, when the user equipment has multiple grants of Semi-Persistent scheduling, if the network device does not know which grant the user equipment uses to transmit data, the network device will monitor resources of N grants of Semi-Persistent scheduling, thus consumption of network device is large. Therefore, it is agreed in advance that when the user equipment can only select one grant of Semi-Persistent scheduling to transmit data, the grant with the largest TBS will be selected, and the network device will only monitor resources of the grant with the largest TBS, thus reducing overhead of the network device.</p>
<p id="p0040" num="0040">In an example, the user equipment selects a grant with the largest or smallest index among the N grants of Semi-Persistent scheduling to transmit new data, and the network device monitors resources of the grant with the largest or smallest index among the N grants of Semi-Persistent scheduling to obtain new data transmitted by the user equipment. For example, N grants of Semi-Persistent scheduling include grant 1, grant 2, grant 3, grant 4, and grant 5, and indexes of these 5 grants are 1-5 respectively, then the grant with the largest Index is grant 5, and the grant with the smallest index is grant 1, then the user equipment selects grant 1 or grant 5 to transmit new data.</p>
<p id="p0041" num="0041">Specifically, when the user equipment has multiple grants of Semi-Persistent scheduling, if the network device does not know which grant the user equipment uses to transmit data, the network device will monitor resources of N grants of Semi-Persistent scheduling, thus consumption of network device is large. Therefore, it is agreed in advance that when the user equipment can only select one grant of Semi-Persistent scheduling to transmit data, the grant with the largest or smallest index will be selected, and the network device will only monitor<!-- EPO <DP n="11"> --> resources of the grant with the largest or smallest index, thus reducing the overhead of the network device.</p>
<p id="p0042" num="0042">In an example, when the HARQ buffer is empty and there is currently a grant of dynamic scheduling, the user equipment selects the current grant of dynamic scheduling to transmit new data, and the network device monitors resources of the current grant of dynamic scheduling to obtain new data transmitted by the user equipment. Since dynamic scheduling may be adjusted in real time, if the user equipment currently has a grant of dynamic scheduling, the user equipment selects the grant of dynamic scheduling to transmit new data, which may ensure that resources do not conflict.</p>
<p id="p0043" num="0043">Please refer to <figref idref="f0002">FIG. 3</figref>, which shows a user equipment 300 provided in an example of the present invention, including one or more processors, one or more memories, one or more transceivers, and one or more programs.</p>
<p id="p0044" num="0044">The one or more programs are stored in the one or more memories, and configured to be executed by the one or more processors.</p>
<p id="p0045" num="0045">The program includes instructions for performing following acts: when a hybrid automatic repeat request (HARQ) buffer is not empty, an uplink resource grant used for previous data transmission is selected to transmit the data that needs to be retransmitted; or, when the HARQ buffer is empty, according to a carrier access manner allowed by the user equipment, a current grant of Semi-Persistent scheduling is selected to transmit new data or multiple current grants of Semi-Persistent scheduling are selected to transmit new data.</p>
<p id="p0046" num="0046">In one example, the program specifically includes instructions for performing the following acts: when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling, and the user equipment is not allowed to use a non-single carrier access manner, selecting one of the N grants of Semi-Persistent scheduling to transmit new data, wherein the N is an integer greater than 1; when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling, and the user equipment is allowed to use a non-single carrier access manner, multiple grants among the N grants of Semi-Persistent scheduling are selected to transmit new data.</p>
<p id="p0047" num="0047">In an example, the program also includes instructions for performing the following acts: when the HARQ buffer is empty and there is currently a grant of dynamic scheduling, the current grant of dynamic scheduling is selected to transmit new data.</p>
<p id="p0048" num="0048">In one example, the program specifically includes instructions for performing the<!-- EPO <DP n="12"> --> following acts: selecting one grant with the largest transmission block size (TBS) among the N grants of Semi-Persistent scheduling to transmit new data.</p>
<p id="p0049" num="0049">In one example, the program specifically includes instructions for performing the following acts: selecting one grant with the largest index or the smallest index among the N grants of Semi-Persistent scheduling to transmit new data.</p>
<p id="p0050" num="0050">In one example, the program specifically includes instructions for performing the following acts: when the HARQ buffer is not empty and a grant of dynamic scheduling of a current Transmission Time Interval (TTI) has no New Data Indicator (NDI) that is not toggled, selecting a grant used for previous data transmission to transmit data that needs to be retransmitted.</p>
<p id="p0051" num="0051">In an example, the program also includes instructions for performing the following acts: when the HARQ buffer is not empty and a grant of dynamic scheduling of a current TTI has a New Data Indicator (NDI) that is not toggled, selecting a current grant of dynamic scheduling to transmit data that needs to be retransmitted.</p>
<p id="p0052" num="0052">It can be seen that in the solution, when the HARQ buffer of the user equipment is not empty, the grant used for data retransmission is the same as that used for previous data transmission, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE. In addition, when the HARQ buffer is empty, when the user equipment does not allow using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment only selects one grant of Semi-Persistent scheduling to transmit data, and when the user equipment allows using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment selects multiple grants of Semi-Persistent scheduling to transmit data, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0053" num="0053">Please refer to <figref idref="f0003">FIG. 4</figref>, which shows a network device 400 provided in an example of the present invention, including one or more processors, one or more memories, one or more transceivers, and one or more programs.</p>
<p id="p0054" num="0054">The one or more programs are stored in the one or more memories, and configured to be executed by the one or more processors.</p>
<p id="p0055" num="0055">The program includes instructions for performing following acts: monitoring resources of an uplink resource grant used by a user equipment for previous data transmission to obtain data that needs to be retransmitted transmitted by the user equipment through the grant used for transmitting data before when a hybrid automatic repeat request (HARQ) buffer is not empty;<!-- EPO <DP n="13"> --> or, monitoring resources of one current grant of Semi-Persistent scheduling or multiple current grants of Semi-Persistent scheduling to obtain new data transmitted by the user equipment through the one current grant of Semi-Persistent scheduling or the multiple current grants of Semi-Persistent scheduling when the HARQ buffer is empty.</p>
<p id="p0056" num="0056">In an example, the program also includes instructions for performing the following acts: monitoring resources of a current grant of dynamic scheduling to obtain new data transmitted by the user equipment through the current grant of dynamic scheduling when the HARQ buffer is empty and there is a current grant of dynamic scheduling.</p>
<p id="p0057" num="0057">In an example, when there are currently N grants of Semi-Persistent scheduling, and the N is an integer greater than 1, the program specifically includes instructions for performing the following acts: monitoring resources of one grant with the largest transmission block size (TBS) among the current N grants of Semi-Persistent scheduling.</p>
<p id="p0058" num="0058">In an example, when there are currently N grants of Semi-Persistent scheduling, and the N is an integer greater than 1, the program specifically includes instructions for performing the following acts: monitoring resources of one grant with the largest index or the smallest index among the current N grants of Semi-Persistent scheduling.</p>
<p id="p0059" num="0059">In an example, the program also includes instructions for performing the following acts: monitoring resources of a current grant of dynamic scheduling to obtain data that needs to be retransmitted transmitted by the user equipment through the current grant of dynamic scheduling when the HARQ buffer is not empty and the grant of dynamic scheduling of the current transmission time interval (TTI) has an NDI that is not toggled.</p>
<p id="p0060" num="0060">It can be seen that in the solution, when the HARQ buffer of the user equipment is not empty, the grant used for data retransmission is the same as that used for previous data transmission, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE. In addition, when the HARQ buffer is empty, when the user equipment does not allow using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment only selects one grant of Semi-Persistent scheduling to transmit data, and when the user equipment allows using multiple grants of Semi-Persistent scheduling to transmit data, the user equipment selects multiple grants of Semi-Persistent scheduling to transmit data, thus avoiding conflicts among multiple Semi-Persistent schedulings of the same UE.</p>
<p id="p0061" num="0061">Refer to <figref idref="f0003">FIG. 5</figref>, which is a schematic diagram of structure of a user equipment 500 provided in an example of the present application. The user equipment 500 includes a<!-- EPO <DP n="14"> --> processing unit 501, a communication unit 502 and a storage unit 503, wherein: the processing unit 501 is used for, when a hybrid automatic repeat request (HARQ) buffer is not empty, selecting, through the communication unit 502, an uplink resource grant used for previous data transmission to transmit data that needs to be retransmitted; or, when the HARQ buffer is empty, according to a carrier access manner allowed by the user equipment, selecting, through the communication unit 502, one current grant of Semi-Persistent scheduling to transmit new data or multiple current grants of Semi-Persistent scheduling to transmit new data.</p>
<p id="p0062" num="0062">The processing unit 501 may be a processor or a controller (e.g., may be a Central Processing Unit (CPU), a general-purpose processor, a Digital Signal Processor (DSP), An Application-Specific Integrated Circuit (ASIC), a Field Programmable Gate Array (FPGA), or other programmable logic device, a transistor logic device, a hardware component, or any combination thereof. The processing unit may implement or execute various illustrative logical blocks, modules, and circuits described in connection with the disclosure of the present invention. The processor may also be a combination that implements computing functions, e.g., a combination that includes one or more microprocessors, a combination of a DSP and a microprocessor, etc.). The communication unit 502 may be a transceiver, a transceiver circuit, a radio frequency chip, a communication interface, etc., and the storage unit 503 may be a memory.</p>
<p id="p0063" num="0063">When the processing unit 501 is a processor, the communication unit 502 is a communication interface, and the storage unit 503 is a memory, the user equipment related to the example of the present invention may be the user equipment shown in <figref idref="f0002">FIG. 3</figref>.</p>
<p id="p0064" num="0064">Refer to <figref idref="f0004">FIG. 6</figref>, which is a schematic diagram of structure of a network device 600 provided in the present example. The network device 600 includes a processing unit 601, a communication unit 602, and a storage unit 603, wherein: the processing unit 601 is used for monitoring, through the communication unit 602, resources of an uplink resource grant used by a user equipment for previous data transmission to obtain data that needs to be retransmitted transmitted through the grant used by the user equipment for previous data transmission when a hybrid automatic repeat request (HARQ) buffer is not empty; or monitoring, through the communication unit 602, resources of one current grant of Semi-Persistent scheduling or multiple current grants of Semi-Persistent scheduling to obtain new data transmitted by the user equipment through the one current grant of Semi-Persistent scheduling or the multiple current grants of Semi-Persistent scheduling when the HARQ buffer is empty.</p>
<p id="p0065" num="0065">The processing unit 601 may be a processor or a controller (e.g., may be a Central<!-- EPO <DP n="15"> --> Processing Unit (CPU), a general-purpose processor, a Digital Signal Processor (DSP), An Application-Specific Integrated Circuit (ASIC), a Field Programmable Gate Array (FPGA), or other programmable logic device, a transistor logic device, a hardware component, or any combination thereof. The processing unit may implement or execute various illustrative logical blocks, modules, and circuits described in connection with the disclosure of the present invention. The processor may also be a combination that implements computing functions, e.g., a combination that includes one or more microprocessors, a combination of a DSP and a microprocessor, etc.). The communication unit 602 may be a transceiver, a transceiver circuit, a radio frequency chip, a communication interface, etc., and the storage unit 603 may be a memory.</p>
<p id="p0066" num="0066">When the processing unit 601 is a processor, the communication unit 602 is a communication interface, and the storage unit 603 is a memory, the network device related to the example of the present invention may be the network device shown in <figref idref="f0003">FIG. 4</figref>.</p>
<p id="p0067" num="0067">Another user equipment is further provided in an example of the present invention. As illustrated in <figref idref="f0004">FIG. 7</figref>, for ease of illustration, only parts related to the example of the present invention are shown, and specific technical details which are not illustrated may refer to parts of the method according to the example of the present invention. The user equipment may be a mobile phone, a tablet computer, a Personal Digital Assistant (PDA), a Point of Sales (POS), a vehicle-mounted computer, or any other user equipment. A mobile phone is taken as an example of the user equipment in following contents.</p>
<p id="p0068" num="0068"><figref idref="f0004">FIG. 7</figref> is a block diagram of a partial structure of a mobile phone related to the user equipment provided by the example of the present invention. Referring to <figref idref="f0004">FIG. 7</figref>, the mobile phone includes parts such as a radio frequency (RF) circuit 910, a memory 920, an input unit 930, a display unit 940, a sensor 950, an audio circuit 960, a wireless fidelity (WiFi) module 970, a processor 980, and a power supply 990. A person skilled in the art may understand that the structure of the mobile phone shown in <figref idref="f0004">FIG. 7</figref> does not constitute a limitation to the mobile phone, and the mobile phone may include more parts or fewer parts than those shown in the figure, or some parts may be combined, or a different part arrangement may be used.</p>
<p id="p0069" num="0069">In the following, each composition part of the mobile phone is specifically described with reference to <figref idref="f0004">FIG. 7</figref>.</p>
<p id="p0070" num="0070">The RF circuit 910 may be used to receive and send information. Generally, the RF circuit 910 includes, but is not limited to, an antenna, at least one amplifier, a transceiver, a coupler, a<!-- EPO <DP n="16"> --> Low Noise Amplifier (LNA), a duplexer, and the like. In addition, the RF circuit 910 may further communicate with a network and another device via wireless communication. The wireless communication may use any communication standard or protocol, which includes, but is not limited to, a Global System for Mobile Communication (GSM), a General Packet Radio Service (GPRS), Code Division Multiple Access (CDMA), Wideband Code Division Multiple Access (WCDMA), Long Term Evolution (LTE), e-mail, Short Messaging Service (SMS), and the like.</p>
<p id="p0071" num="0071">The memory 920 may be used for storing software programs and modules, and the processor 980 runs the software programs and modules stored in the memory 920 to execute various functional applications and data processing of the mobile phone. The memory 920 may mainly include a program storage area and a data storage area, wherein the program storage area may store an operating system, a computer program required for at least one function, and the like. The data storage area may store data or the like created according to the use of the mobile phone. In addition, the memory 920 may include a high speed random access memory, and may also include a non-transitory memory, such as at least one magnetic disk storage device, a flash memory, or other volatile solid-state storage device.</p>
<p id="p0072" num="0072">The input unit 930 may be used for receiving input digital or character information, and generating key signal inputs related to user settings and function control of the mobile phone. Specifically, the input unit 930 may include a fingerprint identification component 931 and other input device 932. The fingerprint identification component 931 may collect fingerprint data inputted by the user thereon. Besides the fingerprint identification component 931, the input unit 930 may further include other input device 932. Specifically, the other input devices 932 may include, but is not limited to, one or more of a touch control screen, a physical keyboard, a function key (for example, a volume control key, or a switch key), a track ball, a mouse, a joystick, and so on.</p>
<p id="p0073" num="0073">The display unit 940 may be used for displaying information input by the user or information provided for the user, and various menus of the mobile phone. The display unit 940 may include a display screen 941. Optionally, the display screen 941 may be configured by a Liquid Crystal Display (LCD), an Organic Light-Emitting Diode (OLED), or the like. Although the fingerprint identification component 931 and the display screen 941 in <figref idref="f0004">FIG. 7</figref> are used as two separate parts to realize the input and input function of the mobile phone, in some examples, the fingerprint identification component 931 and the display screen 941 may be integrated to realize the input function and playing function of the mobile phone.<!-- EPO <DP n="17"> --></p>
<p id="p0074" num="0074">The mobile phone may further include at least one sensor 950, such as an optical sensor, a motion sensor or other sensor. Specifically, the optical sensor may include an ambient light sensor and a proximity sensor, where the ambient light sensor may adjust the luminance of the display screen 941 according to brightness of the ambient light, and the proximity sensor may turn off the display screen 941 and/or backlight when the mobile phone is moved to the ear. As one type of the motion sensor, an acceleration sensor may detect the magnitudes of accelerations in various directions (generally triaxial), may detect the magnitude and direction of the gravity when the sensor is still, may be used in an application for identifying a gesture of a mobile phone (for example, switching between landscape and portrait, related games, and gesture calibration of a magnetometer), and a function related to vibration identification (such as a pedometer and a tap) etc. Other sensors, for example, a gyroscope, a barometer, a hygrometer, a thermometer, and an infrared sensor, which may be configured in the mobile phone are not further described herein.</p>
<p id="p0075" num="0075">An audio circuit 960, a loudspeaker 961, and a microphone 962 may provide audio interfaces between the user and the mobile phone. The audio circuit 960 may transmit electrical signals converted from the received audio data to the speaker 961, and the speaker 961 may convert the electrical signals into sound signals for playing. On the other hand, the microphone 962 converts the collected sound signals into electrical signals, which are received by the audio circuit 960 and then converted into audio data. After being processed by the audio data playback processor 980, the audio data is sent to another mobile phone via the RF circuit 910, or the audio data is played to the memory 920 for further processing.</p>
<p id="p0076" num="0076">WiFi belongs to a short-range wireless transmission technology. The mobile phone may help users to send and receive e-mails, browse web pages and access streaming media and the like through WiFi module 970. The WiFi module 970 provides users with wireless broadband Internet access. Although <figref idref="f0004">FIG. 7</figref> shows the WiFi module 970, it may be understood that, the WiFi module 970 is not an essential part of the mobile phone, and may be completely omitted as required without changing the essence of the present invention.</p>
<p id="p0077" num="0077">The processor 980 is a control center of the mobile phone, and connects various parts of a whole mobile phone by using various interfaces and circuits. By running or executing software programs and/or modules stored in the memory 920 and invoking data stored in the memory 920, the processor 680 performs various functions of the mobile phone and processes data, thereby performing overall monitoring on the mobile phone. Optionally, the processor 980 may include one or multiple processing units. Preferably, the processor 980 may integrate an<!-- EPO <DP n="18"> --> application processor and a modulation and demodulation processor, where the application processor mainly processes the operating system, user interface, application program, and so on, and the modulation and demodulation processor mainly processes wireless communication. It may be understood that, the foregoing modem processor may be not integrated into the processor 980.</p>
<p id="p0078" num="0078">The mobile phone further includes the power supply 990 (such as a battery) for supplying power to each part. Preferably, the power supply may be logically connected to the processor 980 by using a power management system, thereby implementing functions such as charging, discharging, and power consumption management by using the power management system.</p>
<p id="p0079" num="0079">Although not shown in the figure, the mobile phone may further include a camera, a Bluetooth module, and the like, which are not further described herein.</p>
<p id="p0080" num="0080">In the example shown in <figref idref="f0002">FIG. 2</figref>, the flow at the user equipment side in each act of the method may be implemented based on the structure of the mobile phone.</p>
<p id="p0081" num="0081">In the example shown in <figref idref="f0003">FIG. 5</figref>, the function of each unit may be implemented based on the structure of the mobile phone.</p>
<p id="p0082" num="0082">An example of the present application also provides a computer readable storage medium. The computer readable storage medium stores a computer program for electronic data interchange, and the computer program causes a computer to execute parts or all of the acts described for the user equipment in the method examples.</p>
<p id="p0083" num="0083">An example of the present application also provides a computer readable storage medium. The computer readable storage medium stores a computer program for electronic data interchange, and the computer program causes a computer to execute parts or all of the acts described for the network device in the method examples.</p>
<p id="p0084" num="0084">An example of the present application also provides a computer program product. The computer program product includes a non-transitory computer readable storage medium storing a computer program, and the computer program is operable to cause a computer to execute parts or all of the acts described for the user equipment in the method. The computer program product may be a software installation package.</p>
<p id="p0085" num="0085">An example of the present application also provides a computer program product. The computer program product includes a non-transitory computer readable storage medium storing a computer program, and the computer program is operable to cause a computer to execute parts or all of the acts described for the network device in the method examples. The computer<!-- EPO <DP n="19"> --> program product may be a software installation package.</p>
<p id="p0086" num="0086">The acts of the method or algorithm described in examples of the present invention may be implemented in hardware, or implemented in a manner of executing software instructions by a processor. The software instructions may be composed by corresponding software modules. The software modules may be stored in a Random Access Memory (RAM), a flash memory, a Read Only Memory (ROM), an Erasable Programmable Read Only Memory (EPROM), an Electrically Erasable Programmable Read Only Memory (EEPROM), a register, a hard disk, a removable hard disk, a Compact Disc Read-Only Memory (CD-ROM), or a storage medium in any other form well-known in the art. An exemplary storage medium is coupled to a processor such that the processor may read information from the storage medium, and write information to the storage medium. Of course, the storage medium may be a component of the processor. The processor and the storage medium may be located in an ASIC. In addition, the ASIC may be located in an access network device, a target network device, or a core network device. The processor and the storage medium may also act as separate components in the access network device, the target network device, or the core network device.</p>
<p id="p0087" num="0087">Those skilled in the art should realize that in one or more examples described above, the functions described in the examples of the present application may be implemented in whole or in parts through software, hardware, firmware, or any combination thereof. When the functions described in the examples of the present application are implemented through software, these functions may be implemented in whole or in parts in the form of a computer program product. The computer program product includes one or more computer instructions. When the computer program instructions are loaded and executed on a computer, the processes or functions are generated in whole or in parts according to the examples of the present invention. The computer may be a general purpose computer, a special purpose computer, a computer network, or other programmable devices. The computer instructions may be stored in a computer-readable storage medium, or transmitted from one computer-readable storage medium to another computer-readable storage medium, for example, the computer instructions may be transmitted from a website site, a computer, a server, or a data center to another website site, computer, server, or data center through a wired manner (e.g., a coaxial cable, an optical fiber, a Digital Subscriber Line (DSL)) or a wireless manner (e.g., infrared radiation, radio, microwave, etc.). The computer-readable storage medium may be any available medium that the computer may access, or a data storage device such as an integrated server or data center that includes one or more available media. The available medium may be a magnetic medium<!-- EPO <DP n="20"> --> (e.g., a floppy disk, a hard disk, a magnetic tape), an optical medium (e.g., a Digital Video Disc (DVD)), or a semiconductor medium (e.g., a Solid State Disk (SSD)), or the like.</p>
<p id="p0088" num="0088">The specific examples described above have further explained in detail the purpose, technical solutions and beneficial effects of the examples of the present invention. It should be understood that the above is only the specific examples of the examples of the present invention and is not used for limiting the protection scope of the examples of the present invention. Any modification, made on the basis of the technical solutions of the examples of the present invention shall be included in the protection scope of the examples of the present invention, as defined by the appended claims.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="21"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>A data transmission method, comprising:
<claim-text>when a hybrid automatic repeat request, HARQ, buffer is not empty, selecting, by a user equipment, an uplink resource grant used for previous data transmission to transmit data that needs to be retransmitted (S201);</claim-text>
<claim-text>when the HARQ buffer is empty, according to a carrier access manner allowed by the user equipment, selecting, by the user equipment, one current grant of Semi-Persistent scheduling to transmit new data, or multiple current grants of Semi-Persistent scheduling to transmit new data (S202), or one current grant of dynamic scheduling to transmit new data;</claim-text>
<b>characterized in that</b>, the according to the carrier access manner allowed by the user equipment, selecting, by the user equipment, one current grant of Semi-Persistent scheduling to transmit new data, or multiple current grants of Semi-Persistent scheduling to transmit new data, or one current grant of dynamic scheduling to transmit new data, comprises:
<claim-text>when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling, and the user equipment is not allowed to use a non-single carrier access manner, selecting, by the user equipment, one of the N grants of Semi-Persistent scheduling to transmit new data, wherein the N is an integer greater than 1; or</claim-text>
<claim-text>when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling, and the user equipment is allowed to use a non-single carrier access manner, selecting, by the user equipment, multiple grants among the N grants of Semi-Persistent scheduling to transmit new data.</claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The method according to claim 1, further comprising:<br/>
when the HARQ buffer is empty and there is currently a grant of dynamic scheduling, selecting, by the user equipment, the current grant of dynamic scheduling to transmit new data.</claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The method according to claim 1 or 2, wherein the selecting, by the user equipment, one of the N grants of Semi-Persistent scheduling to transmit new data comprises:
<claim-text>selecting, by the user equipment, one grant with the largest transmission block size, TBS, among the N grants of Semi-Persistent scheduling to transmit new data;</claim-text>
<claim-text>or, wherein the selecting, by the user equipment, one of the N grants of Semi-Persistent scheduling to transmit new data, comprises:<br/>
selecting, by the user equipment, one grant with the largest or smallest index among the N<!-- EPO <DP n="22"> --> grants of Semi-Persistent scheduling to transmit new data.</claim-text></claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>The method according to claim 1, wherein the selecting, by the user equipment, the grant used for previous data transmission to transmit data that needs to be retransmitted comprises:<br/>
when the HARQ buffer is not empty and a grant of dynamic scheduling of a current Transmission Time Interval, TTI has no New Data Indicator, NDI, that is not toggled, selecting, by the user equipment, the grant used for previous data transmission to transmit data that needs to be retransmitted.</claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>The method according to claim 4, wherein the method further comprises:<br/>
when the HARQ buffer is not empty and the grant of dynamic scheduling of the current TTI has an NDI that is not toggled, selecting, by the user equipment, the current grant of dynamic scheduling when data needs to be retransmitted.</claim-text></claim>
<claim id="c-en-01-0006" num="0006">
<claim-text>The method according to claim 4 or 5, wherein the selecting, by the user equipment, the grant used for previous data transmission to transmit data that needs to be retransmitted comprises:
<claim-text>when the grant used for previous data transmission is one grant of Semi-Persistent scheduling, selecting, by the user equipment, the one grant of Semi-Persistent scheduling to transmit data that needs to be retransmitted;</claim-text>
<claim-text>when the grant used for previous data transmission is M grants of Semi-Persistent scheduling, selecting, by the user equipment, the M grants of Semi-Persistent scheduling to transmit data that needs to be retransmitted, wherein the M is an integer greater than 1.</claim-text></claim-text></claim>
<claim id="c-en-01-0007" num="0007">
<claim-text>A user equipment, comprising a processing unit (501) and a communication unit (502), wherein,
<claim-text>the processing unit (501) is configured to, when a hybrid automatic repeat request, HARQ, buffer is not empty, select, through the communication unit (502), an uplink resource grant used for previous data transmission to transmit data that needs to be retransmitted; when the HARQ buffer is empty, according to a carrier access manner allowed by the user equipment, to select, through the communication unit (502), one current grant of Semi-Persistent scheduling to transmit new data or multiple current grants of Semi-Persistent scheduling to transmit new data; <b>characterized in that</b></claim-text>
<claim-text>when the HARQ buffer is empty, there are currently N grants of Semi-Persistent<!-- EPO <DP n="23"> --> scheduling, and the user equipment is not allowed to use a non-single carrier access manner, the user equipment selects one of the N grants of Semi-Persistent scheduling to transmit new data, wherein the N is an integer greater than 1; or</claim-text>
<claim-text>when the HARQ buffer is empty, there are currently N grants of Semi-Persistent scheduling, and the user equipment is allowed to use a non-single carrier access manner, the user equipment selects multiple grants among the N grants of Semi-Persistent scheduling to transmit new data.</claim-text></claim-text></claim>
<claim id="c-en-01-0008" num="0008">
<claim-text>A computer-readable storage medium, wherein the computer-readable storage medium stores a computer program for electronic data interchange, wherein the computer program causes a computer to perform the method according to any one of claims 1-6.</claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="24"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Datenübertragungsverfahren, das Folgendes umfasst:
<claim-text>wenn ein Puffer für hybride automatische Wiederholungsanforderung (HARQ) nicht leer ist, Auswählen, durch ein Benutzergerät, einer für die vorherige Datenübertragung verwendeten Uplink-Ressourcengewährung, um Daten zu übertragen, die erneut übertragen werden müssen (S201);</claim-text>
<claim-text>wenn der HARQ-Puffer leer ist, gemäß einer Trägerzugriffsweise, die durch das Benutzergerät erlaubt ist, Auswählen, durch das Benutzergerät, einer aktuellen Gewährung von semipersistenter Planung, um neue Daten zu übertragen, oder mehrerer aktueller Gewährungen von semipersistenter Planung, um neue Daten zu übertragen (S202), oder einer aktuellen Gewährung von dynamischer Planung, um neue Daten zu übertragen;</claim-text>
<claim-text><b>dadurch gekennzeichnet, dass</b>, gemäß der Trägerzugriffsweise, die durch das Benutzergerät erlaubt ist, das Auswählen, durch das Benutzergerät, einer aktuellen Gewährung von semipersistenter Planung, um neue Daten zu übertragen, oder mehrerer aktueller Gewährungen von semipersistenter Planung, um neue Daten zu übertragen, oder einer aktuellen Gewährung von dynamischer Planung, um neue Daten zu übertragen, Folgendes umfasst:
<claim-text>wenn der HARQ-Puffer leer ist, aktuell N Gewährungen von semipersistenter Planung vorliegen und es dem Benutzergerät nicht erlaubt ist, eine nicht-einzelne<!-- EPO <DP n="25"> --> Trägerzugriffsweise zu verwenden, Auswählen, durch das Benutzergerät, einer der N Gewährungen von semipersistenter Planung, um neue Daten zu übertragen, wobei N eine Ganzzahl größer als 1 ist; oder</claim-text>
<claim-text>wenn der HARQ-Puffer leer ist, aktuell N Gewährungen von semipersistenter Planung vorliegen und es dem Benutzergerät erlaubt ist, eine nicht-einzelne Trägerzugriffsweise zu verwenden, Auswählen, durch das Benutzergerät, von mehreren Gewährungen unter den N Gewährungen von semipersistenter Planung, um neue Daten zu übertragen.</claim-text></claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Verfahren gemäß Anspruch 1, das ferner Folgendes umfasst:<br/>
wenn der HARQ-Puffer leer ist und aktuell eine Gewährung von dynamischer Planung vorliegt, Auswählen, durch das Benutzergerät, der aktuellen Gewährung von dynamischer Planung, um neue Daten zu übertragen.</claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Verfahren gemäß Anspruch 1 oder 2, wobei das Auswählen, durch das Benutzergerät, einer der N Gewährungen von semipersistenter Planung zum Übertragen neuer Daten Folgendes umfasst:
<claim-text>Auswählen, durch das Benutzergerät, einer Gewährung mit der größten Übertragungsblockgröße (TBS) unter den N Gewährungen von semipersistenter Planung, um neue Daten zu übertragen; oder,</claim-text>
<claim-text>wobei das Auswählen, durch das Benutzergerät, einer der N Gewährungen von semipersistenter Planung, um neue Daten zu übertragen, Folgendes umfasst:<br/>
Auswählen, durch das Benutzergerät, einer Gewährung mit dem größten oder kleinsten Index unter den N Gewährungen von semipersistenter Planung, um neue Daten zu übertragen.</claim-text></claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Verfahren gemäß Anspruch 1, wobei das Auswählen, durch das Benutzergerät, der für die vorherige Datenübertragung verwendeten Gewährung zum Übertragen<!-- EPO <DP n="26"> --> von Daten, die erneut übertragen werden müssen, Folgendes umfasst:<br/>
wenn der HARQ-Puffer nicht leer ist und eine Gewährung von dynamischer Planung eines aktuellen Übertragungszeitintervalls (TTI) keinen Neu-Daten-Indikator (NDI) hat, der nicht umgeschaltet ist, Auswählen, durch das Benutzergerät, der Gewährung, die für die vorherige Datenübertragung verwendet wurde, um Daten zu übertragen, die erneut übertragen werden müssen.</claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Verfahren gemäß Anspruch 4, wobei das Verfahren ferner Folgendes umfasst:<br/>
wenn der HARQ-Puffer nicht leer ist und die Gewährung von dynamischer Planung des aktuellen TTI einen NDI hat, der nicht umgeschaltet ist, Auswählen, durch das Benutzergerät, der aktuellen Gewährung von dynamischer Planung, wenn Daten erneut übertragen werden müssen.</claim-text></claim>
<claim id="c-de-01-0006" num="0006">
<claim-text>Verfahren gemäß Anspruch 4 oder 5, wobei das Auswählen, durch das Benutzergerät, der für die vorherige Datenübertragung verwendeten Gewährung zum Übertragen von Daten, die erneut übertragen werden müssen, Folgendes umfasst:
<claim-text>wenn die für die vorherige Datenübertragung verwendete Gewährung eine Gewährung von semipersistenter Planung ist, Auswählen, durch das Benutzergerät, der einen Gewährung von semipersistenter Planung, um Daten zu übertragen, die erneut übertragen werden müssen;</claim-text>
<claim-text>wenn die für die vorherige Datenübertragung verwendete Gewährung M Gewährungen von semipersistenter Planung ist, Auswählen, durch das Benutzergerät, der M Gewährungen von semipersistenter Planung, um Daten zu übertragen, die erneut übertragen werden müssen, wobei M eine Ganzzahl größer als 1 ist.</claim-text><!-- EPO <DP n="27"> --></claim-text></claim>
<claim id="c-de-01-0007" num="0007">
<claim-text>Benutzergerät, das eine Verarbeitungseinheit (501) und eine Kommunikationseinheit (502) aufweist, wobei,<br/>
die Verarbeitungseinheit (501) für Folgendes ausgebildet ist:
<claim-text>wenn ein Puffer für hybride automatische Wiederholungsanforderung (HARQ) nicht leer ist, Auswählen, durch die Kommunikationseinheit (502), einer für die vorherige Datenübertragung verwendeten Uplink-Ressourcengewährung, um Daten zu übertragen, die erneut übertragen werden müssen;</claim-text>
<claim-text>wenn der HARQ-Puffer leer ist, gemäß einer Trägerzugriffsweise, die von dem Benutzergerät zugelassen ist, über die Kommunikationseinheit (502) eine aktuelle Gewährung von semipersistenter Planung auszuwählen, um neue Daten zu übertragen, oder mehrere aktuelle Gewährungen von semipersistenter Planung auszuwählen, um neue Daten zu übertragen; <b>dadurch gekennzeichnet, dass</b></claim-text>
<claim-text>wenn der HARQ-Puffer leer ist, aktuell N Gewährungen von semipersistenter Planung vorliegen und es dem Benutzergerät nicht erlaubt ist, eine nicht-einzelne Trägerzugriffsweise zu verwenden, das Benutzergerät eine der N Gewährungen von semipersistenter Planung auswählt, um neue Daten zu übertragen, wobei N eine Ganzzahl größer als 1 ist; oder</claim-text>
<claim-text>wenn der HARQ-Puffer leer ist, aktuell N Gewährungen von semipersistenter Planung vorliegen und es dem Benutzergerät erlaubt ist, eine nicht-einzelne Trägerzugriffsweise zu verwenden, das Benutzergerät mehrere Gewährungen unter den N Gewährungen von semipersistenter Planung auswählt, um neue Daten zu übertragen.</claim-text></claim-text></claim>
<claim id="c-de-01-0008" num="0008">
<claim-text>Computerlesbares Speichermedium, wobei das computerlesbare Speichermedium ein Computerprogramm für den elektronischen Datenaustausch speichert, wobei das Computerprogramm einen Computer veranlasst, das<!-- EPO <DP n="28"> --> Verfahren gemäß einem beliebigen der Ansprüche 1-6 durchzuführen.</claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="29"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Procédé de transmission de données, comprenant :
<claim-text>lorsqu'une mémoire tampon de demande de répétition automatique hybride, HARQ, n'est pas vide, la sélection, par un équipement utilisateur, d'un accord de ressource de liaison montante utilisé pour une transmission de données précédentes pour transmettre des données qui doivent être retransmises (S201) ;</claim-text>
<claim-text>lorsque la mémoire tampon HARQ est vide, conformément à un accès à une porteuse autorisé par l'équipement utilisateur, la sélection, par l'équipement utilisateur, d'un accord courant de planification semi-persistante de transmission de nouvelles données, ou de multiples accords courants de planification semi-persistante de transmission de nouvelles données (S202), ou d'un accord courant de planification dynamique de transmission de nouvelles données ;</claim-text>
<claim-text><b>caractérisé en ce que</b>, conformément à l'accès à une porteuse autorisé par l'équipement utilisateur, la sélection, par l'équipement utilisateur, d'un accord courant de planification semi-persistante de transmission de nouvelles données, ou de multiples accords courants de planification semi-persistante de transmission de nouvelles données, ou d'un accord courant de planification dynamique de transmission de nouvelles données comprend :<!-- EPO <DP n="30"> -->
<claim-text>lorsque la mémoire tampon HARQ est vide, qu'il existe N accords de planification semi-persistante en cours et que l'équipement utilisateur n'est pas autorisé à utiliser un accès à une porteuse non unique, la sélection, par l'équipement utilisateur, de l'un des N accords de planification semi-persistante de transmission de nouvelles données, dans lequel N est un entier supérieur à 1 ; ou</claim-text>
<claim-text>lorsque la mémoire tampon HARQ est vide, qu'il existe N accords de planification semi-persistante en cours et que l'équipement utilisateur est autorisé à utiliser un accès à une porteuse non unique, la sélection, par l'équipement utilisateur, de multiples accords parmi les N accords de planification semi-persistante de transmission de nouvelles données.</claim-text></claim-text></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Procédé selon la revendication 1, comprenant en outre :<br/>
lorsque la mémoire tampon HARQ est vide et qu'il existe un accord de planification dynamique en cours, la sélection par l'équipement utilisateur, de l'accord courant de planification dynamique de transmission de nouvelles données.</claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Procédé selon la revendication 1 ou 2, dans lequel la sélection, par l'équipement utilisateur, de l'un des N accords de planification semi-persistante de transmission de nouvelles données comprend :
<claim-text>la sélection, par l'équipement utilisateur, d'un accord ayant la plus grande taille de bloc de transmission, TBS, parmi les N accords de planification semi-persistante de transmission de nouvelles données ;</claim-text>
<claim-text>ou, dans lequel la sélection, par l'équipement utilisateur, de l'un des N accords de planification semi-persistante de transmission de nouvelles données comprend :
<claim-text>la sélection, par l'équipement utilisateur, d'un accord ayant le plus grand ou le plus petit indice parmi<!-- EPO <DP n="31"> --> les N accords de planification semi-persistante de transmission de nouvelles données.</claim-text></claim-text></claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Procédé selon la revendication 1, dans lequel la sélection, par l'équipement utilisateur, de l'accord utilisé pour une transmission de données précédentes pour transmettre des données qui doivent être retransmises comprend :<br/>
lorsque la mémoire tampon HARQ n'est pas vide et qu'un accord de planification dynamique d'un intervalle de temps de transmission, TTI, courant n'a aucun indicateur de nouvelles données, NDI, qui n'est pas actionné, la sélection, par l'équipement utilisateur, de l'accord utilisé pour la transmission de données précédentes pour transmettre des données qui doivent être retransmises.</claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé selon la revendication 4, le procédé comprenant en outre :<br/>
lorsque la mémoire tampon HARQ n'est pas vide et que l'accord de planification dynamique du TTI courant a un NDI qui n'est pas actionné, la sélection, par l'équipement utilisateur, de l'accord de planification dynamique courant lorsque des données doivent être retransmises.</claim-text></claim>
<claim id="c-fr-01-0006" num="0006">
<claim-text>Procédé selon la revendication 4 ou 5, dans lequel la sélection, par l'équipement utilisateur, de l'accord utilisé pour la transmission de données précédentes pour transmettre des données qui doivent être retransmises comprend :
<claim-text>lorsque l'accord utilisé pour la transmission de données précédentes est un accord de planification semi-persistante, la sélection, par l'équipement utilisateur, de l'accord de planification semi-persistante pour transmettre les données qui doivent être retransmises ;</claim-text>
<claim-text>lorsque l'accord utilisé pour la transmission de données précédentes est constitué de M accords de<!-- EPO <DP n="32"> --> planification semi-persistante, la sélection, par l'équipement utilisateur, des M accords de planification semi-persistante pour transmettre les données qui doivent être retransmises, dans lequel M est un entier supérieur à 1.</claim-text></claim-text></claim>
<claim id="c-fr-01-0007" num="0007">
<claim-text>Équipement utilisateur, comprenant une unité de traitement (501) et une unité de communication (502), dans lequel
<claim-text>l'unité de traitement (501) est configurée pour, lorsqu'une mémoire tampon de demande de répétition automatique hybride, HARQ, n'est pas vide, sélectionner, par l'intermédiaire de l'unité de communication (502), un accord de ressource de liaison montante utilisé pour une transmission de données précédentes pour transmettre des données qui doivent être retransmises ; lorsque la mémoire tampon HARQ est vide, conformément à un accès à une porteuse autorisé par l'équipement utilisateur, sélectionner, par l'intermédiaire de l'unité de communication (502), un accord courant de planification semi-persistante pour transmettre les nouvelles données ou de multiples accords courants de planification semi-persistante pour transmettre les nouvelles données ; <b>caractérisé en ce que</b></claim-text>
<claim-text>lorsque la mémoire tampon HARQ est vide, qu'il existe N accords de planification semi-persistante en cours et que l'équipement utilisateur n'est pas autorisé à utiliser un accès à une porteuse non unique, l'équipement utilisateur sélectionne l'un des N accords de planification semi-persistante de transmission de nouvelles données, dans lequel N est un entier supérieur à 1 ; ou</claim-text>
<claim-text>lorsque la mémoire tampon HARQ est vide, qu'il existe N accords de planification semi-persistante en cours et que l'équipement utilisateur est autorisé à utiliser un accès à une porteuse non unique, l'équipement utilisateur sélectionne de multiples accords parmi les N<!-- EPO <DP n="33"> --> accords de planification semi-persistante de transmission de nouvelles données.</claim-text></claim-text></claim>
<claim id="c-fr-01-0008" num="0008">
<claim-text>Support de stockage lisible par ordinateur, le support de stockage lisible par ordinateur stockant un programme informatique pour un échange de données électroniques, dans lequel le programme informatique amène un ordinateur à exécuter le procédé selon l'une quelconque des revendications 1 à 6.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="34"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="98" he="154" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> -->
<figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="120" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> -->
<figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="95" he="165" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> -->
<figure id="f0004" num="6,7"><img id="if0004" file="imgf0004.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Non-patent literature cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><nplcit id="ref-ncit0001" npl-type="s"><article><author><name>SAMSUNG</name></author><atl>Text proposal to capture muting behaviour in 36.321</atl><serial><sertitle>3GPP DRAFT; R2-163672 TP FOR MUTING, 3RD GENERATION PARTNERSHIP PROJECT (3GPP)</sertitle><pubdate><sdate>20160522</sdate><edate/></pubdate></serial></article></nplcit><crossref idref="ncit0001">[0004]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
