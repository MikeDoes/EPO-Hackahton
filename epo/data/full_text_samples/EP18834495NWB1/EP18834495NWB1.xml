<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP18834495B1" file="EP18834495NWB1.xml" lang="en" country="EP" doc-number="3654591" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3654591</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>18834495.6</B210><B220><date>20180614</date></B220><B240><B241><date>20200213</date></B241></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>201710586835</B310><B320><date>20170718</date></B320><B330><ctry>CN</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20200520</date><bnum>202021</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210624</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04L  12/58        20060101AFI20200414BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04L  67/2842      20130101 LI20171025BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04L  51/10        20130101 LI20171025BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>H04W  28/14        20130101 LI20171025BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04W  36/0066      20130101 LI20171025BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04L  51/046       20130101 LI20200403BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN UND VORRICHTUNG ZUR ÜBERTRAGUNG VON MULTIMEDIANACHRICHTEN, SPEICHERMEDIUM UND ELEKTRONISCHES GERÄT</B542><B541>en</B541><B542>METHOD AND DEVICE FOR TRANSMITTING MULTIMEDIA MESSAGE, STORAGE MEDIUM, AND ELECTRONIC APPARATUS</B542><B541>fr</B541><B542>PROCÉDÉ ET DISPOSITIF DE TRANSMISSION DE MESSAGE MULTIMÉDIA, SUPPORT D'INFORMATIONS ET APPAREIL ÉLECTRONIQUE</B542></B540><B560><B561><text>EP-A1- 3 073 682</text></B561><B561><text>WO-A1-2017/105630</text></B561><B561><text>CN-A- 102 624 641</text></B561><B561><text>CN-A- 102 984 690</text></B561><B561><text>CN-A- 103 685 330</text></B561><B561><text>CN-A- 105 764 020</text></B561><B561><text>CN-A- 105 848 096</text></B561><B561><text>CN-A- 106 060 951</text></B561><B561><text>CN-A- 106 789 549</text></B561><B561><text>CN-A- 107 395 490</text></B561><B561><text>US-A1- 2014 378 105</text></B561><B565EP><date>20200420</date></B565EP></B560></B500><B700><B720><B721><snm>REN, Chao</snm><adr><str>No.18 Haibin Road
Wusha
Chang'an</str><city>Dongguan
Guangdong 523860</city><ctry>CN</ctry></adr></B721></B720><B730><B731><snm>GUANGDONG OPPO MOBILE TELECOMMUNICATIONS 
CORP., LTD.</snm><iid>101838366</iid><irf>23G038712EP25W</irf><adr><str>No. 18 Haibin Road</str><city>Wusha, Chang'an
Dongguan,
Guangdong 523860</city><ctry>CN</ctry></adr></B731></B730><B740><B741><snm>Penza, Giancarlo</snm><iid>101616752</iid><adr><str>Bugnion S.p.A. 
Viale Lancetti, 17</str><city>20158 Milano</city><ctry>IT</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B860><B861><dnum><anum>CN2018091244</anum></dnum><date>20180614</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2019015420</pnum></dnum><date>20190124</date><bnum>201904</bnum></B871></B870></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">TECHNICAL FIELD</heading>
<p id="p0001" num="0001">The present disclosure relates to communications technical field, and particularly to a method, a device, an electronic device and a storage medium for sending multimedia-message.</p>
<heading id="h0002">BACKGROUND</heading>
<p id="p0002" num="0002">When an electronic device supporting a Rich Communication Service (RCS) technology sends a multimedia-message, it generally uses a manner of instant messaging if the network is available, and uses a manner of short message or a multimedia message if the network is unavailable. However, the fee for sending a multimedia message is relatively high. When the network is not on line, the transmission of the multimedia-message may result in waste of costs. Therefore, further improvement is needed.</p>
<p id="p0003" num="0003"><patcit id="pcit0001" dnum="EP3073682A1"><text>EP 3073682 A1</text></patcit> discloses an electronic device, which comprises: a communication module; a memory; at least one processor operatively coupled to the memory, configured to: display, on the display, a user interface of a messaging application; detect an input indicating a destination telephone number; transmit, via the communication module, a first message comprising a first content by using the destination telephone number and a first protocol; receive, via the communication module, an error message indicating a transmission failure of the first message; and transmit, via the communication module, a second message comprising a second content at least a part of which is the same as the first content, by using the destination telephone number and a second protocol that is different from the first protocol.</p>
<heading id="h0003">SUMMARY</heading>
<p id="p0004" num="0004">The present disclosure provides a method, a device, an electronic device and a storage medium for sending multimedia-message, which can delay sending a multimedia-message, effectively reducing the number of sending multimedia messages and reducing unnecessary charges.</p>
<p id="p0005" num="0005">The invention of the disclosure is defined by the features of the independent claims.<!-- EPO <DP n="2"> --></p>
<heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p0006" num="0006">Specific embodiments of the disclosure are described in detail below with reference to the accompanying drawings, thereby the technical solutions and other advantageous effects of the present disclosure will be apparent.
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001">FIG. 1</figref> is a schematic diagram of an application environment of a method for sending a multimedia-message according to an embodiment of the present disclosure.</li>
<li><figref idref="f0002">FIG. 2</figref> is a schematic flowchart of a method for sending a multimedia-message according to an embodiment of the present disclosure.</li>
<li><figref idref="f0003">FIG. 3</figref> is a schematic flowchart of another method for sending a multimedia-message according to an embodiment of the present disclosure.</li>
<li><figref idref="f0004">FIG. 4</figref> is a schematic structural diagram of a device for sending a multimedia-message according to an embodiment of the present disclosure.</li>
<li><figref idref="f0005">FIG. 5</figref> is a schematic structural diagram of a device for sending a multimedia-message according<!-- EPO <DP n="3"> --> to another embodiment of the present disclosure.</li>
<li><figref idref="f0005">FIG. 6</figref> is a schematic structural diagram of an electronic device according to an embodiment of the present disclosure.</li>
</ul></p>
<heading id="h0005">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p0007" num="0007">The present disclosure will be further described in detail below with reference to the accompanying drawings and embodiments. It is understood that the specific embodiments described herein are merely illustrative of the disclosure and are not intended to limit the disclosure. It should also be noted that, for the convenience of description, only some, but not all of the structures related to the present disclosure are shown in the drawings. All other embodiments obtained by those skilled in the art based on the embodiments of the present disclosure without creative efforts are within the scope of the present disclosure.</p>
<p id="p0008" num="0008">The terms "first" and "second" and the like in the present disclosure are used to distinguish different objects, and are not intended to describe a specific order. Furthermore, the terms "includes" and "including" are intended to cover a non-exclusive inclusion. For example, a process, method, system, product, or device that includes a series of operations or modules is not limited to the listed operations or modules, but optionally includes operations or modules not listed, or alternatively other operations or modules inherent to these processes, methods, products or equipment.</p>
<p id="p0009" num="0009">References to "an embodiment" herein mean that a particular feature, structure, or characteristic described in connection with the embodiments can be included in at least one embodiment of the disclosure. The appearances of the phrases in various places in the specification are not necessarily referring to the same embodiments, and are not exclusive or alternative embodiments that are mutually exclusive. Those skilled in the art will understand and implicitly understand that the embodiments described herein can be combined with other embodiments.</p>
<p id="p0010" num="0010">An execution body of a method for sending a multimedia-message according to an embodiment of the present disclosure may be a device for sending a multimedia-message or an electronic device (such as a handheld computer, the tablet, the smart phone and the like) that integrates the device for sending the multimedia-message. The device for sending the multimedia-message can be implemented by using hardware or software.</p>
<p id="p0011" num="0011"><figref idref="f0001">FIG. 1</figref> is a schematic diagram of an application environment of a method for sending a multimedia-message according to an embodiment of the present disclosure. The application environment includes an electronic device 100, a base station 200, a network hotspot 300, an operator server 400, and a communication network 500.</p>
<p id="p0012" num="0012">The electronic device 100 includes a service interface of a Rich Communication Service (RCS), wherein the RCS may be implemented by a built-in function customized by the electronic device 100 or a downloaded application. The electronic device 100 selects the base station 200 or the operator server 400 to support a Multimedia Messaging Service (MMS), according to the size of the data amount of the MMS.<!-- EPO <DP n="4"> --></p>
<p id="p0013" num="0013">The base station 200 is configured to support the MMS in a conventional manner, and send the MMS by a data channel 510 between the base station 200 and the electronic device 100. It can be understood that the MMS sent by the base station 200 is recorded in the user's communication package, and if there is an excess, the excess is generally charged according to the network traffic.</p>
<p id="p0014" num="0014">The operator server 400 is configured to receive the MMS and send the MMS through a network channel 520 between the electronic device 10 and itself. The advantage of the network service 400 is that the price is low, and the disadvantage is that it is not as dense as the base station 200. Thus, there may be a connection failure or a busy system, which may result in a failure of sending the MMS or a too long delay of the MMS.</p>
<p id="p0015" num="0015">When the operator server 400 fails to send, the operator server 400 notifies the electronic device 100 to send the MMS through the base station 200 when the transmission condition is satisfied. It will be appreciated that the transmission through the operator server 400 is generally free.</p>
<p id="p0016" num="0016">The communication network 500, including the data channel 510 and the network channel 520, is configured to support the transmission of communication information. The data channel 510 is constructed by the base station 200 and the electronic device 100. The network channel 520 is constructed by the operator server 400, the network hotspot 300, and the electronic device 100, and includes a combination of one or more of a wireless wide area network, a wireless local area network, a wireless metropolitan area network, and/or a personal network.</p>
<p id="p0017" num="0017">The network hotspot 300 is connected between the electronic device 100 and the operator server 400, and is configured for sending the multimedia-message service from the electronic device 100 to another network hotspot via the operator server 400 until sending the multimedia-message to another electronic device. Preferably, it is a Wi-Fi hotspot designated by the user, such as a Wi-Fi hotspot in the home, in an office, or in a shopping mall.</p>
<p id="p0018" num="0018">In the embodiment of the present disclosure, a multimedia-message to be sent is obtained by the electronic device 100. The electronic device 100 stores the multimedia-message to be sent in a cache, when the RCS of the electronic device 100 is not in the online state. When a waiting time for transmission is less than a preset time and the electronic device 100 receives a notification that the RCS is online, the electronic device 100 sends the multimedia-message in the cache to the network hotspot 300 through the network channel 520 by a manner of instant massaging (IM). Then the electronic device 100 sends the multimedia-message to another network hotspot through the operator server 400, until the multimedia-message is sent to another electronic device. When the waiting time for transmission reaches the preset time and the notification is not received that the RCS is online, the electronic device 100 sends the multimedia-message in the cache by a manner of MMS via the data channel 510 and the base station 200.</p>
<p id="p0019" num="0019">An embodiment of the present disclosure provides a method for sending a multimedia-message, the method includes:
<ul id="ul0002" list-style="none" compact="compact">
<li>obtaining a multimedia-message to be sent;</li>
<li>storing the multimedia-message to be sent into a cache, when a RCS of the electronic device is<!-- EPO <DP n="5"> --> offline;</li>
<li>sending the multimedia-message in the cache by a manner of IM, when a waiting time for transmission is less than a preset time and an online notification of the RCS is received;</li>
<li>sending the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received.</li>
</ul></p>
<p id="p0020" num="0020">In some embodiments, the operation of sending the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and an online notification of the RCS is received, includes:<br/>
sending the multimedia-message in the cache by a manner of IM, according to an order of storing the multimedia-messages in the cache from first to last.</p>
<p id="p0021" num="0021">In some embodiments, the operation of sending the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and an online notification of the RCS is received, includes:<br/>
sending the multimedia-message in the cache by a manner of IM, according to an order of the data volume of the multimedia-message in the cache from small to large.</p>
<p id="p0022" num="0022">In some embodiments, the operation of sending the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received, includes:<br/>
sending the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is greater than and/or equal to the preset time.</p>
<p id="p0023" num="0023">In some embodiments, before the operation of storing the multimedia-message to be sent into a cache, when a RCS of the electronic device is offline, the method further includes:
<ul id="ul0003" list-style="none" compact="compact">
<li>detecting whether the number of remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;</li>
<li>sending the multimedia-message to be sent by a manner of MMS, when the number of the remaining multimedia messages in the current communication package of the electronic device is greater than the preset number;</li>
<li>storing the multimedia-message to be sent in the cache, when the number of the remaining multimedia messages in the current communication package of the electronic device is less than the preset number or equal to the preset number.</li>
</ul></p>
<p id="p0024" num="0024">In some embodiments, after obtaining a multimedia-message to be sent, the method further includes:<br/>
sending the multimedia-message to be sent by a manner of IM when the RCS of the electronic device is in an online state.</p>
<p id="p0025" num="0025">In some embodiments, the operation of sending the multimedia-message in the cache by a manner of IM, when a waiting time for transmission is less than a preset time and a receiving of an online notification of the RCS, includes:<br/>
sending the multimedia-message in the cache by a manner of IM, according to the data volume<!-- EPO <DP n="6"> --> of the multimedia-message in the cache from small to large.</p>
<p id="p0026" num="0026"><figref idref="f0002">FIG. 2</figref> is a schematic flowchart diagram of a method for sending a multimedia-message according to an embodiment of the present disclosure. The method is applied to an electronic device supporting a converged communication technology. As illustrated in <figref idref="f0002">FIG. 2</figref>, the method may include the following operations.</p>
<p id="p0027" num="0027">In an operation S101, the electronic device obtains a multimedia-message to be sent.</p>
<p id="p0028" num="0028">The multimedia-message to be sent can be obtained, when a user edits a multimedia-message on the electronic device and inputs a sending instruction, or, when receiving the instruction that the user forwards a received multimedia-message. The multimedia-message refers to media information in the form of text, image, video, audio, animation, and the like. Such as pictures, images, sounds, locations, files and other news.</p>
<p id="p0029" num="0029">In an operation S102, when the RCS of the electronic device is not in the online state, the multimedia message to be sent is stored into the cache.</p>
<p id="p0030" num="0030">The state of the RCS of the electronic device can be determined by detecting whether the IM of the electronic device is normally received and sent. For example, when it is detected that the IM of the electronic device is normally received and sent, it is determined that the RCS of the electronic device is in an online state. When it is detected that the IM of the electronic device cannot be normally sent and received, it is determined that the RCS of the electronic device is not in an online state.</p>
<p id="p0031" num="0031">The state of the RCS of the electronic device may be determined by sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and whether it can successfully register to an IP Multimedia Core Network Subsystem (IMS) network. For example, when the electronic device does not have a valid configuration file, it is determined that the RCS of the electronic device is not at the online state. When the electronic device has a valid configuration file, it is further detected whether the network of the electronic device is connected. When the network of the electronic device is not connected, it is determined that the RCS of the electronic device is not at the online state. When the network of the electronic device is connected, it is further detected whether the electronic device can successfully register to the IMS network of the RCS. When the IMS network of the RCS cannot be successfully registered, the RCS of the electronic device is not at the online state. When successfully registered to the IMS network of the RCS, it is determined that the RCS of the electronic device is at the online state.</p>
<p id="p0032" num="0032">The multimedia-message to be sent is sent by a manner of IM, when the RCS of the electronic device is in an online state. When the RCS of the electronic device is not in an online state, the electronic device stores the multimedia-message to be sent in a cache to wait for sending.</p>
<p id="p0033" num="0033">The cache is an area defined by the buffer space of the electronic device for storing the multimedia-message to be sent, and the cache may be identified as a waiting cache.</p>
<p id="p0034" num="0034">In some embodiments, when the multimedia-message to be sent is stored in the cache, the electronic device can generate a message, and the message is shown on a display interface of the electronic device to remind the user that the multimedia-message is to be sent when it is detected the<!-- EPO <DP n="7"> --> RCS of the electronic device is at the online state.</p>
<p id="p0035" num="0035">In an operation S103, when the waiting time for transmission is less than a preset time and a receiving of a notification that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM.</p>
<p id="p0036" num="0036">The preset time may be set by a user, for examples of setting as 10 minutes, 30 minutes, 1 hour, 4 hours, etc. The preset time may also be set by the device manufacturer before the electronic device is shipped from the factory. After the multimedia-message waited to be sent is stored in the cache, the waiting time for transmission starts from the time that a first multimedia-message is stored in the cache. When the waiting time for transmission is within the preset time, the RCS of the electronic device may be at the online state again. So that the RCS of the electronic device may be detected in the background at intervals of the preset time. When the RCS of the electronic device is detected at the online state again, an online notification is triggered. When the waiting time for transmission is less than the preset time and the electronic device receives the online notification of the RCS, the electronic device sends the multimedia-message in the cache by a manner of IM immediately.</p>
<p id="p0037" num="0037">For example, the preset time is set as 1 hour. After a number of multimedia-messages to be sent are stored into the cache, the waiting time for transmission is counted from the time that a first one of the multimedia-messages is stored in the cache. For example, the time of the first multimedia-message stored in the cache is at 9:15, during the waiting time for transmission of 9:15 to 10:14, the RCS of the electronic device may be at the online state again. So from 9:15 to 10:15, it is detected in the background whether the RCS of the electronic device is online again every 5 minutes. When it is detected that the RCS of the electronic device is successfully launched again, the online notification is triggered. During the waiting time for transmission from 9:15 to 10:14, when the electronic device receives the online notification, the electronic device sends the multimedia-messages in the cache by a manner of IM immediately.</p>
<p id="p0038" num="0038">In some embodiments, when the waiting time for transmission is less than the preset time, and the online notification is received, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0039" num="0039">The electronic device sends the multimedia-message in the cache by a manner of IM according to the order of storing the multimedia messages in the cache from first to last.</p>
<p id="p0040" num="0040">In some embodiments, when the waiting time for transmission is less than the preset time, and receives the online notification of the RCS, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0041" num="0041">The electronic device sends the multimedia-message by a manner of IM, according to an order of the data volume of the multimedia-message in the cache from small to large.</p>
<p id="p0042" num="0042">In an operation S104, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received, the electronic device sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0043" num="0043">When the waiting time for transmission reaches the preset time, a message timeout event is<!-- EPO <DP n="8"> --> triggered, and it is detected whether the RCS of the electronic device is online again. When it is detected that the RCS of the electronic device is still offline, or the online notification of the RCS is still not received, the electronic device sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0044" num="0044">In some embodiments, when the waiting time for transmission reaches the preset time and notification is not received that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0045" num="0045">The electronic device sends the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is greater than and/or equal to the preset time.</p>
<p id="p0046" num="0046">In some embodiments, when the RCS of the electronic device is not in the online state, before the electronic device stores the multimedia-message to be sent into the cache, the method further includes:
<ul id="ul0004" list-style="none" compact="compact">
<li>detecting whether the number of remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;</li>
<li>when the number of the remaining multimedia messages in the current communication package of the electronic device is greater than the preset number, sending the multimedia-message to be sent by a manner of MMS;</li>
<li>when the number of the remaining multimedia messages in the current communication package of the electronic device is less than or equal to the preset number, storing the multimedia-message to be sent in the cache.</li>
</ul></p>
<p id="p0047" num="0047">All of the above optional technical solutions may be used in any combination to form an optional embodiment of the present disclosure, and will not be further described herein.</p>
<p id="p0048" num="0048"><figref idref="f0003">FIG. 3</figref> is another schematic flowchart of a method for sending a multimedia-message according to an embodiment of the present disclosure. The method may include the following operations.</p>
<p id="p0049" num="0049">In operation S201, the electronic device obtains the multimedia-message to be sent.</p>
<p id="p0050" num="0050">The multimedia-message to be sent can be obtained, when a user edits a multimedia-message on the electronic device and inputs a sending instruction, or, when receiving the instruction that the user forwards a received multimedia-message. The multimedia-message refers to media information in the form of text, image, video, audio, animation, and the like. Such as pictures, images, sounds, locations, files and other news.</p>
<p id="p0051" num="0051">In operation S202, it is determined whether the RCS of the electronic device is in an online state. If not, a next operation S203 is executed; if yes, a following operation S208 is executed.</p>
<p id="p0052" num="0052">The state of the RCS of the electronic device can be determined by detecting whether the IM of the electronic device is normally received and sent. For example, when it is detected that the IM of the electronic device is normally received and sent, it is determined that the RCS of the electronic device is in an online state. When it is detected that the IM of the electronic device cannot be normally sent and received, it is determined that the RCS of the electronic device is not in an online state.</p>
<p id="p0053" num="0053">The state of the RCS of the electronic device may be determined by sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and<!-- EPO <DP n="9"> --> whether it can successfully register to an IP Multimedia Core Network Subsystem (IMS) network. For example, when the electronic device does not have a valid configuration file, it is determined that the RCS of the electronic device is not at the online state. When the electronic device has a valid configuration file, it is further detected whether the network of the electronic device is connected. When the network of the electronic device is not connected, it is determined that the RCS of the electronic device is not at the online state. When the network of the electronic device is connected, it is further detected whether the electronic device can successfully register to the IMS network of the RCS. When the IMS network of the RCS cannot be successfully registered, the RCS of the electronic device is not at the online state. When successfully registered to the IMS network of the RCS, it is determined that the RCS of the electronic device is at the online state.</p>
<p id="p0054" num="0054">In operation S203, it is detected whether the number of remaining multimedia messages in the current communication package of the electronic device is greater than a preset number. If no, an operation S204 is executed; if yes, an operation S209 is executed.</p>
<p id="p0055" num="0055">The electronic devices have a free number of MMS messages in the communication package for a fixed period of time. For example, a monthly communication package includes 30 free MMS messages. When the RCS of the electronic device is not in the online state, the free MMS resources in the communication package can be reasonably utilized, and the multimedia-message is sent by using the MMS within the communication package. It can avoid the generation of additional tariffs and ensure the timeliness of multimedia-message. For example, when the RCS of the electronic device is not in the online state, it is detected whether the number of the remaining multimedia messages in the current communication package of the electronic device is greater than a preset number. For example, the number of the remaining multimedia messages in the current communication package can be obtained by monitoring and recording data of the monitoring software. The monitoring software updates the recorded information according to the communication package margin displayed on the official website of the operator when the monitoring software is connected to the network. The monitoring software counts the number of MMS messages that occurred during the current time to the most recent update time in the non-networked state, so as to accurately calculate the number of remaining multimedia messages in the current communication package. For example, the preset number may be determined according to a percentage corresponding to the number of multimedia messages of the communication package in a fixed period of time. For example, the number of multimedia messages of the monthly communication package is 50, and the preset number is a multimedia message of the communication package. 20% of the number of bars, that is, the preset number is 10. The preset number can be set by the user. For example, if the number of remaining multimedia messages in the current communication package is 30, which is greater than the preset number of 10, the operation S209 is executed to send the multimedia-message to be sent by a manner of MMS. For example, if the number of remaining multimedia messages in the current communication package is 8 and less than the preset number of 10, the operation S204 is executed to store the multimedia-message to be sent into the cache.</p>
<p id="p0056" num="0056">In operation S204, the electronic device stores the multimedia-message to be sent in a cache.<!-- EPO <DP n="10"> --></p>
<p id="p0057" num="0057">When the number of remaining multimedia messages in the current communication package of the electronic device is less than the preset number or equal to the preset number, the free multimedia messages in the current communication package are less. In order to avoid generating additional charges, cannot send the multimedia-message by a manner of MMSs temporarily. Then the electronic device can store the multimedia-message to be sent in a cache to wait for sending.</p>
<p id="p0058" num="0058">The cache is an area defined by the buffer space of the electronic device for storing the multimedia-message to be sent, and the cache may be identified as a waiting cache.</p>
<p id="p0059" num="0059">In some embodiments, when the multimedia-message to be sent is stored in the cache, the electronic device can generate a message, and the message is shown on a display interface of the electronic device to remind the user that the multimedia-message is to be sent when it is detected the RCS of the electronic device is at the online state.</p>
<p id="p0060" num="0060">In operation S205, when a waiting time for transmission is less than a preset time and a receiving of a notification that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM.</p>
<p id="p0061" num="0061">The preset time may be set by a user, for examples of setting as 10 minutes, 30 minutes, 1 hour, 4 hours, etc. The preset time may also be set by the device manufacturer before the electronic device is shipped from the factory. After the multimedia-message waited to be sent is stored in the cache, the waiting time for transmission starts from the time that a first multimedia-message is stored in the cache. When the waiting time for transmission is within the preset time, the RCS of the electronic device may be at the online state again. So that the RCS of the electronic device may be detected in the background at intervals of the preset time. When the RCS of the electronic device is detected at the online state again, an online notification is triggered. When the waiting time for transmission is less than the preset time and the electronic device receives the online notification of the RCS, the electronic device sends the multimedia-message in the cache by a manner of IM immediately.</p>
<p id="p0062" num="0062">For example, the preset time is set as 1 hour. After a number of multimedia-messages to be sent are stored into the cache, the waiting time for transmission is counted from the time that a first one of the multimedia-messages is stored in the cache. For example, the time of the first multimedia-message stored in the cache is at 9:15, during the waiting time for transmission of 9:15 to 10:14, the RCS of the electronic device may be at the online state again. So from 9:15 to 10:15, it is detected in the background whether the RCS of the electronic device is online again every 5 minutes. When it is detected that the RCS of the electronic device is successfully launched again, the online notification is triggered. During the waiting time for transmission from 9:15 to 10:14, when the electronic device receives the online notification, the electronic device sends the multimedia-messages in the cache by a manner of IM immediately.</p>
<p id="p0063" num="0063">In some embodiments, when the waiting time for transmission is less than the preset time, and receives the notification that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0064" num="0064">The electronic device sends the multimedia-message in the cache by a manner of IM according<!-- EPO <DP n="11"> --> to the order of storing the multimedia messages in the cache from first to last.</p>
<p id="p0065" num="0065">For example, the preset time is set as T time. In the T time, when it is detected that the RCS network of the electronic device is successfully launched again, the online notification is triggered. When the electronic device receives the notification that the RCS is online, it checks whether there is a multimedia-message waiting for sending in the cache, and if there is a multimedia-message waiting for sending, the electronic device sends the multimedia-message in the cache by the order of time. If there is no multimedia-message waiting for sending in the cache, the process ends.</p>
<p id="p0066" num="0066">In some embodiments, when the waiting time for transmission is less than the preset time, and receives the notification that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0067" num="0067">The electronic device sends the multimedia-message by a manner of IM, according to an order of the data volume of the multimedia-message in the cache from small to large.</p>
<p id="p0068" num="0068">For example, in a cache, there may be multiple multimedia-messages waiting to be sent with different data sizes. A multimedia-message with a large amount of data needs to consume more data traffic to send. Some MMS messages are charged according to the size of the send traffic. In order to reduce the probability of sending large amounts of data in the MMS, the electronic device can send multimedia-messages with a large amount of data when networking, to send more multimedia-messages with a larger amount of data during the networking phase. When the waiting time for transmission is less than the preset time, and receive the notification of the RCS is online, the electronic device can send the multimedia-message in the cache according to the data amount of the multimedia-message from large to small by a manner of IM.</p>
<p id="p0069" num="0069">In some embodiments, the electronic device can send the multimedia-message in the cache by a manner of IM in order of the data amount of the multimedia-message from small to large.</p>
<p id="p0070" num="0070">For example, in the cache, there may be multiple multimedia messages waiting to be sent with different data sizes. Some MMS charges are not differentiated according to the amount of message data, and are only charged according to the number of sent messages. In order to reduce the number of MMS messages in the MMS, the electronic device can send the multimedia-messages with a small amount of data when networking, to send more multimedia-messages with a smaller amount of data during the networking phase. When the waiting time for transmission is less than the preset time, and receive the notification of the RCS is online, the electronic device can send the multimedia-message in the cache according to the data amount of the multimedia-message from small to large by a manner of IM.</p>
<p id="p0071" num="0071">In operation S206, when the waiting time for transmission reaches the preset time and not receive the notification of the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0072" num="0072">When the waiting time for transmission reaches the preset time, a message timeout event is triggered, and it is detect whether the RCS of the electronic device is online again. When it is detected that the RCS of the electronic device is still offline, or the online notification of the RCS is still not<!-- EPO <DP n="12"> --> received, the electronic device sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0073" num="0073">In some embodiments, when the waiting time for transmission reaches the preset time and notification is not received that the RCS is online, the electronic device sends the multimedia-message in the cache by a manner of IM, as follows:</p>
<p id="p0074" num="0074">The electronic device sends the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is greater than and/or equal to the preset time.</p>
<p id="p0075" num="0075">For example, the preset time is set as T time, and when the waiting time for transmission reaches the T time, the message timeout event is triggered. The electronic device searches the multimedia-message waiting for sending time is greater than and/or equal to the T time from the cache, and sends the multimedia-message by MMS. The multimedia-message waiting for the transmission time less than the T time in the cache will continue to wait.</p>
<p id="p0076" num="0076">In operation S207, the electronic device clears the multimedia-message has been sent in the cache.</p>
<p id="p0077" num="0077">The multimedia-message that has been sent in the cache is cleared after the multimedia-message in the cache is sent by a manner of IM. The multimedia-message that has been sent in the cache is cleared after the multimedia-message in the cache is sent by a manner of MMS.</p>
<p id="p0078" num="0078">In operation S208, the electronic device sends the multimedia-message to be sent by a manner of IM.</p>
<p id="p0079" num="0079">When the RCS of the electronic device is in an online state, the electronic device sends the multimedia-message to be sent through the channel of IM to send the multimedia-message by a manner of IM.</p>
<p id="p0080" num="0080">In operation S209, the electronic device sends the multimedia-message to be sent by a manner of MMS.</p>
<p id="p0081" num="0081">If the number of the remaining multimedia messages in the current communication package of the electronic device is greater than the preset number, it indicates that the free multimedia message resources in the current communication package are relatively abundant. Then the electronic device can send the multimedia-message to be sent by a manner of MMS. It can avoid additional charges and guarantee the timeliness of multimedia-messages.</p>
<p id="p0082" num="0082">The embodiment of the present disclosure obtains the multimedia-message to be sent, and when the RCS of the electronic device is not in the online state, the multimedia-message to be sent is stored in the cache. When the waiting time for transmission is less than the preset time and a receiving of an online notification that the RCS is online, the multimedia-message in the cache is sent by a manner of IM. When the waiting time for transmission reaches the preset time and the online notification of the RCS is not received, the multimedia-message in the cache is sent by a manner of MMS. The embodiment of the disclosure can delay sending a multimedia-message, effectively reduce the number of sending multimedia messages and reduce unnecessary charges.</p>
<p id="p0083" num="0083">The embodiment of the disclosure further provides a device for sending a multimedia-message, the device includes the following modules:<!-- EPO <DP n="13"> -->
<ul id="ul0005" list-style="none" compact="compact">
<li>an acquiring module, configured to acquire the multimedia-message to be sent;</li>
<li>a cache module, configured to store the multimedia-message to be sent into a cache when a RCS of the electronic device is not in an online state;</li>
<li>a first sending module, configured to send the multimedia-message in the cache by a manner of IM, when a waiting time for transmission is less than the preset time and a receiving of an online notification of the RCS; and</li>
<li>a second sending module, configured to send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches a preset time and the online notification of the RCS is not received.</li>
</ul></p>
<p id="p0084" num="0084">In some embodiments, the first sending module is further configured to send the multimedia-message in the cache by a manner of IM according to an order of storing the multimedia-messages in the cache from first to last.</p>
<p id="p0085" num="0085">In some embodiments, the first sending module is further configured to send the multimedia-message in the cache by a manner of IM according to an order of the data volume of the multimedia-message in the cache from small to large.</p>
<p id="p0086" num="0086">In some embodiments, the second sending module is further configured to send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is greater than and/or equal to the preset time.</p>
<p id="p0087" num="0087">In some embodiments, the device further includes:
<ul id="ul0006" list-style="none" compact="compact">
<li>a detecting module, configured to detect whether the number of a remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;</li>
<li>wherein the second sending module is further configured to send the multimedia-message to be sent by a manner of MMS when the number of the remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;</li>
<li>wherein the cache module is further configured to store the multimedia-message to be sent into a cache when the number of the remaining multimedia messages in the current communication package of the electronic device is less than preset number or equal to a preset number.</li>
</ul></p>
<p id="p0088" num="0088">The embodiment of the present disclosure further provides a device for sending a multimedia-message. As shown in <figref idref="f0004">FIG. 4, FIG. 4</figref> is a schematic structural diagram of a device for sending a multimedia-message according to an embodiment of the present disclosure. The device 30 for sending multimedia-message includes an acquiring module 31, a cache module 34, a first sending module 35, and a second sending module 36.</p>
<p id="p0089" num="0089">The acquiring module 31 is configured to obtain the multimedia-message to be sent.</p>
<p id="p0090" num="0090">The multimedia-message to be sent can be obtained by the acquiring module 31, when a user edits a multimedia-message on the electronic device and inputs a sending instruction, or, when receiving the instruction that the user forwards a received multimedia-message. The multimedia-message refers to media information in the form of text, image, video, audio, animation, and the like. Such as pictures, images, sounds, locations, files and other news.<!-- EPO <DP n="14"> --></p>
<p id="p0091" num="0091">The cache module 34, is configured to store the multimedia message to be sent into the cache, when the RCS of the electronic device is not in the online state.</p>
<p id="p0092" num="0092">The multimedia-message to be sent is sent by a manner of IM, when the RCS of the electronic device is in an online state. When the RCS of the electronic device is not in an online state, the cache module 34 stores the multimedia-message in a cache to wait for sending.</p>
<p id="p0093" num="0093">The first sending module 35, is configured to send the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and an online notification of the RCS is received.</p>
<p id="p0094" num="0094">The preset time may be set by a user, for examples of setting as 10 minutes, 30 minutes, 1 hour, 4 hours, etc. The preset time may also be set by the device manufacturer before the electronic device is shipped from the factory. After the multimedia-message waited to be sent is stored in the cache, the waiting time for transmission starts from the time that a first multimedia-message is stored in the cache. When the waiting time for transmission is within the preset time, the RCS of the electronic device may be at the online state again. So that the RCS of the electronic device may be detected in the background at intervals of the preset time. When the RCS of the electronic device is detected at the online state again, an online notification is triggered. When the waiting time for transmission is less than the preset time and the electronic device receives the online notification of the RCS, the first sending module 35 sends the multimedia-message in the cache by a manner of IM immediately.</p>
<p id="p0095" num="0095">The second sending module 36, is configured to send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received.</p>
<p id="p0096" num="0096">When the waiting time for transmission reaches the preset time, a message timeout event is triggered, and it is detected whether the RCS of the electronic device is online again. When it is detected that the RCS of the electronic device is still offline, or the online notification of the RCS is still not received, the second sending module 36 sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0097" num="0097">Referring to <figref idref="f0005">FIG. 5, FIG. 5</figref> is another schematic structural diagram of a device for sending multimedia-message according to an embodiment of the present disclosure. The device 30 for sending the multimedia-message includes a determining module 32, a detecting module 33, a cache module 34, a first sending module 35, a second sending module 36, and a cleaning module 37.</p>
<p id="p0098" num="0098">The acquiring module 31 is configured to obtain the multimedia-message to be sent.</p>
<p id="p0099" num="0099">The multimedia-message to be sent can be obtained by the acquiring module 31, when a user edits a multimedia-message on the electronic device and inputs a sending instruction, or, when receiving the instruction that the user forwards a received multimedia-message. The multimedia-message refers to media information in the form of text, image, video, audio, animation, and the like. Such as pictures, images, sounds, locations, files and other news.</p>
<p id="p0100" num="0100">The determining module 32 is configured to determine whether the RCS of the electronic device is in an online state.<!-- EPO <DP n="15"> --></p>
<p id="p0101" num="0101">The determining module 32 can determine the state of the RCS of the electronic device by detecting whether the IM of the electronic device is normally received and sent. For example, the determining module 32 determines that the RCS of the electronic device is in an online state when it is detected that the IM of the electronic device is normally received and sent The determining module 32 determines that the RCS of the electronic device is not in an online state, when it is detected that the IM of the electronic device cannot be normally sent and received.</p>
<p id="p0102" num="0102">The determining module 32 may determine the state of the RCS of the electronic device by sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and whether it can successfully register to an IP Multimedia Core Network Subsystem (IMS) network. For example, when the electronic device does not have a valid configuration file, it is determined that the RCS of the electronic device is not at the online state. When the electronic device has a valid configuration file, it is further detected whether the network of the electronic device is connected. When the network of the electronic device is not connected, it is determined that the RCS of the electronic device is not at the online state. When the network of the electronic device is connected, it is further detected whether the electronic device can successfully register to the IMS network of the RCS. When the IMS network of the RCS cannot be successfully registered, the RCS of the electronic device is not at the online state. When successfully registered to the IMS network of the RCS, it is determined that the RCS of the electronic device is at the online state.</p>
<p id="p0103" num="0103">The detecting module 33 is configured to detect whether the number of remaining multimedia messages in the current communication package of the electronic device is greater than a preset number.</p>
<p id="p0104" num="0104">Many electronic devices have a free number of MMS messages in the communication package for a fixed period of time. For example, a monthly communication package includes 30 free MMS messages. When the RCS of the electronic device is not in the online state, the free MMS resources in the communication package can be reasonably utilized, and the multimedia-message is sent by using the MMS within the communication package, thereby avoiding the generation of additional tariffs and ensuring the timeliness of multimedia-message. For example, when the RCS of the electronic device is not in the online state, the detecting module 33 detects whether the number of remaining multimedia messages in the current communication package of the electronic device is greater than a preset number. For example, the number of remaining multimedia messages in the current communication package can be obtained by monitoring and recording data of the monitoring software. The monitoring software updates the recorded information according to the communication package margin displayed on the official website of the operator when the monitoring software is connected to the network. The monitoring software counts the number of MMS messages that occurred during the current time to the most recent update time in the non-networked state, so as to accurately calculate the number of remaining MMS messages in the current communication package. For example, the preset number may be determined according to a percentage corresponding to the number of multimedia messages of the communication package in a fixed period of time. For example, the number of multimedia messages of the monthly communication package is 50, and the preset number is a multimedia message<!-- EPO <DP n="16"> --> of the communication package. 20% of the number of bars, that is, the preset number is 10. The preset number can be set by the user. For example, if the number of remaining multimedia messages in the current communication package is 30, the second obtaining module 36 sends the multimedia-message to be sent by a manner of MMS. For example, if the number of remaining multimedia messages in the current communication package is 8 and less than the preset number of 10, the cache module 34 stores the multimedia-message to be sent into the cache.</p>
<p id="p0105" num="0105">The cache module 34 is configured to store the multimedia-message to be sent into the cache, when the number of remaining multimedia messages in the current communication package of the electronic device is less than the preset number or equal to the preset number.</p>
<p id="p0106" num="0106">When the number of remaining multimedia messages in the current communication package of the electronic device is less than the preset number or equal to the preset number, the free MMS resources in the current communication package are less. In order to avoid generating additional charges, cannot send the multimedia-message by MMS temporarily. Then the cache module 34 can store the multimedia-message to be sent in a cache to wait for sending.</p>
<p id="p0107" num="0107">The cache is an area defined by the buffer space of the electronic device for storing the multimedia-message to be sent, and the cache may be identified as a waiting cache.</p>
<p id="p0108" num="0108">In some embodiments, when the multimedia-message to be sent is stored in the cache, the cache module 34 can generate a message, and the message is shown on a display interface of the electronic device to remind the user that the multimedia-message is to be sent when it is detected the RCS of the electronic device is at the online state.</p>
<p id="p0109" num="0109">The first sending module 35 is configured to send the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and a receiving of a notification that the RCS is online.</p>
<p id="p0110" num="0110">The preset time may be set by a user, for examples of setting as 10 minutes, 30 minutes, 1 hour, 4 hours, etc. The preset time may also be set by the device manufacturer before the electronic device is shipped from the factory. After the multimedia-message waited to be sent is stored in the cache, the waiting time for transmission starts from the time that a first multimedia-message is stored in the cache. When the waiting time for transmission is within the preset time, the RCS of the electronic device may be at the online state again. So that the RCS of the electronic device may be detected in the background at intervals of the preset time. When the RCS of the electronic device is detected at the online state again, an online notification is triggered. When the waiting time for transmission is less than the preset time and the electronic device receives the online notification of the RCS, the first sending module 35 sends the multimedia-message in the cache by a manner of IM immediately.</p>
<p id="p0111" num="0111">In some embodiments, the first sending module 35 is further configured to sends the multimedia-message in the cache by a manner of IM according to the order of storing the multimedia messages in the cache.</p>
<p id="p0112" num="0112">For example, the preset time is set as T time. In the T time, when it is detected that the RCS network of the electronic device is successfully launched again, the online notification is triggered.<!-- EPO <DP n="17"> --> When the electronic device receives the notification that the RCS is online, it checks whether there is a multimedia-message waiting for sending in the cache, and if there is a multimedia-message waiting for sending, the first sending module 35 sends the multimedia-message in the cache by the order of time. If there is no multimedia-message waiting for sending in the cache, the process ends.</p>
<p id="p0113" num="0113">In some embodiments, the first sending module 35 is further configured to sends the multimedia-message by a manner of IM, according to an order of the data amount of the multimedia-message in the cache.</p>
<p id="p0114" num="0114">For example, in a cache, there may be multiple multimedia-messages waiting to be sent with different data sizes. A multimedia-message with a large amount of data needs to consume more data traffic to send. Some MMS messages are charged according to the size of the send traffic. In order to reduce the probability of sending large amounts of data in the MMS, the electronic device can send multimedia-messages with a large amount of data when networking, to send more multimedia-messages with a larger amount of data during the networking phase. When the waiting time for transmission is less than the preset time, and receive the notification of the RCS is online, the first sending module 35 can send the multimedia-message in the cache according to the data amount of the multimedia-message from large to small by a manner of IM.</p>
<p id="p0115" num="0115">In some embodiments, the first sending module 35 is configured to send the multimedia-message in the cache by a manner of IM in order of the data amount of the multimedia-message from small to large.</p>
<p id="p0116" num="0116">For example, in the cache, there may be multiple multimedia messages waiting to be sent with different data sizes. Some MMS charges are not differentiated according to the amount of message data, and are only charged according to the number of sent messages. In order to reduce the number of MMS messages in the MMS mode, the electronic device can send the multimedia-messages with a small amount of data when networking, to send more multimedia-messages with a smaller amount of data during the networking phase. When the waiting time for transmission is less than the preset time, and receive the notification of the RCS is online, the first sending module 35 can send the multimedia-message in the cache according to the data amount of the multimedia-message from small to large by a manner of IM.</p>
<p id="p0117" num="0117">The second sending module 36, is configured to send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and not receive the notification of the RCS is online.</p>
<p id="p0118" num="0118">When the waiting time for transmission reaches the preset time, the message timeout event is triggered, and detect whether the current converged communication of the electronic device is online again. When it is detected that the RCS of the electronic device is still offline, or not receive the notification of the RCS online, the second sending module 36 sends the multimedia-message in the cache by a manner of MMS.</p>
<p id="p0119" num="0119">In some embodiments, the second sending module 36 is further configured to sends the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is<!-- EPO <DP n="18"> --> greater than and/or equal to the preset time.</p>
<p id="p0120" num="0120">For example, the preset time is set as T time, and when the waiting time for transmission reaches the T time, the message timeout event is triggered. The electronic device searches the multimedia-message waiting for sending time is greater than and/or equal to the T time from the cache, and sends the multimedia-message by MMS. The multimedia-message waiting for the transmission time less than the T time in the cache will continue to wait.</p>
<p id="p0121" num="0121">In some embodiments, the cleaning module 37 is configured to clear the multimedia-message has been sent in the cache.</p>
<p id="p0122" num="0122">The cleaning module 37 cleans the multimedia-message that has been sent in the cache after the multimedia-message in the cache is sent by a manner of IM. The cleaning module 37 cleans the multimedia-message that has been sent in the cache after the multimedia-message in the cache is sent by a manner of MMS.</p>
<p id="p0123" num="0123">In some embodiments, the first sending module 35 is configured to send the multimedia-message to be sent by a manner of IM, When the RCS of the electronic device is in an online state.</p>
<p id="p0124" num="0124">When the RCS of the electronic device is in an online state, the first sending module 35 sends the multimedia-message to be sent through the channel of instant communication to send the multimedia-message by a manner of IM.</p>
<p id="p0125" num="0125">In some embodiments, the second sending module 36 is configured send the multimedia-message to be sent by a manner of MMS.</p>
<p id="p0126" num="0126">If the number of the remaining multimedia messages in the current communication package of the electronic device is greater than the preset number, it indicates that the free multimedia message resources in the current communication package are relatively abundant. Then the second sending module 36 can send the multimedia-message to be sent by using the multimedia message. It can avoid additional charges and guarantee the timeliness of multimedia-messages.</p>
<p id="p0127" num="0127">The embodiment of the present disclosure further provides an electronic device, including a memory and a processor, and the processor executes a method for sending a multimedia-message according to any embodiment of the present disclosure by calling a computer program stored in the memory.</p>
<p id="p0128" num="0128">The electronic device can be a device such as a smart phone, a tablet computer, or a palmtop computer. As shown in <figref idref="f0005">FIG. 6</figref>, the electronic device 100 includes a processor 110 having one or more processing cores, a memory 120 having one or more computer readable storage media, and the computer program can store on the memory 120 and run on the processor 110. The processor 110 is electrically connected to the memory 120. It will be understood by those skilled in the art that the electronic device structure illustrated in <figref idref="f0005">FIG. 6</figref> does not constitute a limitation on the electronic device, and may include more or less components than those illustrated, or a combination of certain components, or different component arrangements.</p>
<p id="p0129" num="0129">The processor 110 is a control center of the electronic device 100, and connects various parts of<!-- EPO <DP n="19"> --> the entire electronic device using various interfaces and lines, executes the electronic by running or loading an application stored in the memory 120, and calling data stored in the memory 120 to performing various functions and processing data of the electronic device 100. And then provide overall monitoring of the electronic device 100.</p>
<p id="p0130" num="0130">In the embodiment of the present disclosure, the processor 110 in the electronic device 100 loads the instructions corresponding to the process of one or more applications into the memory 120 according to the following operations, and run the applications stored in the memory 120 to implement various functions of:
<ul id="ul0007" list-style="none" compact="compact">
<li>obtaining a multimedia-message to be sent;</li>
<li>storing the multimedia-message to be sent into a cache, when the RCS of the electronic device is not in an online state;</li>
<li>sending the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than a preset time and an online notification of the RCS is received; and</li>
<li>sending the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received.</li>
</ul></p>
<p id="p0131" num="0131">In some embodiments, the processor 110 is configured to send the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and a receiving of the notification of the RCS online, the processor 110 executes:<br/>
send the multimedia-message in the cache by a manner of IM according to the order of storing the multimedia-messages in the cache.</p>
<p id="p0132" num="0132">In some embodiments, the processor 110 is configured to send the multimedia-message in the cache by a manner of IM, when the waiting time for transmission is less than the preset time and a receiving of the notification of the RCS online, the processor 110 executes:<br/>
send the multimedia-message in the cache by a manner of IM, according to an order of the data amount of the multimedia-message in the cache.</p>
<p id="p0133" num="0133">In some embodiments, the processor 110 is configured to send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission reaches the preset time and notification is not received that the RCS is online, the processor 110 executes:<br/>
send the multimedia-message in the cache by a manner of MMS, when the waiting time for transmission is greater than and/or equal to the preset time.</p>
<p id="p0134" num="0134">In some embodiments, before the processor 110 executes the operation of storing the multimedia-message to be sent into a cache, when the RCS of the electronic device is not in an online state, the processor 110 further executes:
<ul id="ul0008" list-style="none" compact="compact">
<li>detecting whether the number of a remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;</li>
<li>sending the multimedia-message to be sent by a manner of MMS, when the number of the remaining multimedia messages in the current communication package of the electronic device is greater than a preset number;<!-- EPO <DP n="20"> --></li>
<li>storing the multimedia-message to be sent in the cache, when the number of the remaining multimedia messages in the current communication package of the electronic device is less than the preset number or equal to the preset number.</li>
</ul></p>
<p id="p0135" num="0135">In some embodiments, after the processor 110 executes the operation of obtaining the multimedia-message to be sent, the processor 110 further executes:<br/>
sending the multimedia-message to be sent by a manner of IM when the RCS of the electronic device is in an online state.</p>
<p id="p0136" num="0136">In some embodiments, the processor 110 is configured to send the multimedia-message in the cache by a manner of IM, when a waiting time for transmission is less than a preset time and a receiving of a notification that the RCS is online, the processor 110 executes:<br/>
send the multimedia-message in the cache by a manner of IM according to the data volume of the multimedia-message in the cache from small to large.</p>
<p id="p0137" num="0137">Although not shown in <figref idref="f0005">FIG. 6</figref>, the electronic device 100 may further include a display screen, a camera, a radio frequency circuit, a wireless fidelity module, an input unit, a sensor, a power source, an audio circuit, a Bluetooth module, and the like, and details are not described herein.</p>
<p id="p0138" num="0138">In the above embodiments, the descriptions of the various embodiments are different, and the details that are not detailed in a certain embodiment can be referred to the related descriptions of other embodiments.</p>
<p id="p0139" num="0139">In the embodiment of the present disclosure, the method of sending the multimedia-message belongs to the same concept as the sending method of the multimedia message in the foregoing embodiment, and the method of sending the multimedia-message can be implemented on the device of sending the multimedia-message. For the specific implementation process of the method provided in the example, refer to the embodiment of the method for sending the multimedia message, and details are not described herein again.</p>
<p id="p0140" num="0140">It should be noted that, in the method for sending the multimedia-message of the present disclosure, a common tester in the field can understand all or part of the process for implementing the method for sending the multimedia-message according to the embodiment of the present disclosure, and the related program can be controlled by a computer program. The computer program can be stored in a computer readable storage medium, such as in a memory of the electronic device, and executed by at least one processor in the electronic device, and can include a flow of an embodiment of a method of sending a multimedia message. The storage medium may be a magnetic disk, an optical disk, a read only memory (ROM), a random-access memory (RAM), or the like.</p>
<p id="p0141" num="0141">For the device of sending the multimedia-message according to the embodiment of the present disclosure, each functional module may be integrated into one processing chip, or each module may exist separately physically, or two or more modules may be integrated into one module. The above integrated modules can be implemented in the form of hardware or in the form of software functional modules. The integrated modules, if implemented in the form of software functional modules and sold or used as separate products, may also be stored in a computer readable storage medium such as a read<!-- EPO <DP n="21"> --> only memory, a magnetic disk or an optical disk.</p>
<p id="p0142" num="0142">The foregoing describes a method, an apparatus, a storage medium, and an electronic device for sending a multimedia-message according to an embodiment of the present disclosure. The description is only for helping to understand the technical solution of the present disclosure and its core idea; however the invention is solely defined by the appended claims.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="22"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>A method for sending a multimedia-message, performed by an electronic device (30), the method comprising:
<claim-text>obtaining (S101) a plurality of multimedia-messages to be sent;</claim-text>
<claim-text>the method being <b>characterized by</b> further comprising:
<claim-text>determining a state of a Rich Communication Service - RCS - of the electronic device by sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and whether the electronic device is registered to an IP Multimedia Core Network Subsystem -IMS-network, wherein the RCS of the electronic device is not in the online state when the electronic device fails to provide a valid configuration file, or the network of the electronic device is not connected, or the electronic device is not registered to the IMS network;</claim-text>
<claim-text>storing (S102) the multimedia-messages to be sent into a cache when the RCS of the electronic device is not in the online state;</claim-text>
<claim-text>sending (S103) the multimedia-messages in the cache by a manner of instant messaging -IM-, when a waiting time for transmission is less than a preset time and an online notification of the RCS is received, wherein the waiting time starts from the time that a first one of the plurality of multimedia-messages is stored in the cache, and the online notification is triggered when the RCS of the electronic device is in the online state; or</claim-text>
<claim-text>sending (S104) the multimedia-messages in the cache by a manner of Multimedia Messaging Service -MMS-, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received.</claim-text></claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The method as claimed in claim 1, wherein the operation of sending (S103) the multimedia-messages in the cache by a manner of instant messaging IM comprises:<br/>
sending the multimedia-messages in the cache by a manner of IM, according to an order of the time that the multimedia-messages stored in the cache from first to last.</claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The method as claimed in claim 1, wherein the operation of sending (S103) the multimedia-messages in the cache by a manner of instant messaging IM comprises:<br/>
sending the multimedia-messages in the cache by a manner of IM, according to an order of the data size of the multimedia-messages in the cache from large to small.</claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>The method as claimed in claim 1, after the operation of storing (S102) the multimedia-messages to be sent into a cache, the method further comprising:<br/>
generating a message shown on a display interface of the electronic device to remind a user.<!-- EPO <DP n="23"> --></claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>The method as claimed in claim 1, wherein the state of the RCS is determined at intervals throughout<!-- EPO <DP n="24"> --> the preset time.</claim-text></claim>
<claim id="c-en-01-0006" num="0006">
<claim-text>The method as claimed in claim 1, wherein the multimedia-message is acquired by a user editing the multimedia-message on the electronic device and inputting a sending instruction.</claim-text></claim>
<claim id="c-en-01-0007" num="0007">
<claim-text>The method as claimed in claim 1, wherein the multimedia-message is acquired by receiving an instruction that a user forwards a received multimedia-message.</claim-text></claim>
<claim id="c-en-01-0008" num="0008">
<claim-text>The method as claimed in claim 1, after the operation of sending (S103) the multimedia-messages in the cache by a manner of instant messaging -IM-, the method further comprising:<br/>
clearing, from the cache, the multimedia-message that has been sent.</claim-text></claim>
<claim id="c-en-01-0009" num="0009">
<claim-text>The method as claimed in claim 1, after the operation of sending (S104) the multimedia-messages in the cache by a manner of Multimedia Messaging Service -MMS-, the method further comprising:<br/>
clearing, from the cache, the multimedia-message that has been sent.</claim-text></claim>
<claim id="c-en-01-0010" num="0010">
<claim-text>The method as claimed in claim 1, wherein the operation of sending (S104) the multimedia-messages in the cache by a manner of Multimedia Messaging Service -MMS-, when the waiting time for transmission reaches the preset time and the online notification of the RCS is not received, comprises:
<claim-text>triggering a message timeout event when the waiting time for transmission reaches the preset time;</claim-text>
<claim-text>searching the multimedia-message whose waiting time for transmission is greater than or equal to the preset time; and</claim-text>
<claim-text>sending the searched multimedia-message by the manner of MMS.</claim-text></claim-text></claim>
<claim id="c-en-01-0011" num="0011">
<claim-text>The method as claimed in claim 1, wherein the operation of sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and whether the electronic device is registered to an IP Multimedia Core Network Subsystem -IMS- network, comprises:
<claim-text>detecting whether a valid configuration file is provided;</claim-text>
<claim-text>detecting whether the network of the electronic device is connected when the electronic device provides the valid configuration file, determining the RCS of the electronic device is not launched when the electronic device fails to provide the valid configuration file;</claim-text>
<claim-text>detecting whether the electronic device registers to the IMS network of the RCS when the network of the electronic device is connected, determining the RCS of the electronic device is not launched when the network of the electronic device is disconnected;</claim-text>
<claim-text>determining the RCS of the electronic device is launched when the electronic device successfully registers to the IMS network of the RCS; and</claim-text>
<claim-text>determining the RCS of the electronic device is not launched when the electronic device fails to register to the IMS network of the RCS.</claim-text></claim-text></claim>
<claim id="c-en-01-0012" num="0012">
<claim-text>A device (30) for sending a multimedia-message, comprising:
<claim-text>an acquiring module (31), configured to acquire a plurality of multimedia-messages to be sent; the device being <b>characterized by</b> further comprising:</claim-text>
<claim-text>a determining module (32), configured to determine a state of the RCS of an electronic device by<!-- EPO <DP n="25"> --> sequentially detecting whether the electronic device has a valid configuration file, whether the network is connected, and whether the electronic device is registered to an IP Multimedia Core Network Subsystem -<!-- EPO <DP n="26"> --> IMS- network, wherein the RCS of the electronic device is not in the online state when the electronic device fails to provide a valid configuration file, or the network of the electronic device is not connected, or the electronic device is not registered to the IMS network;</claim-text>
<claim-text>a cache module (34), configured to store the multimedia-messages to be sent into a cache when a RCS of the electronic device is not in the online state:</claim-text>
<claim-text>a first sending module (35), configured to send the multimedia-messages in the cache by a manner of IM, when a waiting time for transmission is less than the preset time and an online notification of the RCS is received, wherein the waiting time starts from the time that a first one of the plurality of multimedia-messages is stored in the cache, wherein the online notification is triggered when the RCS of the electronic device is in the online state; and</claim-text>
<claim-text>a second sending module (36), configured to send the multimedia-messages in the cache by a manner of MMS, when the waiting time for transmission reaches a preset time and the online notification of the RCS is not received.</claim-text></claim-text></claim>
<claim id="c-en-01-0013" num="0013">
<claim-text>A storage medium, having a computer program stored therein, the storage medium being <b>characterized in that</b> when executing the computer program, a computer being enabled to perform the method for sending the multimedia-message of any one of claims 1-11.</claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="27"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Verfahren zum Senden einer Multimedianachricht, das von einer elektronischen Vorrichtung (30) ausgeführt wird, wobei das Verfahren umfasst:
<claim-text>Erhalten (S101) einer Vielzahl von zu sendenden Multimedianachrichten;</claim-text>
<claim-text>wobei das Verfahren <b>dadurch gekennzeichnet ist, dass</b> es außerdem umfasst:
<claim-text>Ermitteln eines Zustands eines Rich-Communication-Service - RCS - der elektronischen Vorrichtung, indem sequenziell erkannt wird, ob die elektronische Vorrichtung eine gültige Konfigurationsdatei aufweist, ob das Netzwerk angeschlossen ist und ob die elektronische Vorrichtung in einem Netzwerk eines IP-Multimedia-Core-Network-Subsystems - IMS - registriert ist, wobei der RCS der elektronischen Vorrichtung nicht im Online-Zustand ist, wenn die elektronische Vorrichtung scheitert, eine gültige Konfigurationsdatei bereitzustellen, oder das Netzwerk der elektronischen Vorrichtung nicht angeschlossen ist, oder die elektronische Vorrichtung nicht in dem IMS-Netzwerk registriert ist;</claim-text>
<claim-text>Speichern (S102) der zu sendenden Multimedianachrichten in einem Cachespeicher, wenn der RCS der elektronischen Vorrichtung nicht im Online-Zustand ist;</claim-text>
<claim-text>Senden (S103) der Multimedianachrichten in dem Cachespeicher in der Form eines Instant-Messagings - IM -, wenn eine Wartezeit für eine Übertragung geringer als<!-- EPO <DP n="28"> --> eine voreingestellte Zeit ist und eine Online-Benachrichtigung des RCS empfangen wird, wobei die Wartezeit an dem Zeitpunkt startet, an dem eine Erste der Vielzahl von Multimedianachrichten in dem Cachespeicher gespeichert wird, und die Online-Benachrichtigung ausgelöst wird, wenn der RCS der elektronischen Vorrichtung im Online-Zustand ist; oder</claim-text>
<claim-text>Senden (S104) der Multimedianachrichten in dem Cachespeicher in der Form eines Multimedia-Messaging-Service - MMS -, wenn die Wartezeit für die Übertragung die voreingestellte Zeit erreicht und die Online-Benachrichtigung des RCS nicht empfangen wird.</claim-text></claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Verfahren nach Anspruch 1, wobei die Operation des Sendens (S103) der Multimedianachricht in dem Cachespeicher in der Form eines Instant-Messagings IM umfasst:<br/>
Senden der Multimedianachricht in dem Cachespeicher in der Form eines IM gemäß einer zeitlichen Reihenfolge, in der die Multimedianachrichten von der ersten zur letzten in dem Cachespeicher gespeichert werden.</claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Verfahren nach Anspruch 1, wobei die Operation des Sendens (S103) der Multimedianachricht in dem Cachespeicher in der Form eines Instant-Messagings IM umfasst:<br/>
Senden der Multimedianachricht in dem Cachespeicher in der Form eines IM gemäß einer Reihenfolge der Datengröße der Multimedianachrichten in dem Cachespeicher von der größten zur kleinsten.</claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Verfahren nach Anspruch 1, wobei das Verfahren nach der Operation des Speicherns (S102) der zu sendenden Multimedianachrichten in einem Cachespeicher außerdem umfasst:<br/>
Erzeugen einer Nachricht, die auf einer Anzeigeschnittstelle der elektronischen Vorrichtung zum Erinnern eines Benutzers angezeigt wird.<!-- EPO <DP n="29"> --></claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Verfahren nach Anspruch 1, wobei der Zustand des RCS in Intervallen während der voreingestellten Zeit ermittelt wird.</claim-text></claim>
<claim id="c-de-01-0006" num="0006">
<claim-text>Verfahren nach Anspruch 1, wobei die Multimedianachricht von einem Benutzer erhalten wird, der die Multimedianachricht auf der elektronischen Vorrichtung bearbeitet und einen Sendebefehl eingibt.</claim-text></claim>
<claim id="c-de-01-0007" num="0007">
<claim-text>Verfahren nach Anspruch 1, wobei die Multimedianachricht erhalten wird, indem ein Befehl empfangen wird, dass ein Benutzer eine empfangene Multimedianachricht weiterleitet.</claim-text></claim>
<claim id="c-de-01-0008" num="0008">
<claim-text>Verfahren nach Anspruch 1, wobei das Verfahren, nach der Operation des Sendens (S103) der Multimedianachricht in dem Cachespeicher in der Form eines Instant-Messagings - IM -, außerdem umfasst:<br/>
Löschen der Multimedianachricht, die gesendet wurde, aus dem Cachespeicher.</claim-text></claim>
<claim id="c-de-01-0009" num="0009">
<claim-text>Verfahren nach Anspruch 1, wobei das Verfahren, nach der Operation des Sendens (S104) der Multimedianachricht in dem Cachespeicher in der Form eines Multimedia-Messaging-Service - MMS -, außerdem umfasst:<br/>
Löschen der Multimedianachricht, die gesendet wurde, aus dem Cachespeicher.</claim-text></claim>
<claim id="c-de-01-0010" num="0010">
<claim-text>Verfahren nach Anspruch 1, wobei die Operation des Sendens (S104) der Multimedianachrichten in dem Cachespeicher in der Form eines Multimedia-Messaging-Service - MMS -, wenn die Wartezeit für die Übertragung die voreingestellte Zeit erreicht und die Online-Benachrichtigung des RCS nicht empfangen wird, umfasst:
<claim-text>Auslösen eines Nachrichtenzeitüberschreitungsereignisses, wenn die Wartezeit für die Übertragung die voreingestellte Zeit erreicht;<!-- EPO <DP n="30"> --></claim-text>
<claim-text>Suchen der Multimedianachricht, deren Wartezeit für die Übertragung größer als die, oder gleich der voreingestellten Zeit ist; und</claim-text>
<claim-text>Senden der gesuchten Multimedianachricht in der Form eines MMS.</claim-text></claim-text></claim>
<claim id="c-de-01-0011" num="0011">
<claim-text>Verfahren nach Anspruch 1, wobei die Operation, die sequenziell erkennt, ob die elektronische Vorrichtung eine gültige Konfigurationsdatei aufweist, ob das Netzwerk angeschlossen ist und ob die elektronische Vorrichtung in einem Netzwerk eines IP-Multimedia-Core-Network-Subsystems - IMS - registriert ist, umfasst:
<claim-text>Erkennen, ob eine gültige Konfigurationsdatei bereitgestellt wird;</claim-text>
<claim-text>Erkennen, ob das Netzwerk der elektronischen Vorrichtung angeschlossen ist, wenn die elektronische Vorrichtung die gültige Konfigurationsdatei bereitstellt, und Ermitteln, dass der RCS der elektronischen Vorrichtung nicht gestartet wurde, wenn die elektronische Vorrichtung scheitert, die gültige Konfigurationsdatei bereitzustellen,</claim-text>
<claim-text>Erkennen, ob die elektronische Vorrichtung in dem IMS-Netzwerk des RCS registriert ist, wenn das Netzwerk der elektronischen Vorrichtung angeschlossen ist, und Ermitteln, dass der RCS der elektronischen Vorrichtung nicht gestartet wurde, wenn die elektronische Vorrichtung nicht angeschlossen ist;</claim-text>
<claim-text>Ermitteln, dass der RCS der elektronischen Vorrichtung gestartet wurde, wenn die elektronische Vorrichtung erfolgreich in dem IMS-Netzwerk des RCS registriert wird; und</claim-text>
<claim-text>Ermitteln, dass der RCS der elektronischen Vorrichtung nicht gestartet wurde, wenn die elektronische Vorrichtung beim Registrieren in dem IMS-Netzwerk des RCS scheitert.</claim-text></claim-text></claim>
<claim id="c-de-01-0012" num="0012">
<claim-text>Vorrichtung (30) zum Senden einer Multimedianachricht, umfassend:<!-- EPO <DP n="31"> -->
<claim-text>ein Erfassungsmodul (31), das konfiguriert ist zum Erhalten einer Vielzahl von zu sendenden Multimedianachrichten;</claim-text>
<claim-text>wobei die Vorrichtung <b>dadurch gekennzeichnet ist, dass</b> sie außerdem umfasst:
<claim-text>ein Ermittlungsmodul (32), das konfiguriert ist zum Ermitteln eines Zustands des RCS einer elektronischen Vorrichtung, indem sequenziell ermittelt wird, ob die elektronische Vorrichtung eine gültige Konfigurationsdatei aufweist, ob das Netzwerk angeschlossen ist und ob die elektronische Vorrichtung in einem Netzwerk eines IP-Multimedia-Core-Network-Subsystems - IMS - registriert ist, wobei der RCS der elektronischen Vorrichtung nicht im Online-Zustand ist, wenn die elektronische Vorrichtung scheitert, eine gültige Konfigurationsdatei bereitzustellen, oder das Netzwerk der elektronischen Vorrichtung nicht angeschlossen ist, oder die elektronische Vorrichtung nicht in dem IMS-Netzwerk registriert ist;</claim-text>
<claim-text>ein Cachespeichermodul (34), das konfiguriert ist zum Speichern der zu sendenden Multimedianachrichten in einem Cachespeicher, wenn ein RCS der elektronischen Vorrichtung nicht im Online-Zustand ist;</claim-text>
<claim-text>ein erstes Sendemodul (35), das konfiguriert ist zum Senden der Multimedianachrichten in dem Cachespeicher in der Form eines IM, wenn eine Wartezeit für die Übertragung geringer als die voreingestellte Zeit ist und eine Online-Benachrichtigung des RCS empfangen wird, wobei die Wartezeit an dem Zeitpunkt startet, an dem eine Erste der Multimedianachrichten in dem Cachespeicher gespeichert wird, wobei die Online-Benachrichtigung ausgelöst wird, wenn der RCS der elektronischen Vorrichtung im Online-Zustand ist; und</claim-text>
<claim-text>ein zweites Sendemodul (36), das konfiguriert ist zum Senden der Multimedianachrichten in dem Cachespeicher in der Form eines MMS, wenn die Wartezeit für die Übertragung eine voreingestellte Zeit erreicht und die Online-Benachrichtigung des RCS nicht empfangen wird.</claim-text></claim-text><!-- EPO <DP n="32"> --></claim-text></claim>
<claim id="c-de-01-0013" num="0013">
<claim-text>Speichermedium, in dem ein Computerprogramm gespeichert ist, wobei das Speichermedium <b>dadurch gekennzeichnet ist, dass</b>, wenn das Computerprogramm ausgeführt wird, ein Computer aktiviert wird, um das Verfahren zum Senden der Multimedianachricht nach einem der Ansprüche 1 bis 11 auszuführen.</claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="33"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Procédé destiné à envoyer un message multimédia, exécuté par un dispositif électronique (30), le procédé comprenant :
<claim-text>l'obtention (S101) d'une pluralité de messages multimédia à envoyer ;</claim-text>
<claim-text>le procédé étant <b>caractérisé en ce qu'</b>il comprend en outre :
<claim-text>la détermination d'un état d'un Service de Communication Riche - RCS - du dispositif électronique en détectant séquentiellement si le dispositif électronique possède un fichier de configuration valide, si le réseau est connecté, et si le dispositif électronique est enregistré sur un réseau de Sous-Système de Réseau Central Multimédia IP -IMS-, dans lequel le RCS du dispositif électronique n'est pas dans l'état en ligne lorsque le dispositif électronique ne parvient pas à fournir un fichier de configuration valide, ou le réseau du dispositif électronique n'est pas connecté, ou le dispositif électronique n'est pas enregistré sur le réseau IMS ;</claim-text>
<claim-text>le stockage (S102) des messages multimédia à envoyer dans une mémoire cache lorsque le RCS du dispositif électronique n'est pas dans l'état en ligne ;</claim-text>
<claim-text>l'envoi (S103) des messages multimédia contenus dans la mémoire cache par une méthode de type messagerie instantanée -IM-, lorsqu'un temps d'attente de transmission est inférieur à un temps prédéfini et qu'une<!-- EPO <DP n="34"> --> notification en ligne du RCS est reçue, dans lequel le temps d'attente commence à partir du moment où un premier de la pluralité de messages multimédia est stocké dans la mémoire cache, et la notification en ligne est déclenchée lorsque le RCS du dispositif électronique est dans l'état en ligne ; ou</claim-text>
<claim-text>l'envoi (S104) des messages multimédia contenus dans la mémoire cache par une méthode de type Service de Messagerie Multimédia -MMS-, lorsque le temps d'attente de transmission atteint le temps prédéfini et que la notification en ligne du RCS n'est pas reçue.</claim-text></claim-text></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Procédé selon la revendication 1, dans lequel l'opération d'envoi (S103) des messages multimédia contenus dans la mémoire cache par une méthode de type messagerie instantanée IM comprend :<br/>
l'envoi des messages multimédia contenus dans la mémoire cache par une méthode de type IM, suivant l'ordre chronologique des messages multimédia stockés dans la mémoire cache, du premier au dernier.</claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Procédé selon la revendication 1, dans lequel l'opération d'envoi (S103) des messages multimédia contenus dans la mémoire cache par une méthode de type messagerie instantanée IM comprend :<br/>
l'envoi des messages multimédia contenus dans la mémoire cache par une méthode de type IM, suivant l'ordre de la taille des données des messages multimédia contenus dans la mémoire cache, de grande à petite.</claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Procédé selon la revendication 1, dans lequel, après l'opération de stockage (S102) des messages multimédia à envoyer dans une mémoire cache, le procédé comprend en outre :<br/>
la génération d'un message de rappel d'un utilisateur, présenté sur une interface d'affichage du dispositif électronique.<!-- EPO <DP n="35"> --></claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé selon la revendication 1, dans lequel l'état du RCS est déterminé à intervalles tout au long du temps prédéfini.</claim-text></claim>
<claim id="c-fr-01-0006" num="0006">
<claim-text>Procédé selon la revendication 1, dans lequel le message multimédia est acquis par un utilisateur qui modifie le message multimédia sur le dispositif électronique et qui saisit une instruction d'envoi.</claim-text></claim>
<claim id="c-fr-01-0007" num="0007">
<claim-text>Procédé selon la revendication 1, dans lequel le message multimédia est acquis par la réception d'une instruction selon laquelle un utilisateur transfère un message multimédia reçu.</claim-text></claim>
<claim id="c-fr-01-0008" num="0008">
<claim-text>Procédé selon la revendication 1, dans lequel, après l'opération d'envoi (S103) des messages multimédia contenus dans la mémoire cache par une méthode de type messagerie instantanée -IM-, le procédé comprend en outre :<br/>
l'effacement, dans la mémoire cache, du message multimédia qui a été envoyé.</claim-text></claim>
<claim id="c-fr-01-0009" num="0009">
<claim-text>Procédé selon la revendication 1, dans lequel, après l'opération d'envoi (S104) des messages multimédia contenus dans la mémoire cache par une méthode de type Service de Messagerie Multimédia -MMS-, le procédé comprend en outre :<br/>
l'effacement, dans la mémoire cache, du message multimédia qui a été envoyé.</claim-text></claim>
<claim id="c-fr-01-0010" num="0010">
<claim-text>Procédé selon la revendication 1, dans lequel l'opération d'envoi (S104) des messages multimédia contenus dans la mémoire cache par une méthode de type Service de Messagerie Multimédia -MMS-, lorsque le temps d'attente de transmission atteint le temps prédéfini et que la notification en ligne du RCS n'est pas reçue, comprend :<!-- EPO <DP n="36"> -->
<claim-text>le déclenchement d'un événement de dépassement de temps de message lorsque le temps d'attente de transmission atteint le temps prédéfini ;</claim-text>
<claim-text>la recherche du message multimédia dont le temps d'attente de transmission est supérieur ou égal au temps prédéfini ; et</claim-text>
<claim-text>l'envoi du message multimédia recherché par la méthode de type MMS.</claim-text></claim-text></claim>
<claim id="c-fr-01-0011" num="0011">
<claim-text>Procédé selon la revendication 1, dans lequel l'opération consistant à détecter séquentiellement si le dispositif électronique possède un fichier de configuration valide, si le réseau est connecté, et si le dispositif électronique est enregistré sur un réseau de Sous-Système de Réseau Central Multimédia IP -IMS-, comprend :
<claim-text>le fait de détecter si un fichier de configuration valide est fourni ;</claim-text>
<claim-text>le fait de détecter si le réseau du dispositif électronique est connecté lorsque le dispositif électronique fournit le fichier de configuration valide,</claim-text>
<claim-text>en déterminant que le RCS du dispositif électronique n'est pas lancé lorsque le dispositif électronique ne fournit pas le fichier de configuration valide ;</claim-text>
<claim-text>le fait de détecter si le dispositif électronique s'enregistre sur le réseau IMS du RCS lorsque le réseau du dispositif électronique est connecté, en déterminant que le RCS du dispositif électronique n'est pas lancé lorsque le réseau du dispositif électronique est déconnecté ;</claim-text>
<claim-text>la détermination du fait que le RCS du dispositif électronique est lancé lorsque le dispositif électronique parvient à s'enregistrer sur le réseau IMS du RCS ; et</claim-text>
<claim-text>la détermination du fait que le RCS du dispositif électronique n'est pas lancé lorsque le dispositif électronique ne parvient pas à s'enregistrer sur le réseau IMS du RCS.</claim-text><!-- EPO <DP n="37"> --></claim-text></claim>
<claim id="c-fr-01-0012" num="0012">
<claim-text>Dispositif (30) destiné à envoyer un message multimédia, comprenant :
<claim-text>un module d'acquisition (31), configuré pour acquérir une pluralité de messages multimédia à envoyer ;</claim-text>
<claim-text>le dispositif étant <b>caractérisé en ce qu'</b>il comprend en outre :
<claim-text>un module de détermination (32), configuré pour déterminer un état du RCS d'un dispositif électronique en détectant séquentiellement si le dispositif électronique possède un fichier de configuration valide,</claim-text>
<claim-text>si le réseau est connecté, et si le dispositif électronique est enregistré sur un réseau de Sous-Système de Réseau Central Multimédia IP -IMS-, dans lequel le RCS du dispositif électronique n'est pas dans l'état en ligne lorsque le dispositif électronique ne parvient pas à fournir un fichier de configuration valide, ou le réseau du dispositif électronique n'est pas connecté, ou le dispositif électronique n'est pas enregistré sur le réseau IMS ;</claim-text>
<claim-text>un module de mémoire cache (34), configuré pour stocker les messages multimédia à envoyer dans une mémoire cache lorsqu'un RCS du dispositif électronique n'est pas dans l'état en ligne :
<claim-text>un premier module d'envoi (35), configuré pour envoyer les messages multimédia contenus dans la mémoire cache par une méthode de type IM, lorsqu'un temps d'attente de transmission est inférieur au temps prédéfini et qu'une notification en ligne du RCS est reçue, dans lequel le temps d'attente commence à partir du moment où un premier de la pluralité de messages multimédia est stocké dans la mémoire cache, dans lequel la notification en ligne est déclenchée lorsque le RCS du dispositif électronique est dans l'état en ligne ; et</claim-text>
<claim-text>un second module d'envoi (36), configuré pour envoyer les messages multimédia contenus dans la mémoire cache par une méthode de type MMS, lorsque le temps d'attente de transmission atteint un temps prédéfini et que la notification en ligne du RCS n'est pas reçue.</claim-text></claim-text></claim-text><!-- EPO <DP n="38"> --></claim-text></claim>
<claim id="c-fr-01-0013" num="0013">
<claim-text>Support de stockage, sur lequel est stocké un programme informatique, le support de stockage étant <b>caractérisé en ce que</b>, lors de l'exécution du programme informatique, un ordinateur est amené à mettre en œuvre le procédé destiné à envoyer le message multimédia selon l'une quelconque des revendications 1 à 11.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="39"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="145" he="167" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="103" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> -->
<figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="70" he="110" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> -->
<figure id="f0005" num="5,6"><img id="if0005" file="imgf0005.tif" wi="141" he="223" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="EP3073682A1"><document-id><country>EP</country><doc-number>3073682</doc-number><kind>A1</kind></document-id></patcit><crossref idref="pcit0001">[0003]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
