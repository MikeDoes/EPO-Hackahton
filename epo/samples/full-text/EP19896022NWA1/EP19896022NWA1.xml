<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP19896022A1" file="EP19896022NWA1.xml" lang="en" country="EP" doc-number="3890097" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890097</B110><B120><B121>EUROPEAN PATENT APPLICATION</B121><B121EP>published in accordance with Art. 153(4) EPC</B121EP></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>19896022.1</B210><B220><date>20190923</date></B220><B240><B241><date>20210630</date></B241></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>201811506444</B310><B320><date>20181210</date></B320><B330><ctry>CN</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H01M  10/44        20060101AFI20200619BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H02J   7/00        20060101ALI20200619BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H01M  10/44        20130101 LI20200710BCEP        </text></classification-cpc><classification-cpc sequence="2"><text>H02J   7/00        20130101 LI20200710BCEP        </text></classification-cpc><classification-cpc sequence="3"><text>Y02E  60/10        20130101 LA20200826BGEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>LADEVERFAHREN UND -VORRICHTUNG</B542><B541>en</B541><B542>CHARGING METHOD AND DEVICE</B542><B541>fr</B541><B542>PROCÉDÉ ET DISPOSITIF DE CHARGE</B542></B540><B590><B598>3</B598></B590></B500><B700><B710><B711><snm>Huawei Technologies Co., Ltd.</snm><iid>101903059</iid><irf>P2021,0643 EP N</irf><adr><str>Huawei Administration Building, 
Bantian, Longgang District</str><city>Shenzhen Guangdong 518129</city><ctry>CN</ctry></adr></B711></B710><B720><B721><snm>LU, Peng</snm><adr><str>Huawei Administration Building Bantian, Longgang 
District</str><city>Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>HE, Xiaohu</snm><adr><str>Huawei Administration Building Bantian, Longgang 
District</str><city>Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>WU, Jun</snm><adr><str>Huawei Administration Building Bantian, Longgang 
District</str><city>Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B721></B720><B740><B741><snm>Epping - Hermann - Fischer</snm><iid>101426474</iid><adr><str>Patentanwaltsgesellschaft mbH 
Schloßschmidstraße 5</str><city>80639 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP><B860><B861><dnum><anum>CN2019107321</anum></dnum><date>20190923</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2020119216</pnum></dnum><date>20200618</date><bnum>202025</bnum></B871></B870></B800></SDOBI>
<abstract id="abst" lang="en">
<p id="pa01" num="0001">A charging method and apparatus are provided. In a process of performing constant voltage charging on a battery at a charging voltage that is greater than an end-of-precharge voltage and less than a maximum charging voltage, the charging apparatus determines a current relaxation time and controls a charging current and a charging voltage based on the current relaxation time, to adaptively charge the battery. This better adapts to a change inside the battery in the charging process, effectively improves safety and reliability of the battery in the charging process, enhances cycle performance of the battery, and prolongs battery life.<img id="iaf01" file="imgaf001.tif" wi="78" he="104" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<p id="p0001" num="0001">This application claims priority to <patcit id="pcit0001" dnum="CN201811506444" dnum-type="L"><text>Chinese Patent Application No. 201811506444.7</text></patcit>, filed with the China National Intellectual Property Administration on December 10, 2018, and entitled "CHARGING METHOD AND APPARATUS", which is incorporated herein by reference in its entirety.</p>
<heading id="h0001"><b>TECHNICAL FIELD</b></heading>
<p id="p0002" num="0002">This application relates to the field of electronic technologies, and in particular, to battery technologies.</p>
<heading id="h0002"><b>BACKGROUND</b></heading>
<p id="p0003" num="0003">A secondary battery is a battery that can still be used after discharge by activating an electrode active material through charging.</p>
<p id="p0004" num="0004">Currently, a charging method for a secondary battery is: continuously charging the battery to a potential at a constant current, and then performing constant voltage charging on the battery at the potential. In a charging process, a material, a kinetic process, ohmic impedance, and the like in the battery all change. However, the charging method cannot adapt to the changes, resulting in a relatively rapid increase in a temperature of the battery in the charging process, and relatively low cycle performance of the battery, and relatively short battery life.</p>
<heading id="h0003"><b>SUMMARY</b></heading>
<p id="p0005" num="0005">This application provides a charging method and apparatus, to effectively resolve problems such as a relatively rapid increase in a temperature of a battery in a charging process, and relatively low cycle performance and relatively short battery life.</p>
<p id="p0006" num="0006">To achieve the foregoing objectives, the following technical solutions are used in this application:</p>
<p id="p0007" num="0007">According to a first aspect, a charging method is provided, applied to a charging apparatus for charging a battery. When a charging voltage is greater than an end-of-precharge voltage (a critical voltage at which the battery changes from an overdischarge state to a normal discharge state) and less than a maximum charging voltage (which is used to represent a withstand voltage of a positive electrode material, an electrolyte, or a positive electrode current collector of the battery), the charging apparatus charges the battery only in a constant voltage charging manner (different charging voltages are used in different time periods), or charges the battery in a hybrid manner of constant voltage charging and constant current charging (for example, constant voltage charging alternates with constant current charging, or m (m ≥ 2) times of constant voltage charging are performed after constant current charging, or the like)), until a voltage of the battery reaches the maximum charging voltage. After the voltage of the battery reaches the maximum charging voltage, the charging battery performs constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity (a<!-- EPO <DP n="2"> --> quantity of electricity when the battery is fully charged).</p>
<p id="p0008" num="0008">Specifically, the charging apparatus performs constant voltage charging on the battery at a present charging voltage that is greater than the end-of-precharge voltage and less than the maximum charging voltage of the battery. In a process of performing constant voltage charging on the battery at the present charging voltage, the charging apparatus determines a current relaxation time used to reflect a change of an electrochemical reaction rate in the battery, obtains a present state of charge SOC of the battery, and calculates a would-be charging current based on the current relaxation time and the present SOC of the battery. After the would-be charging current is calculated, the charging apparatus performs step D, or determines a voltage corresponding to the would-be charging current as a would-be charging voltage and performs step E. Step D is: The charging apparatus performs constant current charging on the battery at the would-be charging current; and if a voltage of the battery reaches a first preset threshold (a voltage of the first preset threshold is less than the maximum charging voltage) in a constant current charging process, the charging apparatus determines the voltage of the first preset threshold as a would-be charging voltage, and perform step E; or if a voltage of the battery reaches the maximum charging voltage in a constant current charging process, the charging apparatus performs constant voltage charging on the battery at the maximum charging voltage. Step E is: The charging apparatus performs constant voltage charging on the battery at the would-be charging voltage, where the would-be charging voltage is a present charging voltage; and the charging apparatus repeats the foregoing charging process until the would-be charging voltage reaches the maximum charging voltage.</p>
<p id="p0009" num="0009">In the charging process, a charging current changes, and the change of the charging current corresponds to a change of an electrochemical reaction rate on an electrode surface of the battery. Correspondingly, the current relaxation time may indirectly reflect the change of the electrochemical reaction rate in the battery. In this embodiment of this application, the charging apparatus adjusts the charging current and the charging voltage based on the current relaxation time. This can better adapt to a change inside the battery in the charging process, improve safety and reliability of the battery in the charging process, effectively enhance cycle performance of the battery, and effectively prolong battery life.</p>
<p id="p0010" num="0010">In a possible implementation, a method for "determining, by the charging apparatus, a current relaxation time" is as follows: The charging apparatus determines a first moment and a second moment, and determines the current relaxation time based on the first moment and the second moment. Herein, the first moment is a moment at which a peak value of a charging current occurs in the process of performing constant voltage charging on the battery at the present charging voltage. The second moment is a moment at which a value of the charging current is a second preset threshold or a change rate of the charging current is less than a preset change rate in the process of performing constant voltage charging on the battery at the present charging voltage. The first moment is earlier than the second moment.</p>
<p id="p0011" num="0011">The charging apparatus may determine the current relaxation time in various manners. The foregoing manner of determining the current relaxation time based on the first moment and the second moment is only one possible implementation.</p>
<p id="p0012" num="0012">In another possible implementation, a method for "calculating, by the charging apparatus, a would-be charging current based on the current relaxation time and the present SOC of the battery" is as follows: The charging apparatus calculates the would-be charging current according to a formula I = C + K × τ<sup>M</sup>(SOC). In the formula, I represents the would-be charging current, τ represents the current relaxation time, SOC represents the present state of charge of the battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, M is an exponent<!-- EPO <DP n="3"> --> coefficient, and M ≠ 0.</p>
<p id="p0013" num="0013">A charging parameter in this application includes at least one of the constant C, the proportionality coefficient K, or the exponent coefficient M. The charging parameter is preset or is set based on a battery parameter. Herein, the battery parameter includes at least one of the present SOC of the battery, a present state of health SOH of the battery, the current relaxation time, a present temperature of the battery, or a present state of safety SOS of the battery.</p>
<p id="p0014" num="0014">Certainly, an algorithm or a formula used by the charging apparatus for calculating the would-be charging current is not limited. In addition to the foregoing formula, another formula may be further used by the charging apparatus for calculating the would-be charging current.</p>
<p id="p0015" num="0015">In another possible implementation, if the charging parameter is set based on the battery parameter, the charging apparatus may further adjust the charging parameter based on the battery parameter.</p>
<p id="p0016" num="0016">In another possible implementation, after determining the current relaxation time, the charging apparatus determines, based on the current relaxation time, whether the battery ages/internally short-circuits. If the battery ages/internally short-circuits, the charging apparatus gives an alarm or stops charging.</p>
<p id="p0017" num="0017">The current relaxation time may indirectly reflect the change of the electrochemical reaction rate in the battery. The charging apparatus may determine, based on the current relaxation time, whether the battery ages/internally short-circuits and perform, based on a determined result, corresponding processing. This effectively improves safety and reliability of the battery in the charging process.</p>
<p id="p0018" num="0018">According to a second aspect, a charging apparatus is provided, where the charging apparatus is configured to charge a battery. The charging apparatus in this application includes a control unit, a charging unit, and an electricity integration unit.</p>
<p id="p0019" num="0019">Specifically, the charging unit is configured to perform constant voltage charging or constant current charging on the battery under control of the control unit. The electricity integration unit is configured to determine a state of charge SOC of the battery. The control unit is configured to perform steps A, B, C, D, and E.</p>
<p id="p0020" num="0020">Step A is: controlling the charging unit to perform constant voltage charging on the battery at a present charging voltage, where the present charging voltage is greater than an end-of-precharge voltage and less than a maximum charging voltage, the maximum charging voltage herein is used to represent a withstand voltage of a positive electrode material, an electrolyte, or a positive electrode current collector of the battery, and the end-of-precharge voltage is a critical voltage at which the battery changes from an overdischarge state to a normal discharge state. Step B is: in a process of controlling the charging unit to perform constant voltage charging on the battery at the present charging voltage, determining a current relaxation time used to reflect a change of an electrochemical reaction rate in the battery. Step C is: obtaining a present state of charge SOC of the battery from the electricity integration unit; calculating a would-be charging current based on the current relaxation time and the present SOC of the battery; and performing step D after obtaining the would-be charging current through calculation, or determining a voltage corresponding to the would-be charging current as a would-be charging voltage and performing step E. Step D is: controlling the charging unit to perform constant current charging on the battery at the would-be charging current; and if a voltage of the battery reaches a first preset threshold in a constant current charging process, determining a voltage of the first preset threshold as a would-be charging voltage, and performing step E, where the voltage of the first preset threshold is less than the maximum charging voltage; or if a voltage of the battery reaches the maximum charging voltage in a constant current charging process, performing constant voltage charging on the battery at the maximum<!-- EPO <DP n="4"> --> charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity. Step E is: controlling the charging unit to perform constant voltage charging on the battery at the would-be charging voltage, repeating the steps A, B and C in a constant voltage charging process until the would-be charging voltage reaches the maximum charging voltage, and performing constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity, where the full-charge quantity of electricity is a quantity of electricity when the battery is fully charged.</p>
<p id="p0021" num="0021">In a possible implementation, that the control unit is configured to determine a current relaxation time includes that the control unit is specifically configured to: determine a first moment and a second moment, and determine the current relaxation time based on the first moment and the second moment. Herein, the first moment is a moment at which a peak value of a charging current occurs in the process of controlling the charging unit to perform constant voltage charging on the battery at the present charging voltage, the second moment is a moment that is in the process of controlling the charging unit to perform constant voltage charging on the battery at the present charging voltage and at which a value of the charging current is a second preset threshold or a change rate of the charging current is less than a preset change rate. The first moment is earlier than the second moment.</p>
<p id="p0022" num="0022">In another possible implementation, that the control unit is configured to calculate a would-be charging current based on the current relaxation time and the present SOC of the battery includes that the control unit is specifically configured to calculate the would-be charging current according to a formula I = C + K × τ<sup>M</sup>(SOC).</p>
<p id="p0023" num="0023">In the formula, I represents the would-be charging current, τ represents the current relaxation time, SOC represents the present state of charge of the battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, M is an exponent coefficient, and M ≠ 0.</p>
<p id="p0024" num="0024">A charging parameter in this application includes at least one of the constant C, the proportionality coefficient K, or the exponent coefficient M. The charging parameter is preset or is set based on a battery parameter. The battery parameter includes at least one of the present SOC of the battery, a present state of health SOH of the battery, the current relaxation time, a present temperature of the battery, or a present state of safety SOS of the battery.</p>
<p id="p0025" num="0025">In another possible implementation, if the charging parameter is set based on the battery parameter, the control unit may further be configured to adjust the charging parameter based on the battery parameter.</p>
<p id="p0026" num="0026">In another possible implementation, the charging apparatus further includes an alarm unit. The control unit is further configured to: after determining the current relaxation time, determine, based on the current relaxation time, whether the battery ages/internally short-circuits. The alarm unit is configured to send an alarm if the control unit determines that the battery ages/internally short-circuits.</p>
<p id="p0027" num="0027">Optionally, the charging apparatus may be divided into function modules based on the charging method provided in the first aspect or any possible implementation of the first aspect. For example, each function module may be obtained through division based on each corresponding function, or two or more functions may be integrated into one processing module.</p>
<p id="p0028" num="0028">According to a third aspect, a charging apparatus is provided. The charging apparatus includes a processor and a memory. The memory is configured to store a computer executable instruction. When the charging apparatus runs, the processor executes the computer executable instruction stored in the memory, so that the charging apparatus implements the charging method in the first aspect or any possible implementation of the first aspect.</p>
<p id="p0029" num="0029">According to a fourth aspect, a control circuit is provided. The control circuit includes a processor and a memory. The memory is configured to store a computer executable instruction. When the control circuit runs, the<!-- EPO <DP n="5"> --> processor executes the computer executable instruction stored in the memory, so that the control circuit implements the charging method in the first aspect or any possible implementation of the first aspect.</p>
<p id="p0030" num="0030">Optionally, the control circuit may be a chip system in the charging apparatus, and the chip system is configured to support the charging apparatus in implementing charging method provided in this application. The chip system includes a chip, or may include another discrete device or a circuit structure.</p>
<p id="p0031" num="0031">According to a fifth aspect, a computer-readable storage medium is provided. The computer-readable storage medium stores an instruction, and when the instruction is run on the charging apparatus in the third aspect, the charging apparatus is enabled to perform the method in the first aspect or any possible implementation of the first aspect.</p>
<p id="p0032" num="0032">According to a sixth aspect, a computer program product including an instruction is provided. The computer program product includes a computer executable instruction, and the computer executable instruction is read and executed by the charging apparatus in the third aspect, so that the charging apparatus implements the charging method in the first aspect or any possible implementation of the first aspect.</p>
<p id="p0033" num="0033">In this application, the implementations provided in the foregoing aspects can be further combined to provide more implementations.</p>
<heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading>
<p id="p0034" num="0034">
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001">FIG. 1</figref> is a schematic diagram of a voltage and a current of a battery in an existing charging process;</li>
<li><figref idref="f0002">FIG. 2</figref> is a schematic structural diagram of a charging apparatus according to an embodiment of this application;</li>
<li><figref idref="f0003">FIG. 3</figref> is a first schematic flowchart of a charging method according to an embodiment of this application;</li>
<li><figref idref="f0004">FIG. 4</figref> is a schematic diagram of a relationship between a current relaxation time and a battery state of health according to an embodiment of this application;</li>
<li><figref idref="f0004">FIG. 5</figref> is a schematic diagram of a relationship between a current relaxation time and a battery state of safety according to an embodiment of this application;</li>
<li><figref idref="f0005">FIG. 6</figref> is a first schematic diagram of variations in a voltage and a current of a battery according to an embodiment of this application;</li>
<li><figref idref="f0005">FIG. 7</figref> is a second schematic diagram of variations in a voltage and a current of a battery according to an embodiment of this application;</li>
<li><figref idref="f0006">FIG. 8</figref> is a third schematic diagram of variations in a voltage and a current of a battery according to an embodiment of this application;</li>
<li><figref idref="f0007">FIG. 9</figref> is a fourth schematic diagram of variations in a voltage and a current of a battery according to an embodiment of this application;</li>
<li><figref idref="f0007">FIG. 10</figref> is a second schematic flowchart of a charging method according to an embodiment of this application; and</li>
<li><figref idref="f0008">FIG. 11</figref> is a schematic diagram of a hardware structure of a charging apparatus according to an embodiment of this application.</li>
</ul><!-- EPO <DP n="6"> --></p>
<heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading>
<p id="p0035" num="0035">A charging method provided in embodiments of this application is described below with reference to the accompanying drawings.</p>
<p id="p0036" num="0036">Generally, batteries may be classified into a primary battery and a secondary battery. The primary battery is also referred to as a primary cell (primary battery), which is an irreversible battery that cannot be recharged after discharge. The secondary battery (secondary battery) is also referred to as a storage battery, which is a battery that can be charged or recharged by applying a current or a voltage.</p>
<p id="p0037" num="0037">The secondary battery may be a lithium-ion battery, a lithium metal battery, a lithium polymer battery, a lithium manganese oxide battery, a lithium iron phosphate battery, a graphene lithium battery, a lead-acid battery, a nickel-cadmium battery, a nickel metal hydride battery, a lithium sulphur battery, a lithium-air battery, a sodium-ion battery, or the like.</p>
<p id="p0038" num="0038">This application centers on the secondary battery, and subsequently mentioned batteries are all representative of secondary batteries.</p>
<p id="p0039" num="0039">In addition, a battery in this application may include a single electrochemical battery unit, or may include a plurality of electrochemical battery units, or may include a battery string. This is not specifically limited in this application.</p>
<p id="p0040" num="0040">A capacity of a battery is usually represented by "C" and measured in units of (Ah) or milliampere-hour (mAh). A charging current or a discharging current of a battery is expressed as C divided by a number (or multiplied by a number), and is referred to as a charging rate or a discharging rate.</p>
<p id="p0041" num="0041">For example, if a battery with a capacity of 2.0 Ah is fast charged at a constant current of 4.0 amperes (4.0 A) or 2.0 x C, the battery is fully charged within a 1/2 hour normally.</p>
<p id="p0042" num="0042">Charging a battery refers to forcing a current into the battery as opposed to a discharging process, so as to accumulate charge and energy in the battery, convert chemical energy into electrical energy, and store the electrical energy in the battery. In this process, charging conditions, for example, parameters such as a charging voltage, a charging current, a temperature, and a cutoff voltage, need to be strictly controlled. These parameters have significant impact on cycle performance of the battery and battery life. Improper control may result in severe degradation of battery performance, scrapping of the battery, and even a disastrous accident.</p>
<p id="p0043" num="0043">For example, if a battery continues to be charged after being fully charged, the battery enters an overcharge state. This may cause a side reaction on an electrode interface of the battery and deformation of an electrode body material, and therefore causes severe degradation of battery performance.</p>
<p id="p0044" num="0044">For another example, when a battery becomes aging after a plurality of cycles of charge and discharge, resistance of the battery increases, and a charging current that can be endured by positive and negative electrode materials of the battery decreases. In this case, without an adaptive adjustment to a charging method, battery performance may degrade rapidly.</p>
<p id="p0045" num="0045">In conclusion, a charging method for a battery needs to be adaptively controlled, and an additional measure to avoid or prevent a battery safety risk is also required, to further improve cycle performance during use of the battery and battery life, and avoid or reduce an occurrence of a safety accident.</p>
<p id="p0046" num="0046">Currently, a battery is usually charged by using a staged charging method with a constant voltage and a constant current. Specifically, the battery is continuously charged to a potential at a constant current, and then constant<!-- EPO <DP n="7"> --> voltage charging is performed on the battery at the potential.</p>
<p id="p0047" num="0047">For example, the battery is a lithium-ion battery. <figref idref="f0001">FIG. 1</figref> shows a process of charging the lithium-ion battery in the prior art. The charging process includes three different charging stages: a trickle charging (trickle charging) stage, a constant current (constant current, CC) charging stage, and a constant voltage (constant voltage, CV) charging stage.</p>
<p id="p0048" num="0048">In the trickle charging stage, the battery is charged at a small current (generally ranging from C/20 to C/5) or by a pulse at a low duty cycle, so that an average charging current is relatively small. When a voltage of the battery reaches an end-of-precharge voltage (for example, 3.5 volts (V)), the battery enters the constant current charging stage for further charge.</p>
<p id="p0049" num="0049">The end-of-precharge voltage is a critical voltage at which the battery changes from an overdischarge state to a normal discharge state.</p>
<p id="p0050" num="0050">Generally, when left unused for a long time, the battery may be in the overdischarge state due to a self-discharge characteristic of the battery. As such, the battery is first precharged at a small current (for example, 0.01C). After a voltage of the battery reaches the end-of-precharge voltage, the battery enters the CC stage.</p>
<p id="p0051" num="0051">Precharge activates and protects the battery. Overdischarge of the battery may cause dissolution of a solid electrolyte interface (solid electrolyte interface, SEI) film of a negative electrode of the battery, and may further cause decomposition of some copper on a negative electrode current collector and crystallization of a copper dendrite on a positive electrode current collector. In addition, for the lithium-ion battery, overdischarge of the battery may further cause a positive electrode material to present a semiconductive characteristic.</p>
<p id="p0052" num="0052">In the constant current charging stage, the battery is charged at a relatively large current (generally ranging from 0.7C to 1C), or a charging current is adjusted in a plurality of sub-stages (Multi-Stage) as more electricity is put into the battery, where a charging current in each sub-stage keeps constant. When a voltage of the battery reaches a maximum charging voltage (which may also be referred to as a charging cutoff voltage, for example, 4.4 volts (V)), the battery enters the constant voltage charging stage for further charge. The maximum charging voltage is preconfigured, and a value thereof does not change.</p>
<p id="p0053" num="0053">The maximum charging voltage is used to represent a withstand voltage of a positive electrode material, an electrolyte, or a positive electrode current collector of the battery. Specifically, the maximum charging voltage may be a withstand voltage common to the positive electrode material, the electrolyte, and the positive electrode current collector of the battery, or may be a withstand voltage of at least one of the positive electrode material, the electrolyte, and the positive electrode current collector of the battery. This is not specifically limited in this embodiment of this application.</p>
<p id="p0054" num="0054">Generally, if a charging voltage is greater than the maximum charging voltage, irreversible damage may be caused to a structure of the positive electrode material of the battery, the electrolyte decomposes, and a by-product is generated, accelerating aging of the battery and causing a potential safety hazard.</p>
<p id="p0055" num="0055">In the constant voltage charging stage, the battery is charged at a constant voltage. Correspondingly, a current flowing into the battery gradually decreases as the battery is close to full charge. When the current is less than a predetermined value (for example, 0.05C), the battery is fully charged.</p>
<p id="p0056" num="0056">According to the foregoing charging method, the charging current and the charging cutoff voltage are controlled, and a temperature, a voltage, and a current of the battery are monitored, to avoid overcharge and thermal runaway of the battery.<!-- EPO <DP n="8"> --></p>
<p id="p0057" num="0057">In the charging process, electrochemical reactions in different states of charge (state of charge, SOC) are totally different due to comprehensive impact of a charge transfer process, a diffusion mass transfer process, an electrical double layer charging process, and an ion conduction process. In addition, after the battery is used for a period, it is inevitable that the solid electrolyte interface (solid electrolyte interface, SEI) film becomes thicker, performance of the electrolyte degrades, a reaction area on an electrode surface changes, polarization impedance increases, and so on. However, an existing charging method cannot adapt to the changes, resulting in a relatively rapid increase in a temperature of the battery in the charging process, and relatively low cycle performance of the battery, and relatively short battery life.</p>
<p id="p0058" num="0058">In addition, with a continuous increase in energy density of the battery, energy in a single battery or battery unit is increasingly high. Therefore, any improper use of the battery may cause a serious or even disastrous safety accident. Among various causes of a battery safety accident, an internal short-circuit of the battery is the most covert phenomenon that is very difficult to detect and prevent in real time on site. Particularly, in the charging process, because of accumulation of electricity in the battery, the battery includes more energy. Once the internal short-circuit occurs, great harm may be caused. However, the existing charging method cannot detect and prevent the internal short-circuit.</p>
<p id="p0059" num="0059">In view of the foregoing problems, a charging method and apparatus are provided in the embodiments of this application. In a process of charging a battery at a constant voltage that is greater than an end-of-precharge voltage of the battery and less than a maximum charging voltage of the battery, the charging apparatus determines a current relaxation time in the charging process, and adjusts a charging current and a charging voltage based on the current relaxation time, to adaptively charge the battery.</p>
<p id="p0060" num="0060">The current relaxation time refers to duration of a current relaxation process. In a constant voltage charging stage, a charging current decreases exponentially. This process is referred to as the current relaxation process. In a charging process, a charging current changes with the passage of time, and the change of the charging current corresponds to a change of an electrochemical reaction rate on an electrode surface of a battery. Accordingly, the current relaxation time may reflect the change of the electrochemical reaction rate in the battery.</p>
<p id="p0061" num="0061">Because the current relaxation time may reflect the change of the electrochemical reaction rate in the battery, the charging apparatus adjusts the charging current and the charging voltage based on the current relaxation time. This can better adapt to a change inside the battery in the charging process, improve safety and reliability of the battery in the charging process, effectively enhance cycle performance of the battery, and effectively prolong battery life.</p>
<p id="p0062" num="0062">In addition, in the charging process, the charging apparatus may further determine, based on a value of the current relaxation time, whether the battery ages or internally short-circuits, and this effectively reduces an occurrence of a safety accident.</p>
<p id="p0063" num="0063">The charging method provided in this application is mainly applied to the constant current charging stage shown in <figref idref="f0001">FIG. 1</figref>. In other words, this application is mainly an improvement to a charging method in the second stage. Certainly, the charging method provided in this application may also be applied to the trickle charging stage and the constant voltage charging stage shown in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0064" num="0064">Subsequently, an example in which the charging method provided in this application is applied to the trickle charging stage shown in <figref idref="f0001">FIG. 1</figref> is used for description.</p>
<p id="p0065" num="0065">The charging method provided in this embodiment of this application is applicable to charging devices<!-- EPO <DP n="9"> --> without a rechargeable battery, for example, an electric vehicle charging pile, a mobile phone universal charger, and the like; or may be applicable to various charging devices with a rechargeable battery, for example, a tablet computer, a smartphone, a portable computer, a camera, a game console, a small computer, a laptop computer, a smartwatch, a wearable accessory, an electric vehicle, and the like.</p>
<p id="p0066" num="0066">The charging apparatus in this embodiment of this application may be any one of the foregoing charging devices, or may be some apparatuses in the any one of the foregoing charging devices. For example, the charging apparatus may be a chip system in the smartphone, where the chip system is configured to support the smartphone in implementing the charging method provided in this embodiment of this application. The chip system includes a chip, or may include another discrete device or a circuit structure.</p>
<p id="p0067" num="0067">For example, as shown in <figref idref="f0002">FIG. 2</figref>, a charging apparatus in an embodiment of this application includes a current measurement unit 21, a voltage measurement unit 22, a control unit 23, a charging unit 24, an electricity integration unit 25, and a temperature measurement unit 26.</p>
<p id="p0068" num="0068">The current measurement unit 21 is configured to measure a charging current of a battery, and may be implemented by an ampere meter. In this embodiment of this application, for a specific design and implementation of the ampere meter, refer to a design and implementation of any ampere meter configured to measure a current in the prior art. This is not specifically limited in this embodiment of this application.</p>
<p id="p0069" num="0069">The current measurement unit 22 is configured to measure a charging current of the battery, and may be implemented by a voltmeter. In this embodiment of this application, for a specific design and implementation of the voltmeter, refer to a design and implementation of any voltmeter configured to measure a voltage in the prior art. This is not specifically limited in this embodiment of this application.</p>
<p id="p0070" num="0070">The control unit 23 is configured to: calculate a current relaxation time based on data measured by the current measurement unit 21, the voltage measurement unit 22, and the temperature measurement unit 26; determine, based on the current relaxation time, a charging current and a charging voltage that are to be input to the battery; and output a corresponding control signal to the charging unit 24. Optionally, if the current input to the battery keeps constant but the voltage input to the battery changes, the control unit 23 may send, to the charging unit 24, a control signal used to indicate constant current charging. If the voltage input to the battery keeps constant but the current input to the battery changes, the control unit 23 may send, to the charging unit 24, a control signal used to indicate constant voltage charging.</p>
<p id="p0071" num="0071">In addition, the control unit 23 may be further configured to determine, based on the calculated current relaxation time, whether the battery ages/internally short-circuits.</p>
<p id="p0072" num="0072">The charging unit 24 is configured to provide a controllable constant charging current or a controllable constant charging voltage for the battery based on the control signal sent by the control unit 23.</p>
<p id="p0073" num="0073">The electricity integration unit 25 is configured to calculate, based on the charging current, a quantity of electricity accumulated in the battery, in other words, determine an SOC of the battery.</p>
<p id="p0074" num="0074">The temperature measurement unit 26 is configured to measure a temperature of the battery, and may be implemented by a heat sensor. In this embodiment of this application, for a specific design and implementation of the heat sensor, refer to a design and implementation of any heat sensor configured to measure a temperature in the prior art. This is not specifically limited in this embodiment of this application. In actual application, the temperature of the battery affects the current relaxation time.</p>
<p id="p0075" num="0075">Optionally, the charging apparatus further includes an alarm unit 27. If the control unit 23 determines,<!-- EPO <DP n="10"> --> based on the calculated current relaxation time, that the battery ages/internally short-circuits, the alarm unit 27 gives an alarm.</p>
<p id="p0076" num="0076">Optionally, the charging apparatus further includes the battery.</p>
<p id="p0077" num="0077">Because both the battery and the alarm unit 27 are optional, the battery and the alarm unit 27 are marked by using dashed boxes in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0078" num="0078">The foregoing units are obtained through division according to functions implemented by the units. Alternatively, the foregoing two or more units may be integrated into one processing unit. The foregoing units may be implemented in a form of hardware, or may be implemented in a form of a software function module.</p>
<p id="p0079" num="0079">It should be noted that <figref idref="f0002">FIG. 2</figref> is an example of the charging apparatus in this embodiment of this application, and is merely logical function division. In actual implementation, there may be another division manner.</p>
<p id="p0080" num="0080">In hardware implementation, the current measurement unit 21 may be an ampere meter in the charging apparatus, the voltage measurement unit 22 may be a voltmeter in the charging apparatus, the control unit 23 and the electricity integration unit 25 may be implemented by a processor or by the processor invoking a program in a cache, the charging unit 24 may be a controlled power supply in the charging apparatus, the temperature measurement unit 26 may be a heat sensor in the charging apparatus, and the alarm unit 27 may be a display or an alarm indicator of the charging apparatus.</p>
<p id="p0081" num="0081">With reference to the charging apparatus shown in <figref idref="f0002">FIG. 2</figref>, the following describes in detail a charging method provided in an embodiment of this application.</p>
<p id="p0082" num="0082">Referring to <figref idref="f0003">FIG. 3</figref>, the charging method includes the following steps.</p>
<p id="p0083" num="0083">S300. A charging apparatus performs constant current charging on a battery at a preset current until a voltage of the battery reaches an end-of-precharge voltage.</p>
<p id="p0084" num="0084">Specifically, in a constant current charging process, a voltage measurement unit in the charging apparatus measures the voltage of the battery in this process in real time. This process ends when the voltage measurement unit detects that the voltage of the battery reaches the end-of-precharge voltage.</p>
<p id="p0085" num="0085">For example, the end-of-precharge voltage is 3.5 V The charging apparatus performs constant current charging on the battery at a current of C/20 until the voltage of the battery reaches 3.5 V.</p>
<p id="p0086" num="0086">This stage is a first stage in which the charging apparatus charges the battery, and the stage is equivalent to the trickle charging stage in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0087" num="0087">After the voltage of the battery reaches the end-of-precharge voltage, the charging apparatus continues to perform S301. S301 is equivalent to a second stage (for example, the constant current charging stage shown in <figref idref="f0001">FIG. 1</figref>) in which a charging apparatus charges a battery in the prior art.</p>
<p id="p0088" num="0088">S301. The charging apparatus performs constant voltage charging on the battery at different charging voltages in different time periods until the voltage of the battery reaches a maximum charging voltage; or the charging apparatus performs constant voltage charging and constant current charging until the voltage of the battery reaches the maximum charging voltage.</p>
<p id="p0089" num="0089">Optionally, after performing S300, the charging apparatus may charge the battery only in a constant voltage charging manner (different charging voltages are used in different time periods), or may charge the battery in a hybrid manner of constant voltage charging and constant current charging (for example, constant voltage charging alternates with constant current charging, or m (m ≥ 2) times of constant voltage charging are performed after constant current charging, or the like). This is not specifically limited in this embodiment of this application.<!-- EPO <DP n="11"> --></p>
<p id="p0090" num="0090">Regardless of which manner is used by the charging apparatus to charge the battery, in each constant voltage charging process, the charging apparatus determines a current relaxation time and determines a would-be charging current based on the current relaxation time and a present SOC of the battery. Subsequently, the charging apparatus performs constant current charging on the battery at the would-be charging current. Alternatively, the charging apparatus determines a voltage corresponding to the would-be charging current as a would-be charging voltage, and charges the battery at the would-be charging voltage.</p>
<p id="p0091" num="0091">Specifically, the charging process described in S301 may be represented by S301a to S301e below. S301a to S301e are described now.</p>
<p id="p0092" num="0092">S301a. The charging apparatus performs constant voltage charging on the battery at a present charging voltage.</p>
<p id="p0093" num="0093">The present charging voltage is greater than the end-of-precharge voltage and less than the maximum charging voltage.</p>
<p id="p0094" num="0094">The charging apparatus in this embodiment of this application may perform a plurality of times of constant voltage charging on the battery. The charging apparatus uses different charging voltages in different constant voltage charging processes. The present charging voltage is a charging voltage used by the charging apparatus in a present constant voltage charging process.</p>
<p id="p0095" num="0095">For example, as shown in <figref idref="f0005">FIG. 6</figref>, in a time period from t<sub>0</sub> to t<sub>1</sub>, the charging apparatus performs constant voltage charging on the battery at a voltage of V<sub>0</sub>. In this case, the present charging voltage is V<sub>0</sub>. In a time period from t<sub>1</sub> to t<sub>2</sub>, the charging apparatus performs constant voltage charging on the battery at a voltage of V<sub>1</sub>. In this case, the present charging voltage is V<sub>1</sub>.</p>
<p id="p0096" num="0096">S301b. In a process of performing constant voltage charging on the battery at the present charging voltage, the charging apparatus determines a current relaxation time.</p>
<p id="p0097" num="0097">The current relaxation time herein refers to duration of a current relaxation process. The current relaxation process is a process in which a charging current decreases exponentially in a constant voltage charging stage.</p>
<p id="p0098" num="0098">Generally, a value of the current relaxation time varies with an SOC of the battery, an SOH of the battery, an SOS of the battery, a temperature of the battery, or the like.</p>
<p id="p0099" num="0099">In the process of performing constant voltage charging on the battery at the present charging voltage, in this embodiment of this application, a time period from a moment at which a peak value of a charging current occurs to a moment at which a value of the charging current is a second preset threshold or a change rate of the charging current is less than a preset change rate is considered as the current relaxation time. Certainly, the charging apparatus may alternatively determine the current relaxation time in another manner. This is not specifically limited in this embodiment of this application.</p>
<p id="p0100" num="0100">For example, the charging apparatus determines a first moment and a second moment, to determine the current relaxation time. The first moment is a moment at which the peak value of the charging current occurs in the process of performing constant voltage charging on the battery at the present charging voltage, the second moment is a moment at which the value of the charging current is the second preset threshold or the change rate of the charging current is less than or equal to a preset change rate in the process of performing constant voltage charging on the battery at the present charging voltage. The first moment is earlier than the second moment.</p>
<p id="p0101" num="0101">As shown in <figref idref="f0005">FIG. 6</figref>, in a constant voltage charging process of the battery at the charging voltage V<sub>1</sub>, a<!-- EPO <DP n="12"> --> peak value I<sub>2</sub> of the charging current occurs at the moment t<sub>1</sub>, and a change rate of the charging current at the moment t<sub>2</sub> is less than the preset change rate. In this case, duration from the moment t<sub>1</sub> to the moment t<sub>2</sub> is determined as the current relaxation time τ. In other words, τ = t<sub>2</sub> - t<sub>1</sub>.</p>
<p id="p0102" num="0102">In this embodiment of this application, values of the second preset threshold and the preset change rate may be preconfigured based on a requirement.</p>
<p id="p0103" num="0103">Similarly, <figref idref="f0005">FIG. 7</figref>, <figref idref="f0006">FIG. 8</figref>, and <figref idref="f0007">FIG. 9</figref> each also show a current relaxation time τ in a constant voltage charging process. A principle for calculating the current relaxation time is basically the same. Therefore, the current relaxation time τ in each of <figref idref="f0005">FIG. 7</figref>, <figref idref="f0006">FIG. 8</figref>, and <figref idref="f0007">FIG. 9</figref> is not described herein again.</p>
<p id="p0104" num="0104">S301c. The charging apparatus obtains a present SOC of the battery and calculates the would-be charging current based on the current relaxation time and the present SOC of the battery.</p>
<p id="p0105" num="0105">The present SOC of the battery is an SOC of the battery at a moment when the current relaxation time starts. With reference to <figref idref="f0005">FIG. 6</figref>, in the process of performing constant voltage charging on the battery at the charging voltage V<sub>1</sub>, the present SOC of the battery is an SOC of the battery at the moment t<sub>1</sub>.</p>
<p id="p0106" num="0106">Optionally, the charging apparatus may convert a voltage into an SOC of the battery according to a curve of a state of charge versus a charging/discharging voltage, to obtain the present SOC of the battery; or may integrate the charging current, to obtain the present SOC of the battery. Alternatively, the charging apparatus may use another technical means to determine the present SOC of the battery. This is not specifically limited in this embodiment of this application.</p>
<p id="p0107" num="0107">After obtaining the present SOC of the battery and the current relaxation time, the charging apparatus calculates the would-be charging current and the would-be charging voltage.</p>
<p id="p0108" num="0108">In an example, the charging apparatus calculates the would-be charging current I according to the following formula: <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="normal">I</mi><mo>=</mo><mi mathvariant="normal">C</mi><mo>+</mo><mi mathvariant="normal">K</mi><mo>×</mo><msup><mi mathvariant="normal">τ</mi><mi mathvariant="normal">M</mi></msup><mfenced><mi>SOC</mi></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="43" he="5" img-content="math" img-format="tif"/></maths></p>
<p id="p0109" num="0109">In the formula (1), τ represents the current relaxation time, SOC represents the present state of charge of the battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, M is an exponent coefficient, and M ≠ 0.</p>
<p id="p0110" num="0110">A charging parameter includes at least one of the constant C, the proportionality coefficient K, or the exponent coefficient M. A value of the charging parameter may be preset (that is, is a fixed value), or may be set based on a battery parameter (that is, varies depending on the battery parameter).</p>
<p id="p0111" num="0111">Herein, the battery parameter includes at least one of the present SOC of the battery, a present state of health (state of health, SOH) of the battery, the current relaxation time, a present temperature of the battery, or a present state of safety (state of safety, SOS) of the battery.</p>
<p id="p0112" num="0112">When values of the constant C, the proportionality coefficient K, and the exponent coefficient M all are fixed values, the charging apparatus may adaptively adjust the would-be charging current I according to the formula (1) based on the current relaxation time τ and a change of the present SOC of the battery.</p>
<p id="p0113" num="0113">When the value of the charging parameter varies depending on the battery parameter, the charging apparatus adjusts the value of the charging parameter based on a change of the battery parameter, and then adaptively adjusts the charging current based on an adjusted charging parameter.</p>
<p id="p0114" num="0114">In an optional implementation, the value or a value range of the charging parameter depends on a temperature of the battery.<!-- EPO <DP n="13"> --></p>
<p id="p0115" num="0115">For example, when the temperature of the battery is lower than a normal temperature (for example, 25°C), a diffusion rate of a lithium-ion battery that uses graphite as a negative electrode material is relatively small. In this case, the charging apparatus may charge the battery at a relatively small charging current. When the temperature of the battery is higher than a normal temperature (for example, 25°C), a diffusion rate of a lithium-ion battery that uses graphite as a negative electrode material is relatively large. In this case, the charging apparatus may charge the battery at a relatively large charging current.</p>
<p id="p0116" num="0116">Accordingly, the charging apparatus may adjust the value and/or the value range of the charging parameter based on the temperature of the battery.</p>
<p id="p0117" num="0117">In another optional implementation, the value or a value range of the charging parameter depends on the present SOC of the battery.</p>
<p id="p0118" num="0118">For example, a lithium-ion secondary battery uses lithium cobalt oxide as a positive electrode material. When the present SOC of the battery is less than 50%, a diffusion rate of a lithium ion deintercalated from a lithium cobalt oxide material is relatively large. In this case, the charging apparatus may charge the battery at a relatively large charging current. When the present SOC of the battery is greater than 50%, a diffusion rate of a lithium ion deintercalated from a lithium cobalt oxide material is relatively small. In this case, the charging apparatus may charge the battery at a relatively small charging current.</p>
<p id="p0119" num="0119">Accordingly, the charging apparatus may adjust the value and/or the value range of the charging parameter based on the present SOC of the battery.</p>
<p id="p0120" num="0120">In another optional implementation, the value or a value range of the charging parameter depends on the present SOH of the battery.</p>
<p id="p0121" num="0121">For example, a method for obtaining the present SOH of the battery by the charging apparatus is as follows: The charging apparatus measures the current relaxation time τ of the battery, and obtains a variation curve of the current relaxation time τ (as shown in <figref idref="f0004">FIG. 4</figref>). Then, the charging apparatus compares variation values of a current relaxation time τ of a healthy battery and a current relaxation time τ of an aging battery in a same SOC, to determine the present SOH of the battery.</p>
<p id="p0122" num="0122">After determining the present SOH of the battery, the charging apparatus may adaptively adjust the charging parameter based on the present SOH of the battery.</p>
<p id="p0123" num="0123">In another optional implementation, the value or a value range of the charging parameter depends on the present SOS of the battery.</p>
<p id="p0124" num="0124">For example, a method for obtaining the present SOS of the battery by the charging apparatus is as follows: A method for obtaining the present SOS of the battery by the charging apparatus is as follows: The charging apparatus measures the current relaxation time τ of the battery, and obtains a variation curve of the current relaxation time τ (as shown in <figref idref="f0004">FIG. 5</figref>). Then, the charging apparatus compares variation values of a current relaxation time τ of a healthy battery and a current relaxation time τ of an internally short-circuited battery in a same SOC, to determine the present SOS of the battery.</p>
<p id="p0125" num="0125">The SOS of the battery affects a value change of the charging parameter to some extent. For example, when a micro short-circuit occurs in the battery, a self-discharge rate of the battery increases, and an internal diffusion path, for example, an electrode reaction area, of the battery changes. Finally, this causes a change of electrode kinetic behavior of the battery, and accordingly, the value of the charging parameter changes.</p>
<p id="p0126" num="0126">After determining the present SOS of the battery, the charging apparatus may adaptively adjust the<!-- EPO <DP n="14"> --> charging parameter based on the present SOS of the battery.</p>
<p id="p0127" num="0127">In another example, the charging apparatus calculates the would-be charging current I according to the following formula: <maths id="math0002" num="(2)"><math display="block"><mi mathvariant="normal">I</mi><mo>=</mo><mi mathvariant="normal">C</mi><mo>+</mo><mi mathvariant="normal">K</mi><mo>×</mo><mfenced separators=""><mn>1</mn><mo>+</mo><mi mathvariant="normal">τ</mi><mfenced><mi>SOC</mi></mfenced><mo>+</mo><msup><mi mathvariant="normal">τ</mi><mn>2</mn></msup><mfenced><mi>SOC</mi></mfenced><mo>+</mo><mo>…</mo><mo>+</mo><msup><mi mathvariant="normal">τ</mi><mi mathvariant="normal">N</mi></msup><mfenced><mi>SOC</mi></mfenced></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="80" he="5" img-content="math" img-format="tif"/></maths></p>
<p id="p0128" num="0128">In the formula (2), τ represents the current relaxation time, SOC represents the present state of charge of the battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, N is a polynomial coefficient, and N ≠ 0.</p>
<p id="p0129" num="0129">In a scenario in which the charging apparatus calculates the would-be charging current according to the formula (2), a charging parameter includes at least one of the constant C, the proportionality coefficient K, or the polynomial coefficient N. Similarly, a value of the charging parameter may be a fixed value, or may vary with a battery parameter.</p>
<p id="p0130" num="0130">It should be noted that the formula (1) and the formula (2) are merely examples for describing "the charging apparatus calculates the would-be charging current based on the current relaxation time and the present SOC of the battery" in this embodiment of this application, and do not constitute a limitation on a method for calculating the would-be charging current by the charging apparatus. In addition to the formula (1) and the formula (2), another formula may be used to calculate the would-be charging current.</p>
<p id="p0131" num="0131">After performing S301c, the charging apparatus performs S301d or S301e.</p>
<p id="p0132" num="0132">It should be noted that, in actual application, the charging apparatus may perform S301d or S301e after S301c based on configuration or an actual requirement.</p>
<p id="p0133" num="0133">If a next charging stage is a constant current charging stage, the charging apparatus directly performs constant current charging at the calculated would-be charging current. In other words, S301d is performed.</p>
<p id="p0134" num="0134">If a next charging stage is a constant voltage charging stage, after determining the would-be charging current, the charging apparatus raises a voltage stepwise, so that a charging current reaches the would-be charging current. Correspondingly, the charging apparatus determines a voltage (which corresponds to the would-be charging current) at this moment as the would-be charging voltage, and performs constant voltage charging on the battery at the would-be charging voltage. In other words, S301e is performed.</p>
<p id="p0135" num="0135">S301d. The charging apparatus performs constant current charging on the battery at the would-be charging current.</p>
<p id="p0136" num="0136">It is easily to understand that in a constant current charging process, the voltage of the battery increases with passage of time.</p>
<p id="p0137" num="0137">If the voltage of the battery reaches a first preset threshold (a voltage of the first preset threshold is less than the maximum charging voltage) in the constant current charging process, the charging apparatus determines the voltage of the first preset threshold as the would-be charging voltage, and performs the following S301e. Herein, the first preset threshold is a preconfigured voltage. In actual application, the first preset threshold may be preconfigured based on a requirement.</p>
<p id="p0138" num="0138">If the voltage of the battery reaches the maximum charging voltage in the constant current charging process, the charging apparatus performs S302.</p>
<p id="p0139" num="0139">S301e. The charging apparatus performs constant voltage charging on the battery at the would-be charging voltage.</p>
<p id="p0140" num="0140">In a process in which the charging apparatus performs constant voltage charging on the battery at the<!-- EPO <DP n="15"> --> would-be charging voltage, the would-be charging voltage is the present charging voltage. If the would-be charging voltage is less than the maximum charging voltage, the charging apparatus repeats S301a, S301b, and S301c in the constant voltage charging process until the would-be charging voltage reaches the maximum charging voltage.</p>
<p id="p0141" num="0141">If the would-be charging voltage reaches the maximum charging voltage, the charging apparatus performs S302.</p>
<p id="p0142" num="0142">In conclusion, the charging apparatus may perform S301d or S301e after S301c. Therefore, if the battery is charged by using the charging method provided in this embodiment of this application, a respective graph of a current and a voltage of the battery may be shown in <figref idref="f0005">FIG. 6, or FIG. 7</figref>, or <figref idref="f0006">FIG. 8</figref>, or <figref idref="f0007">FIG. 9</figref>.</p>
<p id="p0143" num="0143">Certainly, each of <figref idref="f0005 f0006 f0007">FIG. 6 to FIG. 9</figref> is merely an example of a respective graph of a current and a voltage of the battery when the battery is charged by using the charging method provided in this embodiment of this application, and does not constitute a limitation on a respective graph of a current and a voltage of the battery.</p>
<p id="p0144" num="0144">As shown in <figref idref="f0005">FIG. 6</figref>, after the voltage of the battery reaches the end-of-precharge voltage (for example, Vo), the charging apparatus performs constant voltage charging on the battery at different charging voltages in different time periods until the charging voltage reaches the maximum charging voltage. In each constant voltage charging stage, a value of the charging current decreases. The charging apparatus determines a current relaxation time in this stage, then calculates a would-be charging current in a next charging stage based on the current relaxation time, and determines a would-be charging voltage based on the would-be charging current.</p>
<p id="p0145" num="0145">As shown in <figref idref="f0005">FIG. 7</figref>, after the voltage of the battery reaches the end-of-precharge voltage (for example, Vo), the charging apparatus performs constant voltage charging and constant current charging alternately on the battery until the charging voltage reaches the maximum charging voltage.</p>
<p id="p0146" num="0146">As shown in <figref idref="f0006">FIG. 8</figref>, after the voltage of the battery reaches the end-of-precharge voltage (for example, Vo), the charging apparatus first performs constant current charging on the battery and then performs constant voltage charging on the battery until the charging voltage reaches the maximum charging voltage.</p>
<p id="p0147" num="0147">As shown in <figref idref="f0007">FIG. 9</figref>, after the voltage of the battery reaches the end-of-precharge voltage (for example, Vo), the charging apparatus first performs constant voltage charging on the battery and then charges the battery in a hybrid manner of constant current charging and constant voltage charging until the charging voltage reaches the maximum charging voltage.</p>
<p id="p0148" num="0148">For <figref idref="f0005">FIG. 7</figref>, <figref idref="f0006">FIG. 8</figref>, and <figref idref="f0007">FIG. 9</figref>, in each constant voltage charging stage, a value of the charging current decreases. The charging apparatus determines a current relaxation time in the stage, and then calculates a would-be charging current in a next charging stage based on the current relaxation time. In each constant current charging stage, after a voltage of the battery reaches a threshold, the charging apparatus performs constant voltage charging on the battery at a voltage whose value is equal to the threshold.</p>
<p id="p0149" num="0149">It should be noted that a quantity of times of constant current charging or constant voltage charging performed by the charging apparatus is not limited in this embodiment of this application. <figref idref="f0005 f0006 f0007">FIG. 6 to FIG. 9</figref> are merely examples of a charging process, and do not constitute a limitation on the charging process.</p>
<p id="p0150" num="0150">In actual application, a quantity of times of constant current charging or constant voltage charging performed by the charging apparatus needs to be determined based on a requirement or based on configuration.</p>
<p id="p0151" num="0151">Optionally, in a process in which the charging voltage changes from the end-of-precharge voltage to the maximum charging voltage, the charging apparatus may monitor, measure, and calculate the current relaxation time by using time T, a present SOC of the battery, or a voltage of the battery as a unit, to adjust the would-be charging<!-- EPO <DP n="16"> --> current and the would-be charging voltage.</p>
<p id="p0152" num="0152">S302. The charging apparatus performs constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity.</p>
<p id="p0153" num="0153">The full-charge quantity of electricity is a quantity of electricity when the battery is fully charged.</p>
<p id="p0154" num="0154">Because the charging voltage reaches the maximum charging voltage, the charging apparatus cannot change the charging voltage. In a process in which the charging apparatus performs constant voltage charging on the battery at the maximum charging voltage, the charging current decreases with passage of time. When the current is less than a preset value (for example, 0.05C), it is determined that a quantity of electricity in the battery reaches the full-charge quantity of electricity, and the charging process of the battery ends.</p>
<p id="p0155" num="0155">A change of the charging current corresponds to a change of an electrochemical reaction rate in the battery. Therefore, the current relaxation time may reflect the change of the electrochemical reaction rate in the battery. In this embodiment of this application, the charging apparatus adjusts the charging current and the charging voltage based on the current relaxation time. This can better adapt to a change inside the battery in the charging process, effectively improve safety and reliability of the battery in the charging process, enhance cycle performance of the battery, and prolong battery life.</p>
<p id="p0156" num="0156">For example, when the current relaxation time is greater than a threshold, the charging apparatus increases the would-be charging current. When the current relaxation time is less than the threshold, the charging apparatus reduces the would-be charging current, and further controls a charging speed. This effectively improves cycle performance of the battery and prolongs battery life.</p>
<p id="p0157" num="0157">In addition, in the charging process, after calculating the current relaxation time, the charging apparatus in this embodiment of this application may further determine, based on the calculated current relaxation time, whether the battery ages or internally short-circuits, to improve safety of the battery and prolong battery life.</p>
<p id="p0158" num="0158">As shown in <figref idref="f0007">FIG. 10</figref>, a charging method provided in an embodiment of this application includes the following steps.</p>
<p id="p0159" num="0159">S100. A charging apparatus performs constant voltage charging on a battery at a present charging voltage.</p>
<p id="p0160" num="0160">For S100, refer to S301a.</p>
<p id="p0161" num="0161">S101. In a process of performing constant voltage charging on the battery at the present charging voltage, the charging apparatus determines a current relaxation time.</p>
<p id="p0162" num="0162">For S101, refer to S301b.</p>
<p id="p0163" num="0163">S102. The charging apparatus determines, based on the current relaxation time, whether the battery ages/internally short-circuits.</p>
<p id="p0164" num="0164">Optionally, the charging apparatus obtains a present SOC of the battery, compares the calculated current relaxation time with a current relaxation time of a battery in a healthy state in the present SOC, and determines, based on a comparison result, whether the battery ages/internally short-circuits.</p>
<p id="p0165" num="0165">In an example, it may be learned with reference to <figref idref="f0004">FIG. 4</figref> that, for a same SOC, if the "calculated current relaxation time" is greater than the "current relaxation time of the battery in the healthy state in the present SOC", and a difference thereof is greater than a threshold (for example, a threshold 1), it is determined that the battery ages.</p>
<p id="p0166" num="0166">In another example, it may be learned with reference to <figref idref="f0004">FIG. 5</figref> that, for a same SOC, a value of a current relaxation time of an internally short-circuited battery is less than or equal to a current relaxation time of a safe battery. Therefore, for a same SOC, if the "calculated current relaxation time" is less than the "current relaxation time of the<!-- EPO <DP n="17"> --> battery in the healthy state in the present SOC", and a difference thereof is greater than a threshold (for example, a threshold 2), it is determined that the battery internally short-circuits.</p>
<p id="p0167" num="0167">S103. If the battery ages/internally short-circuits, the charging apparatus gives an alarm or stops charging.</p>
<p id="p0168" num="0168">It can be learned that the charging apparatus may determine, based on the current relaxation time, whether the battery ages/internally short-circuits in a charging process. This effectively improves safety and reliability of the battery in the charging process.</p>
<p id="p0169" num="0169">It is easily to understood that, if the battery does not age/internally short-circuit, the charging apparatus charges the battery by using the charging method shown in <figref idref="f0003">FIG. 3</figref>.</p>
<p id="p0170" num="0170">In conclusion, the charging method provided in this embodiment of this application effectively improves safety and reliability of the battery in the charging process, enhances cycle performance of the battery, and prolongs battery life.</p>
<p id="p0171" num="0171">An embodiment of this application provides a charging apparatus. The charging apparatus may be various charging devices, or may be some apparatuses in the charging device. For example, the charging apparatus may be a chip system in the charging device. Optionally, the chip system is configured to support the charging device in implementing functions in the foregoing method embodiments, for example, determining data and/or information in the foregoing methods. The chip system includes a chip, or may include another discrete device or a circuit structure.</p>
<p id="p0172" num="0172">The charging apparatus is configured to perform the steps performed by the charging apparatus in the foregoing charging methods. The charging apparatus provided in this embodiment of this application may include modules corresponding to corresponding steps.</p>
<p id="p0173" num="0173">In this embodiment of this application, the charging apparatus may be divided into function modules based on the foregoing method examples. For example, each function module may be obtained through division based on each corresponding function, or two or more functions may be integrated into one processing module. The integrated module may be implemented in a form of hardware, or may be implemented in a form of a software function module. In this embodiment of this application, module division is an example, and is merely a logical function division. In actual implementation, there may be another division manner.</p>
<p id="p0174" num="0174">When each function module is obtained through division based on each corresponding function, <figref idref="f0002">FIG. 2</figref> is a possible schematic structural diagram of the charging apparatus in this embodiment of this application.</p>
<p id="p0175" num="0175">In hardware implementation, <figref idref="f0008">FIG. 11</figref> is a schematic diagram of composition of the charging apparatus provided in this embodiment of this application. As shown in <figref idref="f0008">FIG. 11</figref>, the charging apparatus may include at least one processor 111, a memory 112, and a communications bus 113. The following describes each constituent part of the charging apparatus in detail with reference to <figref idref="f0008">FIG. 11</figref>.</p>
<p id="p0176" num="0176">The processor 111 is a control center of the charging apparatus, and may be one processor or may be a collective term of a plurality of processing elements. For example, the processor 111 may be a central processing unit (central processing unit, CPU), or may be an application-specific integrated circuit (application specific integrated circuit, ASIC), or one or more integrated circuits configured to implement this embodiment of this application, for example, one or more digital signal processors (digital signal processor, DSP) or one or more field programmable gate arrays (field programmable gate array, FPGA).</p>
<p id="p0177" num="0177">The processor 111 may execute various functions of the charging apparatus by running or executing a software program stored in the memory 112 and calling data stored in the memory 112.</p>
<p id="p0178" num="0178">In specific implementation, in an embodiment, the processor 111 may include one or more CPUs, for<!-- EPO <DP n="18"> --> example, a CPU 0 and a CPU 1 shown in <figref idref="f0008">FIG. 11</figref>.</p>
<p id="p0179" num="0179">In specific implementation, in an embodiment, the charging apparatus 1100 may include a plurality of processors, for example, the processor 111 and a processor 114 in <figref idref="f0008">FIG. 11</figref>. Each of the processors may be a singlecore (single-CPU) processor, or may be a multi-core (multi-CPU) processor. The processor herein may refer to one or more devices, circuits, and/or processing cores configured to process data (for example, a computer program instruction).</p>
<p id="p0180" num="0180">The memory 112 may be a read-only memory (read-only memory, ROM), another type of static storage device that can store static information and an instruction, a random access memory (random access memory, RAM), or another type of dynamic storage device that can store information and an instruction, or may be an electrically erasable programmable read-only memory (electrically erasable programmable read-only memory, EEPROM), a compact disc read-only memory (compact disc read-only memory, CD-ROM) or another compact disc storage, an optical disc storage (including a compact disc, a laser disc, an optical disc, a digital versatile disc, a Blu-ray disc, or the like), a magnetic storage medium or another magnetic storage device, or any other medium that can be used to carry or store expected program code in a form of an instruction or a data structure and that can be accessed by a computer. However, this is not limited thereto. The memory 112 may exist independently, and is connected to the processor 111 by using the communications bus 113. Alternatively, the memory 112 may be integrated into the processor 111.</p>
<p id="p0181" num="0181">The memory 112 is configured to store a software program that performs the solution of this application, and the processor 111 controls execution of the software program.</p>
<p id="p0182" num="0182">The communications bus 113 may be an industry standard architecture (industry standard architecture, ISA) bus, a peripheral component interconnect (peripheral component interconnect, PCI) bus, an extended industry standard architecture (extended industry standard architecture, EISA) bus, or the like. The bus may be classified into an address bus, a data bus, a control bus, and the like. For ease of representation, only one thick line is used to represent the bus in <figref idref="f0008">FIG. 11</figref>, but this does not mean that there is only one bus or only one type of bus.</p>
<p id="p0183" num="0183">It should be noted that a structure of the device shown in <figref idref="f0008">FIG. 11</figref> does not constitute a limitation on the charging apparatus. In addition to the components shown in <figref idref="f0008">FIG. 11</figref>, the charging apparatus may include more or fewer components than those shown in the figure, or combine some components, or have different component arrangements.</p>
<p id="p0184" num="0184">For example, the charging apparatus provided in this embodiment of this application may further include at least one of a communications interface, a controlled power supply, an ampere meter, a voltmeter, or a heat sensor. The communications interface is configured to provide a charging port for a battery, the controlled power supply is configured to provide a constant-voltage power supply or a constant-current power supply for a current, the ampere meter is configured to measure a charging current, the voltmeter is configured to measure a charging voltage, and the heat sensor is configured to measure a temperature of the battery.</p>
<p id="p0185" num="0185">Another embodiment of this application further provides a computer-readable storage medium. The computer-readable storage medium stores an instruction, and when the instruction is run on a charging apparatus, the charging apparatus implements the charging method shown in <figref idref="f0003">FIG. 3</figref> or <figref idref="f0007">FIG. 10</figref>.</p>
<p id="p0186" num="0186">Another embodiment of this application further provides a computer program product including an instruction. The computer program product includes a computer executable instruction, and the computer executable instruction is read and executed by a charging device, so that a charging apparatus implements the charging method<!-- EPO <DP n="19"> --> shown in the embodiment in <figref idref="f0003">FIG. 3</figref> or <figref idref="f0007">FIG. 10</figref>.</p>
<p id="p0187" num="0187">An embodiment of this application further provides a control circuit. The control circuit includes a processor and a memory. The memory is configured to store a computer executable instruction. When the control circuit runs, the processor executes the computer executable instruction stored in the memory, so that the control circuit implements the charging method shown in the embodiment in <figref idref="f0003">FIG. 3</figref> or <figref idref="f0007">FIG. 10</figref>.</p>
<p id="p0188" num="0188">With reference to <figref idref="f0002">FIG. 2</figref>, the control circuit may correspond to the control unit 23 in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0189" num="0189">For example, the control circuit is a chip system in a charging apparatus. Optionally, the chip system is configured to support the charging apparatus in implementing functions in the foregoing method embodiments, for example, determining data and/or information in the foregoing methods. The chip system includes a chip, or may include another discrete device or a circuit structure.</p>
<p id="p0190" num="0190">All or some of the foregoing embodiments may be implemented by using software, hardware, firmware, or any combination thereof. When a software program is used to implement the embodiments, all or some of the embodiments may be implemented in a form of a computer program product. The computer program product includes one or more computer instructions. When the computer program instructions are loaded and executed on a computer, the procedure or functions according to the embodiments of this application are all or partially generated. The computer may be a general-purpose computer, a dedicated computer, a computer network, or another programmable apparatus. The computer instructions may be stored in a computer-readable storage medium or may be transmitted from a computer-readable storage medium to another computer-readable storage medium. For example, the computer instructions may be transmitted from a website, computer, server, or data center to another website, computer, server, or data center in a wired (for example, a coaxial cable, an optical fiber, or a digital subscriber line (DSL)) or wireless (for example, infrared, radio, or microwave) manner. The computer-readable storage medium may be any usable medium accessible by a computer, or a data terminal, such as a server or a data center, integrating one or more usable media. The usable medium may be a magnetic medium (for example, a floppy disk, a hard disk, or a magnetic tape), an optical medium (for example, a DVD), a semiconductor medium (for example, a solid-state drive solid state disk (SSD), or the like.</p>
<p id="p0191" num="0191">The foregoing descriptions about implementations allow a person skilled in the art to understand that, for the purpose of convenient and brief description, division of the foregoing function modules is used as an example for illustration. In actual application, the foregoing functions can be allocated to different modules and implemented as required. In other words, an inner structure of an apparatus is divided into different function modules to implement all or some of the functions described above.</p>
<p id="p0192" num="0192">In the several embodiments provided in this application, it should be understood that the disclosed apparatus and method may be implemented in other manners. For example, the described apparatus embodiments are merely examples. For example, the module or unit division is merely logical function division and may be other division in actual implementation. For example, a plurality of units or components may be combined or integrated into another apparatus, or some features may be ignored or not performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented by using some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electronic, mechanical, or another form.</p>
<p id="p0193" num="0193">The units described as separate parts may or may not be physically separate, and parts displayed as units may be one or more physical units, may be located in one place, or may be distributed on different places. Some or<!-- EPO <DP n="20"> --> all of the units may be selected based on an actual requirement to achieve the objectives of the solutions of the embodiments.</p>
<p id="p0194" num="0194">In addition, functional units in the embodiments of this application may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit. The integrated unit may be implemented in a form of hardware, or may be implemented in a form of a software functional unit.</p>
<p id="p0195" num="0195">When the integrated unit is implemented in the form of a software functional unit and sold or used as an independent product, the integrated unit may be stored in a readable storage medium. Based on such an understanding, the technical solutions of this application essentially, or the part contributing to the prior art, or all or some of the technical solutions may be implemented in a form of a software product. The software product is stored in a storage medium and includes several instructions for instructing a device (which may be a single-chip microcomputer, a chip, or the like) or a processor (processor) to perform all or some of the steps of the methods described in the embodiments of this application. The foregoing storage medium includes: any medium that can store program code, such as a USB flash drive, a removable hard disk, a read-only memory (read-only memory, ROM), a random access memory (random access memory, RAM), a magnetic disk, or an optical disc.</p>
<p id="p0196" num="0196">The foregoing descriptions are merely specific implementations of this application, but are not intended to limit the protection scope of this application. Any variation or replacement within the technical scope disclosed in this application shall fall within the protection scope of this application. Therefore, the protection scope of this application shall be subject to the protection scope of the claims.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="21"> -->
<claim id="c-en-0001" num="0001">
<claim-text>A charging method, applied to a charging apparatus for charging a battery, wherein the charging method comprises:
<claim-text>step A: performing constant voltage charging on the battery at a present charging voltage, wherein the present charging voltage is greater than an end-of-precharge voltage of the battery and less than a maximum charging voltage of the battery, the maximum charging voltage is used to represent a withstand voltage of a positive electrode material, an electrolyte, or a positive electrode current collector of the battery, and the end-of-precharge voltage is a critical voltage at which the battery changes from an overdischarge state to a normal discharge state;</claim-text>
<claim-text>step B: in a process of performing constant voltage charging on the battery at the present charging voltage, determining a current relaxation time, wherein the current relaxation time is used to reflect a change of an electrochemical reaction rate in the battery;</claim-text>
<claim-text>step C: obtaining a present state of charge SOC of the battery; calculating a would-be charging current based on the current relaxation time and the present SOC of the battery; and performing the following step D, or determining a voltage corresponding to the would-be charging current as a would-be charging voltage and performing the following step E; and</claim-text>
<claim-text>step D: performing constant current charging on the battery at the would-be charging current; and if a voltage of the battery reaches a first preset threshold in a constant current charging process, determining a voltage of the first preset threshold as a would-be charging voltage, and performing the following step E, wherein the voltage of the first preset threshold is less than the maximum charging voltage; or if a voltage of the battery reaches the maximum charging voltage in a constant current charging process, performing constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity; or</claim-text>
<claim-text>step E: performing constant voltage charging on the battery at the would-be charging voltage, repeating the steps A, B and C in a constant voltage charging process until the would-be charging voltage reaches the maximum charging voltage, and performing constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity, wherein</claim-text>
<claim-text>the full-charge quantity of electricity is a quantity of electricity when the battery is fully charged.</claim-text></claim-text></claim>
<claim id="c-en-0002" num="0002">
<claim-text>The charging method according to claim 1, wherein the determining a current relaxation time specifically comprises:
<claim-text>determining a first moment and a second moment, wherein the first moment is a moment at which a peak value of a charging current occurs in the process of performing constant voltage charging on the battery at the present charging voltage, the second moment is a moment at which a value of the charging current is a second preset threshold or a change rate of the charging current is less than a preset change rate in the process of performing constant voltage charging on the battery at the present charging voltage, and the first moment is earlier than the second moment; and</claim-text>
<claim-text>determining the current relaxation time based on the first moment and the second moment.</claim-text></claim-text></claim>
<claim id="c-en-0003" num="0003">
<claim-text>The charging method according to claim 1 or 2, wherein the calculating a would-be charging current based on the current relaxation time and the present SOC of the battery specifically comprises:
<claim-text>calculating the would-be charging current according to a formula I = C + K × τ<sup>M</sup>(SOC), wherein I represents the would-be charging current, τ represents the current relaxation time, SOC represents a present state of charge of the<!-- EPO <DP n="22"> --> battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, M is an exponent coefficient, M ≠ 0, a charging parameter comprises at least one of the constant C, the proportionality coefficient K, or the exponent coefficient M, the charging parameter is preset or is set based on a battery parameter, and the battery parameter comprises at least one of the present SOC of the battery, a present state of health SOH of the battery, the current relaxation time, a present temperature of the battery, or a present state of safety SOS of the battery.</claim-text></claim-text></claim>
<claim id="c-en-0004" num="0004">
<claim-text>The charging method according to claim 3, wherein if the charging parameter is set based on the battery parameter, the charging method further comprises:<br/>
adjusting the charging parameter based on the battery parameter.</claim-text></claim>
<claim id="c-en-0005" num="0005">
<claim-text>A charging apparatus, wherein the charging apparatus is configured to charge a battery, and the charging apparatus comprises a control unit, a charging unit, and an electricity integration unit, wherein
<claim-text>the charging unit is configured to perform constant voltage charging or constant current charging on the battery under control of the control unit;</claim-text>
<claim-text>the electricity integration unit is configured to determine a state of charge SOC of the battery; and</claim-text>
<claim-text>the control unit is configured to perform steps A, B, C, D, and E, wherein</claim-text>
<claim-text>step A is: controlling the charging unit to perform constant voltage charging on the battery at a present charging voltage, wherein the present charging voltage is greater than an end-of-precharge voltage of the battery and less than a maximum charging voltage of the battery, the maximum charging voltage is used to represent a withstand voltage of a positive electrode material, an electrolyte, or a positive electrode current collector of the battery, and the end-of-precharge voltage is a critical voltage at which the battery changes from an overdischarge state to a normal discharge state;</claim-text>
<claim-text>step B is: in a process of controlling the charging unit to perform constant voltage charging on the battery at the present charging voltage, determining a current relaxation time, wherein the current relaxation time is used to reflect a change of an electrochemical reaction rate in the battery;</claim-text>
<claim-text>step C is: obtaining the present state of charge SOC of the battery from the electricity integration unit; calculating a would-be charging current based on the current relaxation time and the present SOC of the battery; and performing the following step D, or determining a voltage corresponding to the would-be charging current as a would-be charging voltage and performing the following step E;</claim-text>
<claim-text>step D is: controlling the charging unit to perform constant current charging on the battery at the would-be charging current; and if a voltage of the battery reaches a first preset threshold in a constant current charging process, determining a voltage of the first preset threshold as a would-be charging voltage, and performing the following step E, wherein the voltage of the first preset threshold is less than the maximum charging voltage; or if a voltage of the battery reaches the maximum charging voltage in a constant current charging process, performing constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity; and</claim-text>
<claim-text>step E is: controlling the charging unit to perform constant voltage charging on the battery at the would-be charging voltage, repeating the steps A, B and C in a constant voltage charging process until the would-be charging voltage reaches the maximum charging voltage, and performing constant voltage charging on the battery at the maximum charging voltage until a quantity of electricity in the battery reaches a full-charge quantity of electricity, wherein</claim-text>
<claim-text>the full-charge quantity of electricity is a quantity of electricity when the battery is fully charged.</claim-text><!-- EPO <DP n="23"> --></claim-text></claim>
<claim id="c-en-0006" num="0006">
<claim-text>The charging apparatus according to claim 5, wherein that the control unit is configured to determine a current relaxation time comprises:<br/>
the control unit is specifically configured to: determine a first moment and a second moment, wherein the first moment is a moment at which a peak value of a charging current occurs in the process of controlling the charging unit to perform constant voltage charging on the battery at the present charging voltage, and the second moment is a moment at which a value of the charging current is a second preset threshold or a change rate of the charging current is less than a preset change rate in the process of performing constant voltage charging on the battery at the present charging voltage; and determine the current relaxation time based on the first moment and the second moment, wherein the first moment is earlier than the second moment.</claim-text></claim>
<claim id="c-en-0007" num="0007">
<claim-text>The charging apparatus according to claim 5 or 6, wherein that the control unit is configured to calculate a would-be charging current based on the current relaxation time and the present SOC of the battery comprises:<br/>
the control unit is specifically configured to calculate the would-be charging current according to a formula I = C + K × τ<sup>M</sup>(SOC), wherein I represents the would-be charging current, τ represents the current relaxation time, SOC represents a present state of charge of the battery, K is a proportionality coefficient, C is a constant greater than or equal to 0, M is an exponent coefficient, M ≠ 0, a charging parameter comprises at least one of the constant C, the proportionality coefficient K, or the exponent coefficient M, the charging parameter is preset or is set based on a battery parameter, and the battery parameter comprises at least one of the present SOC of the battery, a present state of health SOH of the battery, the current relaxation time, a present temperature of the battery, or a present state of safety SOS of the battery.</claim-text></claim>
<claim id="c-en-0008" num="0008">
<claim-text>The charging apparatus according to claim 7, wherein if the charging parameter is set based on the battery parameter, the control unit is further configured to adjust the charging parameter based on the battery parameter.</claim-text></claim>
<claim id="c-en-0009" num="0009">
<claim-text>A charging apparatus, wherein the charging apparatus comprises a processor and a memory, wherein the memory is configured to store a computer executable instruction, and when the charging apparatus runs, the processor executes the computer executable instruction stored in the memory, so that the charging apparatus implements the charging method according to any one of claims 1 to 4.</claim-text></claim>
<claim id="c-en-0010" num="0010">
<claim-text>A control circuit, wherein the control circuit comprises a processor and a memory, wherein the memory is configured to store a computer executable instruction, and when the control circuit runs, the processor executes the computer executable instruction stored in the memory, so that the control circuit implements the charging method according to any one of claims 1 to 4.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="24"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="160" he="144" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="110" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="161" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> -->
<figure id="f0004" num="4,5"><img id="if0004" file="imgf0004.tif" wi="164" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> -->
<figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="158" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> -->
<figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="158" he="111" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> -->
<figure id="f0007" num="9,10"><img id="if0007" file="imgf0007.tif" wi="158" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> -->
<figure id="f0008" num="11"><img id="if0008" file="imgf0008.tif" wi="145" he="99" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="en" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/></search-report-data>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="CN201811506444" dnum-type="L"><document-id><country>CN</country><doc-number>201811506444</doc-number><date>20181210</date></document-id></patcit><crossref idref="pcit0001">[0001]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
