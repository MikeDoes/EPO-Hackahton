<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP19200908B1" file="EP19200908NWB1.xml" lang="en" country="EP" doc-number="3620149" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3620149</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>19200908.2</B210><B220><date>20140314</date></B220><B240><B241><date>20200910</date></B241></B240><B250>en</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>201361787809 P</B310><B320><date>20130315</date></B320><B330><ctry>US</ctry></B330><B310>201361790496 P</B310><B320><date>20130315</date></B320><B330><ctry>US</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20200311</date><bnum>202011</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210319</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>A61H  33/00        20060101AFI20200113BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>G05B  19/042       20060101ALI20200113BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04L  29/12        20060101ALI20200113BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>H04L  12/28        20060101ALI20200113BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>A61H2201/501       20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>A61H2201/5012      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>G05B  19/0421      20130101 LI20141218BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04L  61/2038      20130101 LI20160923BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>A61H2201/5097      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="6"><text>A61H  33/005       20130101 LI20141009BHEP        </text></classification-cpc><classification-cpc sequence="7"><text>G05B2219/21092     20130101 LA20141218BHEP        </text></classification-cpc><classification-cpc sequence="8"><text>A61H2201/5092      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="9"><text>A61H2201/5084      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="10"><text>A61H2201/5015      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="11"><text>A61H2033/0079      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="12"><text>A61H2033/0083      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="13"><text>A61H2201/5087      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="14"><text>A61H2201/5082      20130101 LA20150605BHEP        </text></classification-cpc><classification-cpc sequence="15"><text>G05B  19/0423      20130101 FI20210609BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>STEUERUNGSSYSTEM FÜR MODULARES SCHWIMMBAD/SPA</B542><B541>en</B541><B542>MODULAR POOL/SPA CONTROL SYSTEM</B542><B541>fr</B541><B542>SYSTÈME DE COMMANDE MODULAIRE POUR PISCINE/SPA</B542></B540><B560><B561><text>US-A1- 2011 040 415</text></B561><B561><text>US-A1- 2011 178 650</text></B561><B561><text>US-A1- 2012 221 162</text></B561></B560></B500><B600><B620><parent><pdoc><dnum><anum>14764537.8</anum><pnum>2972902</pnum></dnum><date>20140314</date></pdoc></parent></B620></B600><B700><B720><B721><snm>PRUCHNIEWSKI, David</snm><adr><str>P.O. Box 181684</str><city>Casselberry,
Florida 32718</city><ctry>US</ctry></adr></B721><B721><snm>BLAINE, David</snm><adr><str>133 Middle Street</str><city>North Kingston
RI 02852</city><ctry>US</ctry></adr></B721><B721><snm>BRUNETTI, Carl, L.</snm><adr><str>3 Shady Brook Circle,</str><city>Manville,
Rhode Island 02838</city><ctry>US</ctry></adr></B721><B721><snm>POTUCEK, Kevin</snm><adr><str>18 Spring Lake Drive</str><city>Far Hills,
New Jersey 07931</city><ctry>US</ctry></adr></B721><B721><snm>FOURNIER, Gregory</snm><adr><str>187 Sir Michael Circle</str><city>West Kingston,
Rhode Island 02892</city><ctry>US</ctry></adr></B721><B721><snm>HEON, Robert</snm><adr><str>270 Summer Avenue</str><city>Warwick,
Rhode Island 02888</city><ctry>US</ctry></adr></B721><B721><snm>HORROCKS, Craig</snm><adr><str>117 Lantern Lane</str><city>North Kingstown,
Rhode Island 02852</city><ctry>US</ctry></adr></B721><B721><snm>MURDOCK, James</snm><adr><str>118 Greenwood Drive</str><city>Wakefield,
Rhode Island 02879</city><ctry>US</ctry></adr></B721><B721><snm>STEVENS, John</snm><adr><str>62 Iran Horse Terrace</str><city>North Kingstown,
Rhode Island 02852</city><ctry>US</ctry></adr></B721><B721><snm>WHITE, Kenneth, JR.,</snm><adr><str>70 Hillside Drive,
P.O. Box 732,</str><city>East Dennis,
Massachusetts 02641</city><ctry>US</ctry></adr></B721><B721><snm>SAWYER, Douglas, JR.,</snm><adr><str>101 Pheasant Ridge Road,</str><city>Seekonk,
Massachusettes 02771</city><ctry>US</ctry></adr></B721></B720><B730><B731><snm>Hayward Industries, Inc.</snm><iid>101850674</iid><irf>J106672EPA</irf><adr><str>400 Connell Drive, Suite 6100</str><city>Berkeley Heights, NJ 07922</city><ctry>US</ctry></adr></B731></B730><B740><B741><snm>Cross, James Peter Archibald</snm><sfx>et al</sfx><iid>100036955</iid><adr><str>Maucher Jenkins 
26 Caxton Street</str><city>London SW1H 0RJ</city><ctry>GB</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001"><u>BACKGROUND OF THE INVENTION</u></heading>
<heading id="h0002"><u>CROSS-REFERENCE TO RELATED APPLICATIONS</u></heading>
<p id="p0001" num="0001">This application claims priority to <patcit id="pcit0001" dnum="US61790496" dnum-type="L"><text>U.S. Provisional Patent Application No. 61/790,496, filed on March 15, 2013</text></patcit>, and <patcit id="pcit0002" dnum="US61787809" dnum-type="L"><text>U.S. Provisional Patent Application No. 61/787,809, filed on March 15, 2013</text></patcit>.</p>
<heading id="h0003"><u>FIELD OF THE INVENTION</u></heading>
<p id="p0002" num="0002">The present disclosure relates to pool/spa system controllers, and specifically, to a modular pool/spa control system that includes modular relay packs, and is easily expandable to accommodate various types and/or combinations of equipment at pool/spa locations.</p>
<heading id="h0004"><u>RELATED ART</u></heading>
<p id="p0003" num="0003">For a pool or a spa to operate on a daily basis, several devices are required. This often includes pumps, heaters, filters, cleaners, lights, etc. To provide automation for these components, it is known in the art to control such devices by a microprocessor-based controller that provides switching instructions to various relays connected to such device. However, such controllers are often only compatible with specific types of devices. As such, a pool or a spa owner can own a particular controller and then purchase a subsequent heater, only to find out that the heater is not compatible with the controller. In such circumstances, the pool or spa owner can be forced to purchase a special convertor to make the device compatible with the controller, or to purchase a new compatible device, both options being expensive.</p>
<p id="p0004" num="0004">Additionally, controllers generally are restricted to the number of devices that can be connected thereto. For example, a controller can only have a pre-defined number of relays/ports that accept devices to be controlled, and/or can be limited by the total number of devices connected to the controller. As such, if a user wishes to expand the operation of his/her pool or spa, e.g., by adding additional lights, pumps, heaters, solar arrays, etc., the user will be restricted by the capabilities of the controller. When a pool or a spa owner has reached the maximum device capacity of the controller, the owner can be forced to purchase an additional controller, in addition to the existing controller. As such, the user could be forced to use two separate controllers that are not in communication and need to be programmed separately. Such an arrangement is not only expensive, but also time-consuming, considering that the operations of both controllers will have to be matched. Additionally, two separate controllers that do not communicate with each other will result in a less energy-efficient system.<!-- EPO <DP n="2"> --></p>
<p id="p0005" num="0005">From <patcit id="pcit0003" dnum="US2011040415A1"><text>US 2011/040415 A1</text></patcit>, a code replacement for irrigation controllers is known.</p>
<p id="p0006" num="0006"><patcit id="pcit0004" dnum="US2012221162A1"><text>US 2012/221162 A1</text></patcit> concerns electrical power load control systems.</p>
<heading id="h0005"><u>SUMMARY OF THE INVENTION</u></heading>
<p id="p0007" num="0007">Aspects of the present invention are defined by the accompanying claims. According to a first aspect there is provided a method in accordance with claim 1. Preferred optional features are defined in the dependent claims.</p>
<p id="p0008" num="0008">The present disclosure relates to a pool or spa control system including modular relay packs. In one embodiment, the control system includes a main control panel including a motherboard and a local terminal. The motherboard includes a main panel processor, a power supply, one or more internal communications busses (e.g., a high-speed RS-485, a low-speed RS-485 bus, or other suitable communications busses), external communications bus connectors (e.g., an external high-speed RS-485 bus connector and an external low-speed RS-485 bus connector, or suitable connectors for a respective communication bus that is implemented) that allow for smart components to be connected thereto, at least one relay bank socket, and an optional expansion slot. The local terminal is connectable to the motherboard and includes a master system processor and a screen. The local terminal allows the control system to be programmed. A programmable modular relay pack can be inserted into the relay bank socket of the main panel and connected to the main panel processor. The system automatically identifies the relay pack and permits a user to assign one or more functions and/or devices to be controlled by the relay pack, using the local terminal. The programmable modular relay pack includes a relay bank processor and a plurality of high voltage relays for connection with various pool or spa devices. When the programmable modular programmable relay pack is inserted into the at least one relay bank socket, it engages in a handshake with the main panel processor such that the processor recognizes the modular programmable relay pack and can control operation thereof. The main panel can also include a plurality of RS-485 connectors, actuators, relays, and sensor connectors. The main panel could include a chlorinator control subsystem that allows a chlorinator to be connected to the main panel and controlled by the main panel processor and/or the master system processor.</p>
<p id="p0009" num="0009">The controller can include an expansion panel connectable to one of the external communications bus connectors of the main panel. The expansion panel can include an expansion panel mother board including an expansion panel processor, a power supply connector, one or more internal communications busses (e.g., a high-speed RS-485 and a low-speed RS-485 bus), at least one relay bank socket, and an optional expansion slot. When the expansion panel is connected to the main panel, it engages in a handshake with the main panel processor such that the processor recognizes the expansion panel and the expansion panel<!-- EPO <DP n="3"> --> becomes "slaved" to the main panel processor. A modular relay pack can be inserted into the at least one relay bank socket of the expansion panel. When the programmable modular programmable relay pack is inserted into the relay bank socket it engages in a handshake with the main panel processor such that the processor can control operation thereof. As with smart components connected directly to the main panel, expansion panel smart components, such as the relay bank, are automatically discovered and identified to the user, via the user local terminal of the main panel. The user can assign one or more functions and/or devices to be controlled by the relay pack.</p>
<p id="p0010" num="0010">The controller of the present disclosure could also include a handheld remote control unit in communication with the main panel. The handheld remote control unit can be a wired unit that is connected to the main panel or the expansion panel, or a wireless unit that wirelessly communicates with a wireless communication subsystem of the main panel. Operation and programming of the entire system can be controlled by the handheld remote control unit. Where the handheld remote control unit is wireless, the main control panel can include a radio module for communication with the wireless handheld remote control unit. The radio module may be a radio module or a WiFi (IEEE 802.11) radio module. The handheld remote control unit can be mounted on a wall or built into a spa.</p>
<p id="p0011" num="0011">The control system could also include an I/O expansion module that is connectable to an RS-485 connector of the main panel and in communication with the internal RS-485 bus of the main panel. The I/O expansion module includes a smart component processor, a plurality of actuators, a plurality of relays, and a plurality of sensors. The I/O expansion module expands the actuator, relay, and sensor capabilities of the controller.</p>
<heading id="h0006"><u>BRIEF DESCRIPTION OF THE DRAWINGS</u></heading>
<p id="p0012" num="0012">The foregoing features of the invention will be apparent from the following Detailed Description of the Invention, taken in connection with the accompanying drawings, in which:
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001"><b>FIG. 1</b></figref> is a schematic block diagram of the modular pool/spa control system of the present disclosure;</li>
<li><figref idref="f0002"><b>FIG. 2</b></figref> is a diagram of the modular pool/spa control system of the present disclosure, showing a main control panel, a modular relay pack, an optional expansion panel, and an optional remote control unit in communication with the main control unit;</li>
<li><figref idref="f0003 f0004"><b>FIG. 3</b></figref> is a block diagram showing electrical components of the main control panel of the present disclosure;<!-- EPO <DP n="4"> --></li>
<li><figref idref="f0005 f0006"><b>FIG. 4</b></figref> is a block diagram showing electrical components of the expansion panel of the present disclosure;</li>
<li><figref idref="f0007"><b>FIG. 5</b></figref> is a block diagram showing electrical components of the modular programmable relay pack of the present disclosure;</li>
<li><figref idref="f0008 f0009"><b>FIG. 6</b></figref> is a block diagram showing electrical components of the local terminal of the present disclosure;</li>
<li><figref idref="f0010 f0011"><b>FIG. 7</b></figref> is a block diagram showing electrical components of an optional wired terminal printed circuit board of the present disclosure;</li>
<li><figref idref="f0012 f0013"><b>FIG. 8A</b></figref> is a block diagram showing electrical components of an optional wireless terminal of the present disclosure including a radio module;</li>
<li><figref idref="f0014 f0015"><b>FIG. 8B</b></figref> is a block diagram showing electrical components of an optional wireless terminal of the present disclosure including a WiFi (802.11) radio module;</li>
<li><figref idref="f0016"><b>FIG. 9</b></figref> is a block diagram showing electrical components of an input/output (I/O) expansion module of the present disclosure;</li>
<li><figref idref="f0017"><b>FIG. 10</b></figref> is a block diagram showing electrical components of a chemistry sense module of the present disclosure;</li>
<li><figref idref="f0018"><b>FIG. 11</b></figref> is a block diagram showing electrical components of a radio base station of the present disclosure;</li>
<li><figref idref="f0019"><b>FIG. 12</b></figref> is a flow chart showing steps for installing and programming a programmable modular relay pack of the present disclosure;</li>
<li><figref idref="f0020"><b>FIG. 13</b></figref> is a flowchart showing steps for installing and programming a smart component of the present disclosure;</li>
<li><figref idref="f0021"><b>FIG. 14</b></figref> is a flowchart showing steps for discovering a single relay bank of the present disclosure;</li>
<li><figref idref="f0022"><b>FIG. 15</b></figref> is a flowchart showing steps for discovering a single smart component of the present disclosure;</li>
<li><figref idref="f0023"><b>FIG. 16</b></figref> is a flowchart showing steps for installing and programming an expansion panel of the present disclosure;</li>
<li><figref idref="f0024"><b>FIG. 17A</b></figref> is a graphical user interface (GUI) "home" screen generated by the system for allowing a user to control multiple pool/spa systems;</li>
<li><figref idref="f0025"><b>FIG. 17B</b></figref> is a GUI generated by the system and displaying a feature screen for selecting various smart components associated with the system;</li>
<li><figref idref="f0026"><b>FIG. 17C</b></figref> is a GUI generated by the system displaying a screen for controlling a chemistry dispense sub-system;<!-- EPO <DP n="5"> --></li>
<li><figref idref="f0027"><b>FIG. 18A</b></figref> is a normal notification pop-up message generated by the system;</li>
<li><figref idref="f0027"><b>FIG. 18B</b></figref> is a warning notification pop-up message generated by the system;</li>
<li><figref idref="f0027"><b>FIG. 18C</b></figref> is an alert notification pop-up message generated by the system;</li>
<li><figref idref="f0028"><b>FIG. 19A</b></figref> is a sample pop-up screen generated by the system for changing the time of the system clock;</li>
<li><figref idref="f0028"><b>FIG. 19B</b></figref> is a sample pop-up screen generated by the system for changing the date of the system clock;</li>
<li><figref idref="f0029"><b>FIG. 20A</b></figref> is a sample scheduler pop-up screen generated by the system for altering a device schedule and turning a scheduled event on or off; and</li>
<li><figref idref="f0029"><b>FIG. 20B</b></figref> is a sample scheduler pop-up screen generated by the system for deleting a scheduled event.</li>
</ul></p>
<heading id="h0007"><u>DETAILED DESCRIPTION OF THE INVENTION</u></heading>
<p id="p0013" num="0013">The present disclosure relates to a modular pool/spa control system, as discussed in detail below in connection with <figref idref="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020 f0021 f0022 f0023 f0024 f0025 f0026 f0027 f0028 f0029"><b>FIGS. 1-20B</b></figref><b>.</b></p>
<p id="p0014" num="0014"><figref idref="f0001 f0002"><b>FIGS. 1-2</b></figref> illustrate the control system <b>2</b> of the present disclosure. As shown in <figref idref="f0001"><b>FIG. 1</b></figref><b>,</b> the control system <b>2</b> includes a main control panel <b>4</b> for housing various electrical components of the control system <b>2.</b> The control panel <b>4</b> includes a motherboard <b>6</b> having a main panel (central) processor <b>8.</b> The central processor <b>8</b> is connected with an internal high speed RS-485 bus <b>10</b> and an internal low speed RS-485 bus <b>12</b> of the motherboard <b>6.</b> The high speed RS-485 bus <b>10</b> places the central processor <b>8</b> in two-way communication with an external high speed RS-485 bus connector <b>14,</b> a relay bank connector <b>16,</b> and a local terminal connector <b>18.</b> The low speed RS-485 bus <b>12</b> places the central processor <b>8</b> in two-way communication with an external low speed RS-485 bus connector <b>22,</b> and the local terminal connector <b>18.</b> Various smart devices <b>24</b> could be connected to the external high speed RS-485 bus connector <b>14,</b> for example, a radio frequency base station, an expansion panel motherboard, an expansion panel relay bank, a wall mount control terminal, etc. Further, various smart devices <b>26</b> could be connected to the external low speed RS-485 bus connector <b>22,</b> for example, a chemistry sense module, a first variable speed pump, a slaved salt chlorinator such as Aqua Rite manufactured by Hayward Industries, Inc., a second variable speed pump, etc. The high speed and low speed RS-485 bus connectors <b>14, 22</b> allow smart devices <b>24, 26</b> connected thereto to be in two-way communication with the central processor <b>8.</b> One of ordinary skill in the art shall understand that while reference is made to an RS-485 bus, internal communications could be achieved through the implementation of any known and suitable communications bus, e.g., serial, parallel, etc. To this end, where a different<!-- EPO <DP n="6"> --> communications bus is provided instead of the RS-485 bus, the high speed and low speed RS-485 bus connectors <b>14, 22</b> would be provided as suitable connectors for the respective communication bus that is implemented in the control system <b>2.</b> This holds true for any of the subsequent devices that illustrate the utilization of an RS-485 bus for communications.</p>
<p id="p0015" num="0015">The main panel <b>4</b> further includes a local terminal <b>28</b> that is engageable with the local terminal connector <b>18</b> for allowing a user to interact with and control the control system <b>2.</b> The local terminal <b>28</b> includes a master system processor <b>30</b> that is in two-way communication with the central processor <b>8</b> by way of the local terminal connector <b>18.</b> The local terminal <b>28</b> can include a real time clock, a liquid crystal display (LCD) touchscreen, one or more memory units, one or more Ethernet ports, one or more USB ports, and one or more micro-SDHC ports for receiving one or more non-volatile memory cards (e.g., micro-SDHC memory cards). The LCD of the local terminal <b>28</b> is in two-way electrical communication with the central processor <b>8</b> via the master system processor <b>30.</b> The local terminal <b>28</b> receives data from the central processor <b>8</b> relating to the system configuration, as well as other information (e.g., status information, alerts/alarms, etc.) and could be utilized by a user for programming purposes. Specifically, a user could utilize the local terminal <b>28</b> to assign a desired function to a particular relay of a bank of relay packs <b>32.</b> For example, a user can specify that a particular relay be assigned for controlling a heater, a light, a pump, etc. The local terminal <b>28</b> could be a graphic display panel that could indicate system configuration, status information, and other information in a convenient, easy-to-navigate graphical display.</p>
<p id="p0016" num="0016">The USB ports and the micro-SDHC ports of the local terminal <b>28</b> allow data to be provided to the control system <b>2</b> via an external memory card, and/or from a USB flash memory or "thumb" drive. The USB ports and the micro-SDHC ports can be mounted on the main control panel <b>4</b> so that they are externally accessible. For example, a field technician can insert a USB drive into one of the USB ports or a micro-SDHC card into one of the micro-SDHC ports in order to install updated firmware, additional language packs, pool/spa layouts, programs for controlling one or more devices (such as programs for controlling one or more underwater pool or spa lights), etc. Further, the field technician can have a separate bootloader included on the USB drive or the micro-SDHC card such that he/she can boot an operating system of the control system <b>2</b> from the drive or card. This provides extensive diagnostic uses and allows for memory expansion. Furthermore, this functionality permits data logging of the components, which can be stored on a USB drive, micro-SDHC card, or, alternatively, on an associated website.<!-- EPO <DP n="7"> --></p>
<p id="p0017" num="0017">The main control panel <b>4</b> includes one or more modular programmable relay packs <b>32</b> that each contain a plurality of relays <b>56a-d</b> (e.g., four). The modular programmable relay packs <b>32</b> (e.g., relay banks) are connectable to the relay bank connector <b>16</b> for two-way communication with the central processor <b>8</b> by way of the high speed RS-485 bus <b>10.</b> Each modular relay pack <b>32</b> is connectable to pool/spa equipment and smart components, e.g., heaters, lights, pumps, pH dispense units, which allows the relay packs <b>32</b> to communicate with and control such pool/spa equipment.</p>
<p id="p0018" num="0018">The motherboard <b>6</b> can additionally include a 120 V AC power input <b>34,</b> a chlorinator control subsystem <b>36,</b> a sensor interface <b>38,</b> a standard relay connector <b>40,</b> and auxiliary relay connectors <b>42.</b></p>
<p id="p0019" num="0019">The AC power input <b>34</b> is connected to a 12 V DC power supply <b>44,</b> a 24 V DC power supply <b>46,</b> and a chlorinator power supply <b>48</b> that are in the main panel <b>4.</b> The power supplies <b>44, 46</b> could be switch-mode power supplies, if desired. The AC power input <b>34</b> allows the 12 V DC power supply <b>44,</b> 24 V DC power supply <b>46,</b> and chlorinator power supply <b>48</b> to be connected to an AC power source. When connected to an AC power source, the AC power supplied is converted to DC by the 12 V DC power supply <b>44,</b> the 24 V DC power supply <b>46,</b> and chlorinator power supply <b>48.</b> The 12 V DC power supply <b>44</b> provides 12 V DC power, while the 24 V DC power supply <b>46</b> provides 24 V DC power to the main control system <b>2</b> and the electrical components connected thereto. The 12 V DC power supply <b>44</b> and the 24 V DC power supply <b>46</b> are diagrammatically shown as separate units, however, one of ordinary skill in the art shall understand that 12 V DC power supply <b>44</b> and the 24 V DC power supply <b>46</b> can be provided as a single power supply unit that supplies both 12 V DC and 24 V DC.</p>
<p id="p0020" num="0020">The chlorinator control subsystem <b>36</b> could be in two-way electrical communication with the central processor <b>8</b> and a chlorinator unit <b>50,</b> e.g., turbo cell or "T-Cell," of the pool or spa. This communication allows the control system <b>2</b> to be in operative communication with a chlorinator <b>50</b> such that the control system <b>2</b> could control the chlorinator <b>50</b> (e.g., chlorination times, amounts, etc.), or simply display chlorinator operating parameters and conditions on the local terminal <b>28.</b> In some embodiments, the chlorinator subsystem <b>26</b> can be positioned on the motherboard <b>6.</b> In other embodiments, the chlorinator subsystem <b>26</b> can be provided on an expansion card that is connectable to the control system <b>2.</b></p>
<p id="p0021" num="0021">The sensor interface <b>38</b> allows for the integration of a plurality of sensors with the control system <b>2.</b> The various sensors are in electrical communication with the sensor interface <b>38</b> and provide the sensor interface <b>38</b> with information relating to the operating parameters of the pool or spa. The sensor interface <b>38</b> transmits this data to the central<!-- EPO <DP n="8"> --> processor <b>8,</b> which can utilize the data for various calculations, for control purpose, or for display via the local terminal <b>28.</b> The sensors could be connected to the pool or spa itself or to the various pool or spa equipment and sense, among other things, temperatures (ambient, water, heater, etc.), flow rates, current and/or voltages of the various equipment, chlorination levels, etc. The sensor interface <b>38</b> could include a 12-wire, 10-wire, or 2-wire sensor connector such that sensors of varying capabilities and purposes can be connected to the system and utilized. The sensor interface <b>38</b> could also provide sensor conditioning, amplification, error correction, etc., so that signals received from the various sensors are in a suitable condition for processing by the central processor <b>8.</b> The signals received by the sensor interface <b>38</b> can be converted from analog to digital by the sensor interface <b>38,</b> and vice-versa, or, alternatively, can be converted by the central processor <b>8.</b></p>
<p id="p0022" num="0022">The standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> can be connected with a plurality of relays that can be fixed-function relays or user-assignable relays. The standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> can be either high voltage or low voltage depending upon the types of pool/spa devices to be controlled by the relays. For example, the standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> could include two fixed-function, dry contact relays that can be assigned to switch a first heater and a second heater, respectively, and two user-assignable relays. The number of relays included in the standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> is not limited to four as illustrated, and could be any desired number of relays.</p>
<p id="p0023" num="0023">The standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> can have multiple control methods available, which are dependent on the configuration, including manual on/off, time clock (where the user has the ability to set an on/off time in a menu so that the relay can automatically turn on/off), countdown timer, and automatic control. Further, high voltage relays can be controlled in one or more of the following ways: in a group, as the low-speed output of a 2-speed pump, as a filter pump on a separate body of water, as a boost pump, as a light controller, as a pH dispense control, and/or as a general output. When the standard relay connector <b>40</b> and the auxiliary relay connectors <b>42</b> are used as a light controller, a menu can be displayed on the local terminal <b>28</b> which allows a user to directly activate a specific color for the light. Additionally, low voltage relays can be used for any purpose including, but not restricted to, heater control. The low voltage relays can be controlled from a group, as a dumb heater control, or as a general low voltage output.</p>
<p id="p0024" num="0024">As mentioned previously, the external high speed and low speed RS-485 bus connectors <b>14, 22</b> allow for various devices to be connected thereto. Some sample devices<!-- EPO <DP n="9"> --> include communication subsystems, which may be a wired communication subsystem and/or a wireless communication subsystem that allow for communication with various remote control devices. This permits the remote control devices to be integrated with the control system <b>2.</b> The wired communication subsystem could include Ethernet communications, serial (e.g., RS-485) communications, or other suitable communications types/protocols so that a remote control device can be connected to the main panel <b>4.</b> Alternatively, the wired communication subsystem can be connected to the local terminal <b>28.</b> For example, the wired communication subsystem could be connected to the Ethernet port on the local terminal <b>28.</b> When connected, the wired communication subsystem is in two-way communication with the central processor <b>8</b> and transfers data from a connected remote control device to the central processor <b>8</b> and from the central processor <b>8</b> to the remote control device. For example, this permits a home Ethernet network to be connected to and integrated with the control unit <b>8</b> such that a wired remote control, located in a house for example, can be connected to the Ethernet network and in communication with the control unit <b>8.</b> The wireless communication subsystem provides a wireless communication link between the control unit <b>8</b> and a wireless (e.g., handheld) remote control unit <b>58.</b> The wireless communication link could includes WiFi, Bluetooth, or any other suitable communication means. The wireless remote control unit <b>58</b> could include a rechargeable battery, can be ruggedized and waterproof so that it can be used near a pool or spa, and could include an ultraviolet light (UV) resistant plastic enclosure. Importantly, the wired and wireless remote control unit <b>58</b> duplicates the functionality provided by the local terminal <b>28.</b> The wired remote control unit could be an indoor unit that can be mounted to an interior wall of a house, or an outdoor version that can be mounted in or near a pool/spa.</p>
<p id="p0025" num="0025">Further, the wireless communication subsystem could also communicate with a network <b>60,</b> which could be a wireless network, wireless cellular network (e.g., 3G or 4G), or the Internet. This permits the control system <b>2</b> to integrate with and be controlled by a wireless device <b>61,</b> e.g., an iPhone, IPod Touch, iPad, Blackberry device, Android smart phone, Android tablet, etc., over the network <b>60.</b> In such circumstances, a graphical user interface (GUI) and control program can be created generally for the control unit <b>58</b> and installed on the wireless device <b>61.</b> All of the functionality available at the local terminal <b>28</b> is replicated at the user interface and by the control program of the wireless device <b>61.</b> The user interface and control program can be an application that can be downloadable by the wireless device <b>61,</b> and can be licensed on a subscription basis. One sample application can be a "mood" sensing application that allows a wireless device <b>61</b> with a gyroscope, accelerometer,<!-- EPO <DP n="10"> --> heat sensor, camera, and/or microphone to determine various conditions of a user or an environment, and transmit control commands based on these determinations to the control system <b>2.</b> For example, the application can sense body temperature, ambient temperature, movement of the device, sounds, etc., and control one or more components connected to the control system <b>2,</b> such as by changing the color of one or more underwater pool lights in response to the conditions sensed by the wireless device <b>61.</b> Further, such application could be provided as a personal computer (PC) version whereby a user can download the application to their PC and utilize his/her PC to control the control system <b>2</b> via their home network, e.g., Ethernet or the Internet. Even further, the wireless device <b>61</b> could include WiFi or Bluetooth capabilities itself and integrate with the control system <b>2</b> via such protocol.</p>
<p id="p0026" num="0026">The GUI at the control unit <b>58</b> could be replicated at each device connected to the control system <b>2,</b> to control the control system <b>2</b> using a common interface. For example, there can be a local terminal <b>28,</b> a handheld remote control unit <b>58</b> (wireless or wired), a wireless device <b>61</b> (smart phone/table), a manufacturer website accessible by the Internet, or a locally-served web page accessible by a computer. The locally served web page could make the GUI available as web pages that can be viewed by any deice with a web browser that is communicating on the home network, e.g., via the IP address of the local server. In a system where multiple devices are configured to access the control program, the central processor <b>8</b> could maintain the configuration and the settings. The control system <b>2</b> can include functionality for foreign language support and display on the GUI. The foreign language support can come in the form of downloadable language packs. The control program, including the GUI, can have different defined levels of access. For example, the control program can have four separate levels designated as limited control access, full control access, settings access, and configuration access (administration mode). The limited control access definition can provide the minimal access needed for operation, and can be most suitable when a guest or renter is utilizing the system. For example, a control access definition can allow a user to turn a device on or off, but cannot allow the changing of set points, timers, or the creation/modification of set programing, etc. As another example, the settings access definition can provide the user with full control access plus the ability to change set points, timers, and programs. The configuration access definition can be an administration mode that provides full control and settings access as well as the ability to set up or change basic pool configuration information. The administration mode can be only for use by experienced pool owners or field technicians. Each of these modes/definitions can be password protected.<!-- EPO <DP n="11"> --></p>
<p id="p0027" num="0027">Further, the main panel <b>4</b> could include a plurality of "knockouts" in walls thereof, which can provide access to difference compartments of the main panel <b>4.</b> For example, the main panel <b>4</b> can include knockouts on the back, bottom, or sides that provide access to a high voltage compartment or low voltage compartment, and can allow for the implementation of a ground fault circuit interrupter (GFCI). Additionally, the main panel <b>4</b> could include load center <b>53</b> or a 125 amp sub-panel base that can be compatible with various circuit breaker manufacturers.</p>
<p id="p0028" num="0028">The control system <b>2</b> could further include an expansion panel <b>54</b> connectable to the main control panel <b>4</b> and "slaved" thereto. The expansion panel <b>54</b> is discussed in greater detail below in connection with <figref idref="f0005 f0006"><b>FIG. 4</b></figref><b>.</b> Generally, the expansion panel <b>54</b> can be connected to the external high speed RS-485 bus connector <b>14</b> of the main control panel motherboard <b>6.</b> The modular relay packs <b>32</b> are connectable to the expansion panel <b>54</b> for two-way communication with the expansion panel <b>54,</b> and thus with the central processor <b>8.</b> The modular relay packs <b>32</b> are connectable to both the main control panel <b>4</b> and the expansion panel <b>54.</b> As such, the expansion panel <b>54</b> functions to "daisy chain" additional modular relay packs <b>32</b> to the main control panel <b>4.</b> Further, the expansion panel <b>54</b> can include an additional expansion port to allow an expansion panel to be connected thereto. This functionality permits the number of modular relay packs that can be connected to the system to be expanded, allowing additional equipment to be controlled by the main control panel <b>4.</b></p>
<p id="p0029" num="0029">As shown in <figref idref="f0002"><b>FIG. 2</b></figref><b>,</b> the expansion panel <b>54</b> is external to the main control panel <b>4</b> and connected thereto by the data and power connection. A plurality of the relay packs <b>32</b> can be installed in the main panel <b>4</b> and the expansion panel <b>54,</b> in any desired number/combination. The modular relay packs <b>32</b> each include a housing <b>55</b> and a plurality of relays <b>56a-56d.</b> Each relay <b>56a-56d</b> is a general-purpose relay that can be assigned a desired function by the user via the local terminal <b>28.</b> By way of example, the first relay <b>56a</b> can be assigned for controlling a pool heater, the second relay <b>56b</b> can be assigned for controlling a light, the third relay <b>56c</b> can be assigned for controlling a circulation pump, and the fourth relay <b>56d</b> can be assigned for controlling a fountain pump. Of course, these functions can be altered as desired. A user can thus control the pool heater, the light, the circulation pump and the fountain pump via the local terminal <b>28</b> or, alternatively, by the hand-held remote control unit <b>58</b> or a wireless device <b>61</b> if such is in communication with the wireless communication subsystem. Further, a single device can be connected to two relays where necessary, e.g., a two-speed pump. As can be appreciated, the relay packs <b>32</b> allow for a user-friendly, "plug-and-play" installation and configuration.<!-- EPO <DP n="12"> --></p>
<p id="p0030" num="0030"><figref idref="f0003 f0004"><b>FIG. 3</b></figref> is a block diagram showing the electronic components of the main control panel <b>4.</b> The main control panel <b>4</b> includes a main panel motherboard <b>6</b> that holds various components of the main control panel <b>4</b> and provides interconnectivity therebetween. The main panel motherboard <b>6</b> can be a printed circuit board that can be conformal coated to prevent corrosion/damage from long term exposure to dampness. The main panel <b>4</b> includes a 12 VDC power supply assembly <b>44</b> and a 24 VDC power supply assembly <b>46.</b> Connected to the main panel motherboard <b>6</b> is an AC input connector <b>34</b> that receives power from an AC power source, e.g., a standard outlet of a household. The AC input connector <b>34</b> sends the received power through a noise filter <b>80</b> (e.g., manufactured by Echelon, Inc.), which filters the power and removes any unwanted noise, and to a transformer connector <b>82</b> and a power supply input connector <b>86.</b> The power supply input connector <b>86</b> allows connection of the main panel motherboard <b>6</b> with the 12 VDC power supply <b>62</b> and the 24 VDC power supply <b>64</b> via their respective AC connectors <b>68, 72.</b> Each AC connector <b>68, 72</b> provides the respective power supply (e.g., 12 VDC power supply <b>62</b> and 24 VDC power supply <b>64</b>) with 120VAC power, which in turn converts same into 12 VDC and 24 VDC, respectively. The 12 VDC and 24 VDC output of the power supplies <b>62, 64</b> are connected to a respective power supply connector <b>66, 70</b> that are each connected to the power supply output connector <b>88</b> of the main panel motherboard <b>6.</b> The power supply output connector <b>88</b> distributes power to various components of the main panel mother board <b>6.</b> As mentioned previously, the AC input connector <b>34</b> provides AC power to the transformer connector <b>82</b> for connection with a chlorination transformer <b>74</b> that transforms the 120 VAC power to 24 VAC. The 24 VAC is returned by the chlorination transformer <b>74</b> to the transformer connector <b>82</b> for distribution among various components of the main panel motherboard <b>6.</b></p>
<p id="p0031" num="0031">The main panel motherboard <b>6</b> includes an expansion slot <b>20</b> that receives 12 VDC power and 24 VDC power from the power supply output connector <b>88</b> and is in two-way communication with the internal bus <b>10</b> for communication with the central processor <b>8.</b> The expansion slot <b>20</b> is also in communication with the transformer connection <b>82</b> and a bridge connector <b>84,</b> which will be discussed in greater detail below. The expansion slot <b>20</b> includes a data connection and a power connection that allow the expansion slot <b>20</b> to provide a connected expansion panel <b>54</b> with power and transfer data therebetween. Specifically, the expansion slot <b>20</b> permits an expansion panel <b>54</b> to be connected to the main panel motherboard <b>6,</b> such that the expansion panel <b>54</b> is "slaved" to the main panel motherboard <b>6</b> when connected. Additionally, the expansion panel <b>54</b> is in two-way communication with the main panel motherboard <b>6,</b> e.g., receiving and sending data via the data connection <b>44.</b> The<!-- EPO <DP n="13"> --> expansion slot <b>20</b> additionally receives 24 VAC power from the transformer connector <b>82</b> so that an expansion panel <b>54</b> connected thereto has the capability of allowing a chlorinator unit to be connected to it. More specifically, the expansion slot <b>20</b> can provide the required power to a chlorinator unit attached to an expansion panel <b>54.</b> <figref idref="f0003 f0004"><b>FIG. 3</b></figref> illustrates only one expansion slot <b>20</b> on the main panel motherboard <b>6,</b> however, it should be understood that the main panel motherboard <b>6</b> can hold a plurality of expansion slots so that more than one expansion panel <b>54</b> can be connected to the main panel motherboard <b>6.</b> Furthermore, it is not necessary for an expansion panel <b>54</b> to be connected to the expansion slot <b>20,</b> but instead, a second main control panel <b>4</b> can be connected to the expansion slot <b>20</b> such that a plurality of main control panels can be daisy chained together.</p>
<p id="p0032" num="0032">The main panel motherboard <b>6</b> further includes a relay bank socket <b>16</b> that allows connection of one or more of the modular programmable relay packs <b>32</b> with the main control motherboard <b>6.</b> The relay bank socket <b>16</b> receives 12 VDC power and 24 VDC power from the power supply output connector <b>88</b> and is in two-way communication with the internal bus <b>10</b> for communication with the central processor <b>8.</b> <figref idref="f0003 f0004"><b>FIG. 3</b></figref> illustrates only one relay bank socket <b>16</b> on the main panel motherboard <b>6,</b> however, it should be understood that the main panel motherboard <b>6</b> can hold a plurality of relay bank sockets. Each additional relay bank socket can function identically to the relay bank socket <b>16</b> shown. When a modular programmable relay pack is connected to the relay bank socket <b>16,</b> the relay pack engages in a handshake with the central processor <b>8</b> so that the central processor <b>8</b> recognizes that a relay pack has been connected to the system and can be programmed by the central processor <b>8.</b></p>
<p id="p0033" num="0033">The power supply output connector <b>88</b> additionally provides 12 VDC power to a 12 VDC power supply light-emitting diode (LED) <b>94,</b> a logic supply <b>96,</b> a first external RS-485 bus <b>14,</b> a daughterboard connector <b>100,</b> and a second external RS-485 bus <b>102.</b> Additionally, the power supply output connector <b>88</b> provides 24 VDC power to a 24 VDC power supply LED <b>104,</b> a first relay driver <b>106,</b> and a second driver <b>108.</b> The 12 VDC and 24 VDC power supply LED <b>94, 104</b> illuminate when power is being provided by the 12 VDC power supply <b>62</b> and/or the 24 VDC power supply <b>64,</b> respectively. This provides a user with notification that the main panel motherboard <b>6</b> is receiving power. The other components will be discussed in greater detail below.</p>
<p id="p0034" num="0034">The first and second single relay connection <b>110, 112</b> and a quad relay connection <b>114</b> are included on the main panel motherboard <b>6</b> for switching multiple connected devices, e.g., motors. The quad relay connection <b>114</b> allows for four separate devices to be switched simultaneously when connected to the quad relay connection <b>114.</b> The first and second single<!-- EPO <DP n="14"> --> relay connections <b>110, 112</b> and the quad relay connection are connected to the first relay driver <b>106</b> for receiving power therefrom for switching operations. The first relay driver <b>106</b> receives 3.3 VDC from the logic supply <b>96</b> for power. The first and second single relay connection <b>110, 112</b> are also in direct communication with the central processor <b>8</b> for providing information thereto. The first and second single relay connections <b>110, 112</b> and the quad relay connection <b>114</b> can support various devices, such as a dimmer relay. Additionally, one of the first and second single relay connections <b>110, 112</b> can be a fixed-function, high-voltage relay for a filter, while the other relay can be free for use in controlling another device.</p>
<p id="p0035" num="0035">The first external RS-485 bus <b>14</b> includes a plurality of RS-485 connectors and an RS-485 terminal block, and is in communication with the internal high-speed RS-485 bus. The first external RS-485 bus <b>14</b> allows various components, including intelligent/smart devices, to be connected thereto and in two-way communication with the central processor <b>8.</b> Possible devices for connection include, but are not limited to, heaters, underwater lights, chlorination equipment, a modem, a home automation base station, a wired terminal, chemistry sensing equipment, etc. Further, the first external RS-485 bus <b>14</b> receives 12 VDC power via the power supply output connector <b>88.</b></p>
<p id="p0036" num="0036">An actuator interface <b>116,</b> which includes a plurality of actuator connectors and actuator relays, is included on the main panel motherboard <b>6,</b> and is controlled by the second relay driver <b>108.</b> The actuator relays of the actuator interface <b>116</b> receive 24 VAC power from the transformer connector <b>82</b> (which receives 24 VAC power from the chlorination transformer <b>74</b>). The actuator interface <b>116</b> permits various types of actuators to be connected to each actuator connector and controlled by the system. For example, the actuator could be a valve actuator. Also connected to the second relay driver <b>108</b> are low power relays <b>40,</b> each relay including an associated low power relay connector. The low power relays <b>40</b> permit various low power devices to be connected to the system, such that the hardwire relay <b>40</b> switches operation of the connected device.</p>
<p id="p0037" num="0037">The individual actuator relays of the actuator interface <b>116</b> have no restriction on what device (e.g., valve actuators) can be connected to what actuator relay, and can have multiple control methods available. These control methods are dependent on the configuration and include manual on/off, time clock (where the user has the ability to set an on/off time in a menu so that the relay can automatically turn on/off), countdown timer, and automatic control. Further, the individual actuator relays could be controlled in the following ways: from a group, as part of a pool/spa control for a single equipment system, in response to a spillover<!-- EPO <DP n="15"> --> control program, as part of a pool/spa cleaner control program, in response to a water feature control program, in response to a solar heating control program, in response to a pH dispense control program, or otherwise.</p>
<p id="p0038" num="0038">As mentioned above, the main panel motherboard <b>6</b> includes a daughterboard connector <b>100.</b> The daughterboard connector <b>100</b> is connected to the internal bus <b>10</b> for communicating with the central processor <b>8.</b> The daughterboard connector <b>100</b> allows an additional circuit board to be connected to the main panel motherboard <b>6,</b> permitting further expansion of the system functionality.</p>
<p id="p0039" num="0039">The sensor interface <b>38</b> includes a plurality of sensor connectors, which can be any number of wires, and receives input signals from a plurality of sensors connected thereto. Associated sensor conditioning circuitry could also be provided. The various sensor connectors permit various sensors of different capabilities to be connected to the system. The sensor connectors receive input from the wires <b>117</b> which are in electrical connection with and transmit data from associated sensors. The sensors can provide information and data pertaining to various operating parameters of the pool or spa. The sensor interface <b>38</b> transmits this data to the central processor <b>8,</b> which can utilize the data for various purposes, e.g., to control devices and/or display information on the local terminal <b>28.</b> The sensors can be resistance temperature sensors/external interlocks that can be connected to the pool or spa itself, or to the various pool or spa equipment, and can sense, among other parameters, temperatures (e.g., ambient air, pool water, spa water, solar panel, heater, etc.), flow rates, pressure, current and/or voltages of various equipment, chlorination levels, etc. The sensor conditioning units provide sensor conditioning, e.g., amplification and/or error correction, prior to sending the sensor input to a multichannel analog-to-digital converter <b>119</b> of the central processor <b>8.</b> This ensures that the data and information provided by the various sensors is in proper condition for the central processor <b>8.</b> The signal received by the sensor interface <b>38</b> can be converted from analog to digital by the sensor interface <b>38,</b> or, alternatively, can be converted by the central processor <b>8.</b> Additionally, a printed circuit board temperature sensor <b>118</b> (and associated sensor conditioning) could be included on the main panel motherboard <b>6</b> to measure the temperature of the main panel motherboard <b>6</b> and/or other components. This value can be used in various operations of the system including safety procedures and precautions. For example, if it is determined that the main panel motherboard <b>6</b> is operating at a temperature that is greater than or less than a threshold value, e.g., the main panel motherboard <b>6</b> is at a dangerously high or low temperature, the system can perform an automatic shut down or notify a user of the condition.<!-- EPO <DP n="16"> --></p>
<p id="p0040" num="0040">As mentioned previously, the main panel motherboard <b>6</b> includes a second external RS-485 bus <b>102</b> that includes a plurality of RS-485 connectors and RS-485 terminal blocks. The RS-485 bus <b>102</b> receives 12 VDC power from power supply output connector <b>88,</b> and is in two-way communication with the daughterboard connector <b>100.</b> The second external RS-485 bus <b>102</b> functions as an external RS-485 bus allowing various components, including intelligent/smart devices, to be connected thereto. Possible devices for connection include, but are not limited to, heaters, underwater lights, chlorination equipment, a modem, a home automation base station, a wired terminal, chemistry sensing equipment, etc.</p>
<p id="p0041" num="0041">The first external RS-485 bus <b>14</b> and the second external RS-485 bus <b>102</b> allow various devices to be connected to the control system <b>2</b> during or after installation, to add additional capabilities to the control system <b>2.</b> These devices can be mounted externally to the main control panel <b>4</b> in their own weatherproof enclosure, or in some instances, internally with the main control panel <b>4.</b> These devices can include an underwater pool/spa lighting control module (which permits control of underwater pool/spa lights using dedicated, low-voltage control wiring interconnected with the underwater pool/spa lights, or through power line carrier (PLC) control wherein controls are transmitted to the pool/spa lights over high or low voltage power lines which supply power to the lights), a wireless ("WiFi") radio module <b>26,</b> a Z-wave radio module, or another type of wired or wireless transmitter and/or receiver. Each of the radio modules could be manufactured to conform with required government radio frequency (RF) standards. The WiFi radio module <b>26</b> can connect to the Ethernet port of the main panel motherboard <b>6,</b> thus creating an Ethernet to WiFi bridge. The main panel motherboard <b>6,</b> and all associated devices/expansion boards, can communicate with a home network through a wired Ethernet connection via the Ethernet port, or wirelessly using the WiFi radio module <b>26.</b> Additionally, the WiFi radio <b>26</b> allows the wireless remote control unit <b>58</b> or a wireless device <b>61</b> to communicate with the main panel motherboard <b>6</b> at ranges of 250 feet or more. The WiFi radio <b>26</b> can be mounted in a radome housing that is capable of withstanding a NEMA 3R rain test and mounted externally to the main control panel <b>4.</b> Alternatively, the WiFi radio module <b>26</b> can be mounted inside the main control panel <b>4</b> with only the antenna mounted externally.</p>
<p id="p0042" num="0042">The radio module can be a Z-wave radio module that allows the control system <b>2</b> to control various third party devices that are separate from the main control panel <b>4</b> and support the Z-wave standard. For example, the control system <b>2</b> can be capable of controlling locks, light switches, and outlets via the Z-wave radio module. The Z-wave radio module can be mounted in a radome housing external to the main control panel <b>4</b> and connected to either the<!-- EPO <DP n="17"> --> first external RS-485 bus <b>14</b> or the second external RS-485 bus <b>102.</b> The control system <b>2</b> can be capable of configuring the devices connected by way of the Z-wave radio module, such that the control system <b>2</b> discovers the devices, automatically assigns the devices to groups, allows a user to define groups of devices, and allows a user to define virtual circuits involving the devices.</p>
<p id="p0043" num="0043">Alternative to the Z-wave radio functionality, when the main control panel <b>4</b> is connected to a home network, the devices connected to the main control panel <b>4</b> can be controlled via an already existing home automation system.</p>
<p id="p0044" num="0044">Included on the main panel motherboard <b>6</b> is an RS-485 transceiver <b>120</b> that receives signals from the internal RS-485 bus <b>10,</b> which is connected to the expansion slot <b>20,</b> the relay bank socket <b>16,</b> the first external RS-485 bus <b>14,</b> and the daughterboard connector <b>100.</b> The RS-485 transceiver <b>120</b> functions to interpret and process the signals received thereby for transmission to the central processor <b>8.</b> The RS-485 transceiver is in two-way electrical communication with a first serial port <b>126</b> of the central processor <b>8</b> and receives 3.3 VDC from the logic supply <b>96.</b> The main panel motherboard <b>6</b> also includes an isolated RS-485 transceiver <b>122</b> that receives a signal received by a chlorinator (T-Cell) connector <b>140,</b> discussed in greater detail below, and interprets and processes the received signal for transmitting to the central processor <b>8.</b> The isolated RS-485 transceiver <b>122</b> is in two-way electrical communication with a second serial port <b>128</b> of the central processor <b>8</b> and receives 3.3 VDC from the logic supply <b>96.</b></p>
<p id="p0045" num="0045">Turning now to the chlorination subsystem included in the main control panel 4, the chlorination subsystem includes the chlorination transformer <b>74,</b> the transformer connector <b>82,</b> chlorination bridge rectifiers <b>76,</b> the bridge rectifier connector <b>84,</b> a power supply filter <b>130,</b> a chlorinator logic <b>132,</b> polarity relays <b>134,</b> a T-Cell interface <b>136,</b> a T-Cell connector <b>140,</b> an isolated RS-485 transceiver <b>122,</b> a sensor conditioning unit <b>142,</b> a third relay driver <b>124,</b> an A/D converter <b>144,</b> an isolated logic supply <b>146,</b> an isolation component <b>148,</b> and a serial peripheral interface <b>150.</b> The chlorination transformer <b>74</b> is connected to the transformer connector <b>82</b> of the main panel motherboard <b>6.</b> The chlorination transformer 74 receives 120 VAC from an AC power source via the AC input connector <b>34</b> and the transformer connector <b>82,</b> and transforms the 120 VAC into 24 VAC, which is output back to the transformer connector <b>82.</b> The transformer connector <b>82</b> provides 24 VAC to the bridge rectifier connector <b>84.</b> The chlorination bridge rectifiers <b>76</b> are connected to the bridge rectifier connector <b>84</b> of the main panel motherboard <b>6.</b> The chlorination bridge rectifier <b>76</b> receive 24 VAC from the bridge rectifier connector <b>84</b> and convert it into 24 VDC, which is<!-- EPO <DP n="18"> --> output back to the bridge rectifier connector <b>84.</b> The 24 VDC is provided to the power supply filter <b>130</b> which filters the power to reduce noise and transmits the filtered 24 VDC power to the isolated logic supply <b>146</b> and the chlorinator logic <b>132.</b> The chlorinator logic <b>132</b> provides a logic output to the polarity relays <b>134,</b> which switch the polarity of an associated chlorinator cell. The polarity relays <b>134</b> are connected to a third relay driver <b>124</b> for receiving power therefrom. The third relay driver <b>124</b> receives 3.3 VDC power from the logic supply <b>96.</b> The polarity relays <b>134</b> provide switching signals to the T-Cell interface <b>136</b> which communicates with a chlorinator cell connected to the T-Cell connector <b>140.</b> The T-Cell connector <b>140</b> is in two-way communication with the isolated RS-485 transceiver <b>122</b> over a T-Cell communication channel, for providing the central processor <b>8</b> with data regarding a connected chlorinator cell. The T-Cell connector <b>140</b> is also connected to a sensor conditioning unit <b>142</b> which provides sensor conditioning, e.g., amplification and error correction, of the data supplied by any sensors of a connected chlorinator cell. The sensor conditioning unit <b>142</b> provides data to an analog to digital (A/D) converter <b>144</b> that receives low voltage power from the isolated logic supply <b>146</b> and converts any input sensor signals from analog to digital. The A/D converter <b>144</b> provides the converted signal to an isolation unit <b>148,</b> which isolates the signal and provides the signal to the serial peripheral interface <b>150</b> of the central processor <b>8</b> and the electrically erasable programmable read only memory (EEPROM) <b>152.</b> The chlorinator attached to the T-Cell connector <b>140</b> can include a heat sink at the power supply that can be monitored by the central processor <b>8,</b> which can shut down the chlorinator if an overheat situation has occurred or is imminent.</p>
<p id="p0046" num="0046">The central processor <b>8</b> could also include an internal non-volatile parameter memory <b>154,</b> internal random-access memory (RAM) <b>156</b> and internal flash memory <b>158.</b> This permits the system to retain settings in the event of a loss of power.</p>
<p id="p0047" num="0047"><figref idref="f0005 f0006"><b>FIG. 4</b></figref> is a block diagram illustrating an expansion panel <b>54</b> of the present disclosure. As mentioned above, the expansion panel <b>54</b> is connectable to the main control panel <b>4.</b> The expansion panel <b>54</b> includes an expansion panel motherboard <b>160</b> including various components of the expansion panel <b>54.</b> The expansion panel motherboard <b>160</b> can be a printed circuit board that can be conformal coated to prevent corrosion/damage from long term exposure to dampness. The expansion panel motherboard <b>160</b> includes an expansion panel processor <b>161.</b> The expansion panel <b>54</b> includes 12 VDC power supply assembly <b>162</b> and a 24 VDC power supply assembly <b>163.</b> Additionally, the expansion panel <b>26</b> could include additional 125 amp circuit breakers in addition to those of the main control unit <b>2.</b> Connected to the expansion panel motherboard <b>160</b> is an AC input connector <b>178</b> that<!-- EPO <DP n="19"> --> receives power from an AC power source. Alternatively, the expansion panel motherboard <b>160</b> can receive power from the main panel motherboard <b>60.</b> The AC input connector <b>178</b> sends the received power through an Echelon noise filter <b>180,</b> which filters the power and removes any unwanted noise, and to a transformer connector <b>182</b> and a power supply input connector <b>184.</b> The power supply input connector <b>184</b> allows a 12 VDC power supply <b>164</b> and a 24 VDC power supply <b>166</b> to be connected to the expansion panel motherboard <b>160</b> via their respective AC connectors <b>170, 174.</b> Each AC connector <b>170, 174</b> provides the respective power supply (e.g., 12 VDC power supply <b>164</b> and 24 VDC power supply <b>166</b>) with 120 VAC power, which is converted by the power supply <b>164, 166</b> into 12 VDC or 24 VDC, respectively. The 12 VDC and 24 VDC outputs of the power supplies <b>164, 166</b> are connected to respective power supply connectors <b>168, 172,</b> which, in-turn, are each connected to the power supply output connector <b>186</b> of the expansion panel mother board <b>160.</b> The power supply output connector <b>186</b> functions to distribute power to various components of the expansion panel motherboard <b>160.</b> The AC input connector <b>178</b> further provides AC power to the transformer connector <b>182</b> for connection with a chlorination transformer <b>176</b> that transforms the 120 VAC power to 24 VAC. The 24 VAC is returned by the chlorination transformer <b>176</b> to the transformer connector <b>182</b> for distribution among various components of the expansion panel motherboard <b>160.</b> The 12 V DC power supply <b>164</b> and the 24 V DC power supply <b>1666</b> are diagrammatically shown as separate units, however, one of ordinary skill in the art shall understand that 12 V DC power supply <b>164</b> and the 24 V DC power supply <b>1666</b> can be provided as a single power supply unit that supplies both 12 V DC and 24 VDC.</p>
<p id="p0048" num="0048">The expansion panel motherboard <b>160</b> includes a plurality of expansion slots <b>188a-188n;</b> four are illustrated for description purposes. The plurality of expansion slots <b>188a-188n</b> receive 12 VDC power and 24 VDC power from the power supply output connector <b>186,</b> and are in two-way communication with the expansion panel internal bus <b>189</b> (e.g., an RS-485 high speed bus) for communication with the expansion panel processor <b>161.</b> The plurality of expansion slots <b>188a-188n</b> are also in communication with the transformer connector <b>182</b> for allowing a chlorinator unit to be connected to any one of the expansion slots <b>188a-188n.</b> Each expansion slot <b>188a-188n</b> includes a respective connection <b>190a-190n</b> with each connection <b>190a-190n</b> including a data connection for communication with the internal bus <b>189</b> and a power connection for providing power to the device connected to the expansion slot <b>188a-188n.</b> Specifically, the plurality of expansion slots <b>188a-188n</b> permit an additional expansion panel to be connected at each expansion slot <b>188a-188n,</b> such that a plurality of expansion<!-- EPO <DP n="20"> --> panels can be daisy chained together and in communication with the main panel motherboard <b>6.</b> When an expansion panel is connected to one of the plurality of expansion slots <b>188a-188n,</b> it is slaved to the main panel motherboard <b>6.</b> Additionally, such an expansion panel is in two-way communication with the main panel motherboard <b>6,</b> e.g., receiving and sending data via the connection <b>190a-190n.</b> The capability of daisy chaining several expansion panels together provides greater diversity and functionality, as more accessories can be added as needed.</p>
<p id="p0049" num="0049">The expansion panel mother board <b>160</b> further includes a primary relay bank socket <b>194</b> and a secondary relay bank socket <b>192</b> that each can receive one or more programmable relay packs <b>32.</b> The primary relay bank socket <b>194</b> and secondary relay bank socket <b>192</b> receive 12 VDC power and 24 VDC power from the power supply output connector <b>186</b> and are in two-way communication with the internal bus <b>189</b> for communication with the expansion panel processor <b>161.</b> <figref idref="f0005 f0006"><b>FIG. 4</b></figref> illustrates only two relay bank sockets <b>192, 194</b> on the expansion panel motherboard <b>160,</b> however, it should be understood that the expansion panel motherboard <b>160</b> can include a plurality of relay bank sockets so that any desired number of modular programmable relay packs <b>32</b> can be connected to the expansion panel motherboard <b>160.</b> When a modular programmable relay pack <b>32</b> is connected to the relay bank socket <b>192, 194,</b> the relay pack <b>32</b> engages in a handshake with the expansion panel processor <b>161</b> so that the expansion panel processor <b>161</b> recognizes that a relay pack <b>32</b> has been connected to the system. This information is also communicated to the central processor <b>8</b> so that the relay pack <b>32</b> can be automatically programmed by the central processor <b>8.</b></p>
<p id="p0050" num="0050">The power supply output connector <b>186</b> additionally provides 12 VDC power to a high-speed bus current limiter <b>200,</b> a low-speed bus current limiter <b>202,</b> 12 VDC power supply LED <b>204,</b> a logic supply <b>206,</b> and a 12 VDC sensor <b>208.</b> Further, the power supply output connector <b>186</b> also provides 24 VDC power to a relay driver <b>210,</b> a 24 VDC power supply LED <b>212,</b> and a 24 VDC sensor <b>214.</b> The 12 VDC and the 24 VDC power supply LEDs <b>204, 212</b> illuminate when power is being provided by the 12 VDC power supply <b>164</b> and/or the 24 VDC power supply <b>166,</b> respectively. The 12 VDC and the 24 VDC sensors <b>208, 214</b> sense, respectively, the presence of 12 VDC or 24 VDC power being provided by the 12 VDC power supply <b>164</b> and the 24 VDC power supply <b>166.</b> Further, the 12 VDC and the 24 VDC sensors <b>208, 214</b> sense the presence of power and send a signal to an analog-to-digital converter <b>240</b> of the expansion panel processor <b>161</b> for monitoring and calculation purposes. The other components in communication with the power supply output connector <b>186,</b> e.g., the high speed bus current limiter <b>200,</b> the low speed bus current limiter <b>202,</b> and the logic supply <b>206,</b> will be discussed in greater detail below.<!-- EPO <DP n="21"> --></p>
<p id="p0051" num="0051">First and second single relay connections <b>216a, 216b</b> are provided on the expansion panel motherboard <b>160</b> for switching a connected device, e.g., a pump. The first and second single relay connections <b>110, 112</b> are connected to the relay driver <b>210</b> for receiving power therefrom or for switching operations. The first and second single relay connections <b>216a, 216b</b> are also in direct communication with the expansion panel processor <b>161</b> for providing information thereto.</p>
<p id="p0052" num="0052">A high-speed RS-485 connection <b>218</b> and a low-speed RS-485 connection <b>220</b> are provided on the expansion panel motherboard <b>160.</b> The high-speed RS-485 connection <b>218</b> includes a plurality of RS-485 connectors and an RS-485 terminal block, and the low-speed RS-485 connection <b>220</b> includes a plurality of RS-485 connectors and RS-485 terminal blocks. The high-speed RS-485 connection <b>218</b> is in communication with the internal high speed RS-485 bus <b>189,</b> which is in further communication with and provides data to a first RS-485 transceiver <b>222.</b> The high-speed RS-485 connection <b>218</b> is also in communication with the high-speed bus current limiter <b>200,</b> which provides the high-speed RS-485 connection <b>218</b> with 12 VDC power and limits the current provided to the high-speed RD-485 connection <b>218.</b> The low-speed RS-485 connection <b>220</b> is in communication with and provides data to a second RS-485 transceiver <b>224,</b> and is in further communication with the low-speed bus current limiter <b>202.</b> The low-speed bus current limiter <b>202</b> provides the low-speed RS-485 connection <b>220</b> with 12 VDC power and limits the current provided to the low-speed RD-485 connection <b>220.</b> The first and second RS-485 transceivers <b>222, 224</b> respectively receive data from the internal RS-485 bus <b>189</b> and the low-speed RS-485 connection <b>220,</b> and are each connected to and in communication with a respective serial port <b>230, 232</b> of the expansion panel processor <b>161</b> for providing the expansion panel processor <b>161</b> with the data from the internal high-speed RS-485 bus <b>189</b> and the low-speed RS-485 connection <b>220.</b> The high-speed RS-485 connection <b>218</b> and the low-speed RS-485 connection <b>220</b> allow various components, including intelligent/smart devices, to be connected thereto and in two-way communication with the expansion panel processor <b>161.</b> Possible devices for connection include, but are not limited to, heaters, underwater lights, chlorination equipment, a modem, a home automation base station, a wired terminal, chemistry sensing equipment, etc.</p>
<p id="p0053" num="0053">The expansion panel motherboard <b>160</b> additionally includes an external RS-485 connection <b>226</b> that includes a plurality of RS-485 connectors for communication with the main panel mother board <b>6.</b> The external RS-485 connection <b>226</b> exchanges with a third RS-485 transceiver <b>228,</b> which is connected to and in communication with a serial port <b>234</b> of the<!-- EPO <DP n="22"> --> expansion panel processor <b>161</b> for providing the expansion panel processor <b>161</b> with data from the external RS-485 connection <b>226.</b></p>
<p id="p0054" num="0054">Additionally, a printed circuit board (PCB) temperature sensor interface including a PCB sensor <b>236</b> and a sensor conditioning unit <b>238</b> is included on the expansion panel motherboard <b>160.</b> The PCB sensor <b>236</b> provides a signal indicative of the temperature of the expansion panel motherboard <b>160</b> to the sensor conditioning unit <b>238,</b> which conditions the signal and provides the conditioned signal to the expansion panel processor <b>161.</b> This signal can be used in various operations of the system including safety procedures and precautions. For example, if it is determined that the expansion panel motherboard <b>160</b> is operating at a temperature that is greater than or less than a threshold value, e.g., the expansion panel motherboard <b>160</b> is at a dangerously high or low temperature, the system could perform an automatic shut down, illuminate an LED to notify a user of the condition, etc.</p>
<p id="p0055" num="0055">An EEPROM could be provided on the expansion panel motherboard <b>160</b> and receive 3.3 VDC from the logic supply <b>206.</b> The EEPROM is in two-way communication with a serial peripheral interface <b>244</b> of the expansion panel processor <b>161</b> and stores data indicative of operations of the expansion panel motherboard <b>160.</b> The expansion panel processor <b>161</b> could also include internal flash memory <b>246,</b> internal RAM <b>248,</b> and internal non-volatile parameter memory <b>250.</b></p>
<p id="p0056" num="0056">Furthermore, the expansion panel motherboard <b>160</b> could also include a plurality of indicator LEDs <b>252</b> that can designate various operating conditions of the expansion panel motherboard <b>160</b> or devices connected thereto. The plurality of indicator LEDs <b>252</b> can be used to alert a user to warnings, occurrences of fault conditions, or general operating conditions, etc.</p>
<p id="p0057" num="0057">Alternatively, the expansion panel motherboard can be identical to the main panel motherboard <b>6</b> discussed above with regard to <figref idref="f0003 f0004"><b>FIG. 3</b></figref><b>.</b> Reference is made to the discussion provided above in connection with <figref idref="f0003 f0004"><b>FIG. 3</b></figref><b>.</b></p>
<p id="p0058" num="0058"><figref idref="f0007"><b>FIG. 5</b></figref> is a block diagram illustrating the modular relay packs <b>32</b> of the present disclosure. As discussed previously, the modular relay packs <b>32</b> each include a plurality of relays that allow various devices to be connected thereto. The modular relay packs <b>32</b> are connectable to the main control panel <b>4</b> and the expansion panel <b>54,</b> such that the central processor <b>8</b> of the main control panel <b>4</b> or the expansion panel processor <b>161</b> of the expansion panel <b>54</b> controls the functionality of each relay of the modular relay packs <b>32.</b> The modular relay packs <b>32</b> are interchangeable.<!-- EPO <DP n="23"> --></p>
<p id="p0059" num="0059">The modular relay packs <b>32</b> include a relay bank printed circuit board (PCB) <b>252</b> that holds various components of the modular relay pack <b>32</b> and provides interconnectivity therebetween. The relay bank PCB <b>252</b> includes a relay bank processor <b>254</b> and a relay bank connector <b>256.</b> The relay bank connector <b>256</b> allows the modular relay packs <b>32</b> to be connected with the relay bank socket <b>16</b> of the main control panel <b>4</b> or the relay bank sockets <b>192, 194</b> of the expansion panel <b>54.</b> The relay bank connector <b>256</b> not only provides a physical connection but also an electrical connection with wiring of the relay bank sockets <b>16, 192, 194</b> so that data and power can be transmitted therebetween. Furthermore, when the modular relay packs <b>32</b> are connected to either the main control panel <b>4</b> or the expansion panel <b>54,</b> they are in communication with the internal RS-485 bus <b>10, 189</b> and thus the central processor <b>8</b> or the expansion processor <b>161.</b></p>
<p id="p0060" num="0060">The relay bank connector <b>256</b> is connected to an RS-485 transceiver <b>258</b> of the relay bank PCB <b>252,</b> which interprets and process the signals received at the RS-485 bus for transmission to the relay bank processor <b>254.</b> The RS-485 transceiver <b>258</b> is connected to a serial port <b>259</b> of the relay bank processor <b>254</b> and is in two-way electrical communication with the relay bank processor <b>254</b> via the serial port <b>259</b> connection. The relay bank connector <b>256</b> is also in communication with and provides 12 VDC power to a logic supply <b>260</b> that provides 3.3 VDC to the RS-485 transceiver <b>258,</b> the relay bank processor <b>254,</b> and a relay driver <b>262.</b></p>
<p id="p0061" num="0061">The relay driver <b>262</b> is in electrical connection with a relay connector <b>264</b> of the relay bank PCB <b>254,</b> which allows for a plurality of high voltage relays <b>56a-56d</b> to be connected to the relay connector <b>264.</b> The relay driver <b>262</b> is connected to port pins <b>268</b> of the relay bank processor <b>254</b> which provides switching instructions to the relay driver <b>262.</b> The relay driver <b>262</b> provides the switching instructions received from the relay bank processor <b>254</b> to each of the high voltage relays <b>56a-56d.</b> Various devices can be connected to the high voltage relays <b>56a-56d</b> and controlled by the relay bank processor <b>254,</b> such as pumps, heaters, pH dispense units, etc. The high voltage relays <b>56a-56d</b> can be arranged in a straight line or in a cubic orientation on the relay pack <b>32.</b> Further, it is possible to change an individual relay <b>56a-56d</b> of the relay pack <b>32</b> in the field, which can be done by removing the relay pack <b>32</b> from the relay bank socket <b>16,</b> changing the relay <b>56a-56d,</b> and inserting the relay pack <b>32</b> back into the relay bank socket <b>16.</b> Each relay pack <b>32</b> includes a hole in the top cover that allows a technician to test the coil connections of each relay <b>56a-56d</b> within the fully assembled relay pack <b>32.</b><!-- EPO <DP n="24"> --></p>
<p id="p0062" num="0062">The relay bank processor <b>154</b> could also include second port pins <b>270,</b> internal flash memory <b>272,</b> internal non-volatile parameter memory <b>274,</b> and internal RAM <b>276.</b> An LED <b>278</b> can be connected to the second port pins <b>270.</b> The LED <b>278</b> can designate various operating conditions of the modular relay pack <b>32,</b> devices connected thereto, and/or used to alert a user to warnings, occurrences of fault conditions, general operating conditions, etc.</p>
<p id="p0063" num="0063">As discussed above, each modular relay pack <b>32</b> is a smart device that can engage in an automatic handshake with the processor of the PCB to which it is connected, e.g., the central processor <b>8</b> of the main panel motherboard <b>6</b> or the expansion panel processor 161 of the expansion panel motherboard <b>160.</b> As a result, the central processor <b>8</b> can immediately identify the characteristics of each relay of the relay packs <b>32</b> and allow a user to program each relay for a particular device. This functionality allows all of the relay packs <b>32</b> to be "plug-and-play."</p>
<p id="p0064" num="0064">Each of the smart components, e.g., devices connected to the relays of the modular relay packs <b>32,</b> the main panel <b>4,</b> or the expansion panel <b>54,</b> or the modular relay packs themselves <b>32,</b> can include field upgradeable firmware. That is, the control system <b>2</b> allows new firmware for any smart component to be uploaded to the central processor <b>8</b> via a USB memory stick inserted into the USB port, generally by a field technician, or downloaded to the central processor <b>8</b> from the Internet. The central processor <b>8</b> is capable of getting firmware revisions or updates for any smart component, and capable of implementing a file transfer to move the new firmware to the appropriate smart component. Each smart component can include enough memory to store two complete firmware images and a bootloader capable of activating the latest firmware image. In the event that the updated firmware image is corrupt or defective in any way the bootloader will activate the primary firmware image. Furthermore, each smart component will constantly monitor the communications stream from the central processor <b>8.</b> If a loss of communication is ever detected by a smart component it will enter a known safe state where everything controlled by the component is turned off. The smart component will return to active operation when it receives a command from the central processor <b>8.</b> The central processor <b>8</b> is also capable of resetting all of the connected smart components, either individually, in multicast groups, or all at once via a broadcast.</p>
<p id="p0065" num="0065"><figref idref="f0008 f0009"><b>FIG. 6</b></figref> is a block diagram illustrating components of the local terminal <b>28.</b> As discussed above, the main control panel <b>4</b> includes a local terminal <b>28</b> for allowing user interaction with the system and programming of the modular relay packs <b>32.</b> The local terminal <b>28</b> includes a local terminal master system processor (MSP) <b>30,</b> which is a microprocessor unit. The MSP <b>30</b> includes a central processing unit (CPU) <b>284,</b> a cache<!-- EPO <DP n="25"> --> memory <b>286,</b> a boot read-only memory (ROM) <b>288,</b> static random-access memory (SRAM) <b>290,</b> one-time programmable fuses <b>292,</b> and an on-chip temperature sense and thermal protection unit <b>294.</b> The MSP <b>30</b> additionally includes a first pulse-width modulation general purpose input/output (PWM GPIO) module <b>296,</b> a second pulse-width modulation general purpose input/output module <b>298,</b> a third pulse-width modulation general purpose input/output module <b>300,</b> and a fourth pulse-width modulation general purpose input/output module <b>302.</b> The PWM GPIOs <b>296, 298, 300, 302</b> allow for various devices to be connected thereto, and provide either a PWM signal or a general purpose output to the devices connected thereto. For example, a piezo sounder <b>304,</b> indicator LEDs <b>306, 308,</b> and a backlight LED driver <b>360</b> can be connected to the PWM GPIOs <b>296, 298, 300, 302</b> and receive signals therefrom.</p>
<p id="p0066" num="0066">The MSP <b>30</b> also includes a debug universal asynchronous receiver/transmitter port (UART) <b>310</b> and a joint test action group (JTAG) and debug port <b>312.</b> The debug UART <b>310</b> is connected with a debug serial connection <b>314</b> that allows for a debugging device to be connected thereto. The JTAG and debug port <b>312</b> is connected with a JTAG and debug connector <b>316</b> that allows a debugging device to be connected thereto. A low-rate analog to digital converter (LRADC) <b>318</b> is included on the MSP <b>30,</b> to which a temperature sensing diode <b>320</b> is attached. The temperature sensing diode <b>320</b> is an analog sensor that senses the temperature of the local terminal <b>28</b> and transmits the sensed temperature to the LRADC <b>318.</b> Further, an inter-integrated circuit (I2C) <b>322</b> is provided on the MSP <b>30.</b> A real-time clock (RTC) <b>324</b> is connected to the I2C <b>322.</b> The RTC <b>324</b> is a computer clock that keeps track of time. A backup capacitor <b>326</b> is connected to the RTC <b>324</b> as an alternative power source for the RTC <b>324</b> so that the RTC <b>324</b> can keep track of time when the local terminal <b>28</b> is turned off.</p>
<p id="p0067" num="0067">A first UART <b>328</b> and a second UART <b>330</b> are included on the MSP <b>30</b> and connected, respectively, to an RS-485 transceiver hi-speed port <b>332</b> and an RS-485 transceiver low-speed port <b>334.</b> The RS-485 transceiver hi-speed port <b>332</b> and the RS-485 transceiver low-speed port <b>334</b> are connected to a motherboard connector <b>336.</b> The motherboard connector <b>336</b> is connected with a 5V switched mode power supply (SMPS) <b>338</b> that is connected to the MSP <b>30.</b> The motherboard connector <b>336,</b> and associated components that connect the motherboard connector <b>336</b> to the MSP <b>30,</b> allow the local terminal <b>28</b> to be connected to the main panel motherboard <b>6.</b> Specifically, the motherboard connector <b>336</b> is generally connected to the local terminal connector <b>18.</b> This connection, e.g., the motherboard connector <b>336</b> engaged with the local terminal connector <b>18,</b> allows the MSP <b>30</b> to receive<!-- EPO <DP n="26"> --> data and commands from the MPP <b>8</b> by way of the RS-485 transceiver hi-speed port <b>332</b> and the RS-485 transceiver low-speed port <b>334,</b> and power by way of the SMPS <b>338.</b> The SMPS <b>338</b> transfers power provided by the MPP <b>6</b> to the MSP <b>30</b> and associated components. To this end, the MSP <b>30</b> also includes a power control and reset module <b>340</b> and a battery charger <b>342.</b> The power control and reset module <b>340</b> manage the power of the MSP <b>28</b> and allows the power to be reset.</p>
<p id="p0068" num="0068">The MSP <b>30</b> also includes a phase locked loop system (PLLS) and clock generator <b>344</b> connected with a real-time clock and watchdog timer <b>346.</b> A 24 MHz crystal oscillator <b>348</b> and a 32 KHz crystal oscillator <b>350</b> are connected to the PLLS and clock generator <b>344.</b> The PLLS and clock generator <b>344</b> generates a clock signal from the 24 MHz crystal oscillator <b>348</b> and the 32 KHz crystal oscillator <b>350.</b> The MSP <b>30</b> includes a 3 channel DC-DC converter and 5 channel low-dropout regulator <b>352.</b></p>
<p id="p0069" num="0069">An analog to digital converter touch interface (ADC touch I/F) <b>354</b> and an RGB 8:8:8 display interface <b>356</b> are included on the MSP <b>30</b> and connected to an LCD connector <b>358.</b> The fourth PWM GPIO <b>302</b> is connected with a backlight LED driver <b>360</b> which, in turn, is connected with the LCD connector <b>358.</b> This subsystem connecting the LCD connector <b>358</b> to the MSP <b>30</b> provides the proper interface and communication pathways for a touchscreen LCD to be connected to the LCD connector, such that the MSP <b>30</b> can control the display of an LCD connected to the LCD connector <b>358.</b> The MSP <b>30</b> also includes a pixel pipeline <b>362</b> that processes pixel information of an LCD connected to the LCD connector <b>358.</b> As mentioned, an LCD screen could include touchscreen functionality that provides input to the MSP <b>30</b> and the MPP <b>8,</b> and allows a user to make various selections on the local terminal <b>28</b> and input various parameters into the local terminal <b>28.</b></p>
<p id="p0070" num="0070">The MSP <b>30</b> includes a USB host and physical port <b>364</b> and a USB device/host and physical port <b>366,</b> which are connected to a power switch and current limiter <b>368</b> and a USB host connector <b>370.</b> The power switch and current limiter <b>368</b> is connected with the USB host connector <b>370,</b> and distributes the appropriate power and current to the USB host connector <b>370.</b></p>
<p id="p0071" num="0071">The MSP also includes an Ethernet media access controller (MAC) <b>372,</b> a first synchronous serial port <b>374,</b> a second synchronous serial port <b>376,</b> a third synchronous serial port <b>378,</b> and an external memory interface <b>380.</b> The Ethernet MAC <b>372</b> is connected with an Ethernet physical layer <b>382</b> that is connected with an Ethernet mag-jack <b>384.</b> The Ethernet mag-jack <b>384</b> allows an Ethernet cable to be connected thereto, while the Ethernet physical layer <b>382</b> encodes and decodes data that is received. A serial electrically erasable<!-- EPO <DP n="27"> --> programmable read-only memory (EEPROM) <b>386</b> is connected with the first synchronous serial port <b>374,</b> and is a non-volatile memory that is used to store data when the power to the local terminal <b>28</b> is removed. A serial flash memory <b>388,</b> which can be serial NOR flash memory, can be connected to the second synchronous serial port <b>376</b> to provide memory storage capabilities. A microSD card socket <b>390</b> can be connected to the third synchronous serial port <b>378</b> and provides external memory storage capabilities. Dynamic random access memory (DRAM) <b>392</b> could be connected with the external memory interface <b>380</b> to provide additional memory storage capabilities.</p>
<p id="p0072" num="0072"><figref idref="f0010 f0011"><b>FIG. 7</b></figref> is a block diagram illustrating a wired terminal printed circuit board (PCB) <b>400.</b> The wired terminal includes the wired terminal PCB <b>400</b> that holds a terminal processor <b>402,</b> which is a microprocessor unit. The terminal processor <b>402</b> includes a central processing unit (CPU) <b>404,</b> a cache memory <b>406,</b> a boot read-only memory (ROM) <b>408,</b> static random-access memory (SRAM) <b>410,</b> one-time programmable fuses <b>412,</b> and an on-chip temperature sensing and thermal protection unit <b>414.</b> The terminal processor <b>402</b> additionally includes a first pulse-width modulation general purpose input/output module (PWM GPIO) <b>416,</b> a second pulse-width modulation general purpose input/output module <b>418,</b> a third pulse-width modulation general purpose input/output module <b>420,</b> and a fourth pulse-width modulation general purpose input/output module <b>422.</b> The PWM GPIOs <b>416, 418, 420, 422</b> allow for various devices to be connected thereto, and provide either a PWM signal or a general purpose output to the devices connected thereto. For example, a piezo sounder <b>424,</b> indicator LEDs <b>426, 428,</b> and a backlight LED drive <b>472</b> can be connected to the PWM GPIOs <b>416, 418, 420, 422</b> and receive a signal therefrom.</p>
<p id="p0073" num="0073">The terminal processor <b>402</b> also includes a debug universal asynchronous receiver/transmitter port (UART) <b>430</b> and a joint test action group (JTAG) and debug port <b>432.</b> The debug UART <b>430</b> is connected to a debug serial connection <b>434</b> that allows for a debugging device to be connected thereto. The JTAG and debug port <b>432</b> is connected with a JTAG and debug connector <b>436</b> that allows a debugging device to be connected thereto. A low-rate analog to digital converter (LRADC) <b>438</b> is included on the terminal processor <b>402,</b> which a temperature sensing diode <b>440</b> is attached to. The temperature sensing diode <b>440</b> is an analog sensor that senses the temperature of the wired terminal PCB <b>28</b> and transmits the sensed temperature to the LRADC <b>438.</b> Further, an inter-integrated circuit (I2C) <b>442</b> is provided on the terminal processor <b>402.</b></p>
<p id="p0074" num="0074">A first UART <b>444</b> and a second UART <b>446</b> are included on the terminal processor <b>402.</b> The first UART <b>444</b> is connected with an RS-485 transceiver hi-speed port <b>448.</b> The RS-485<!-- EPO <DP n="28"> --> transceiver hi-speed port <b>448</b> is connected to an RS-485 connector <b>450.</b> The RS-485 connector <b>450</b> is connected with a 5V switched mode power supply (SMPS) <b>452.</b> The RS-485 connector <b>450,</b> and associated components that connect the RS-485 connector <b>450</b> to the terminal processor <b>402,</b> allow the wired terminal PCB <b>28</b> to be connected to the main panel motherboard <b>6.</b> Specifically, the RS-485 connector <b>450</b> is generally connected to the external high-speed RS-485 bus connector <b>14</b> by a wire. This connection, e.g., the RS-485 connector <b>450</b> engaged with the external RS-485 bus connector <b>14,</b> allows the terminal processor <b>402</b> to receive data and commands from the MPP <b>8</b> by way of the RS-485 transceiver hi-speed port <b>448,</b> and power by way of the SMPS <b>338.</b> The SMPS <b>338</b> provides power from the MPP <b>6</b> to the terminal processor <b>402</b> and associated components. To this end, the terminal processor <b>402</b> also includes a power control and reset module <b>454</b> and a battery charger <b>456.</b> The power control and reset module <b>454</b> manage the power of the terminal processor <b>402</b> and allow the power to be reset.</p>
<p id="p0075" num="0075">The terminal processor <b>402</b> also includes a phase locked loop system (PLLS) and clock generator <b>458</b> connected with a real-time clock and watchdog timer <b>460.</b> A 24 MHz crystal oscillator <b>462</b> is connected to the PLLS and clock generator <b>458.</b> The PLLS and clock generator <b>458</b> generates a clock signal from the 24 MHz crystal oscillator <b>462.</b> The terminal processor <b>402</b> includes a 3 channel DC-DC converter and 5 channel low-dropout regulator <b>464.</b></p>
<p id="p0076" num="0076">An analog to digital converter touch interface (ADC touch I/F) <b>466</b> and an RGB 8:8:8 display interface <b>468</b> are included on the terminal processor <b>402</b> and connected to an LCD connector <b>470.</b> The fourth PWM GPIO <b>422</b> is connected with a backlight LED driver <b>472</b> that is connected with the LCD connector <b>470.</b> This subsystem connecting the LCD connector <b>470</b> to the terminal processor <b>402</b> provides the proper interface and communication pathways for a touchscreen LCD to be connected to the LCD connector, such that the terminal processor <b>402</b> can control the display of an LCD connected to the LCD connector <b>470.</b> The terminal processor <b>402</b> also includes a pixel pipeline <b>474</b> that processes pixel information of an LCD connected to the LCD connector <b>470.</b> As mentioned, an LCD screen could include touchscreen functionality that provide input to the terminal processor <b>402,</b> the MSP <b>30,</b> and the MPP <b>8,</b> and allows a user to make various selections on the wired terminal and input various parameters into the wired terminal. The terminal processor <b>402</b> includes a USB host and physical port <b>476</b> and a USB device/host and physical port <b>478.</b> The terminal processor <b>402</b> is positioned within the handheld remote control unit <b>58a, 58b,</b> which could be located external to, and/or remotely from, the main panel <b>4.</b><!-- EPO <DP n="29"> --></p>
<p id="p0077" num="0077">The terminal processor <b>402</b> also includes an Ethernet media access controller (MAC) <b>480,</b> a first synchronous serial port <b>482,</b> a second synchronous serial port <b>484,</b> a third synchronous serial port <b>486,</b> and an external memory interface <b>488.</b> A serial electrically erasable programmable read-only memory (EEPROM) <b>490</b> is connected with the first synchronous serial port <b>482,</b> and is a non-volatile memory that is used to store data when the power to the handheld terminal is removed. A serial flash <b>492</b> memory, which can be serial NOR flash memory, can be connected to the second synchronous serial port <b>484</b> to provide memory storage capabilities. A microSD card socket <b>494</b> can be connected to the third synchronous serial port <b>486</b> and provides external memory storage capabilities. Dynamic random access memory (DRAM) <b>496</b> could be connected with the external memory interface <b>488</b> to provide additional memory storage capabilities.</p>
<p id="p0078" num="0078"><figref idref="f0012 f0013"><b>FIG. 8A</b></figref> is a block diagram illustrating electrical components of an optional wireless terminal <b>58a</b> of the present disclosure including a radio module. The wireless terminal <b>58a</b> provides the identical functionality provided by the wired terminal, e.g., allowing a user to interact with the system and program the modular relay packs <b>32.</b> The wireless terminal <b>58a</b> includes the wireless terminal PCB <b>500</b> that holds a terminal processor <b>502,</b> which is a microprocessor unit. The terminal processor <b>502</b> includes a central processing unit (CPU) <b>504,</b> a cache memory <b>506,</b> a boot read-only memory (ROM) <b>508,</b> static random-access memory (SRAM) <b>510,</b> one-time programmable fuses <b>512,</b> and an on-chip temperature sensing and thermal protection unit <b>514.</b> The terminal processor <b>502</b> additionally includes a first pulse-width modulation general purpose input/output module (PWM GPIO) <b>516,</b> a second pulse-width modulation general purpose input/output module <b>518,</b> a third pulse-width modulation general purpose input/output module <b>520,</b> and a fourth pulse-width modulation general purpose input/output module <b>522.</b> The PWM GPIOs <b>516, 518, 520, 522</b> allow for various devices to be connected thereto, and provide either a PWM signal or a general purpose output to the devices connected thereto. For example, a piezo sounder <b>524,</b> indicator LEDs <b>526, 528,</b> and a backlight LED driver <b>588</b> can be connected to the PWM GPIOs <b>516, 518, 520, 522</b> and receive signals therefrom.</p>
<p id="p0079" num="0079">The terminal processor <b>502</b> also includes a debug universal asynchronous receiver/transmitter port (UART) <b>530</b> and a joint test action group (JTAG) and debug port <b>432.</b> The debug UART <b>530</b> is connected to a debug serial connection <b>534</b> that allows for a debugging device to be connected thereto. The JTAG and debug port <b>532</b> is connected with a JTAG and debug connector <b>536</b> that allows a debugging device to be connected thereto. A low-rate analog to digital converter (LRADC) <b>538</b> is included on the terminal processor <b>502,</b><!-- EPO <DP n="30"> --> which a battery connector <b>440</b> is attached to, and discussed in greater detail below. Further, an inter-integrated circuit (I2C) <b>542</b> is provided on the terminal processor <b>502,</b> and connected with a battery fuel gauge <b>544.</b> The battery fuel gauge <b>544</b> provides a graphical representation of the battery power that is remaining for the wireless terminal <b>58a.</b></p>
<p id="p0080" num="0080">A first UART <b>546</b> and a second UART <b>548</b> are included on the terminal processor <b>502.</b> The second UART <b>548</b> is connected with radio connector <b>550.</b> The radio connector <b>550</b> allows a radio module to be connected to the wireless terminal PCB <b>500.</b> This connection allows the wireless terminal <b>58a</b> to wirelessly communicate with the main panel motherboard <b>6.</b> Specifically, a third party radio module engaged with the radio connector <b>550</b> allows the wireless terminal processor <b>504</b> to receive data and commands from, and send data to, the MPP <b>8</b> when a radio frequency base station is engaged with the external RS-485 bus connector <b>14</b> of the main panel <b>12.</b> Thus, the terminal processor <b>502</b> can receive data and commands from the MPP <b>8</b> and the MSP <b>30</b> by way of radio frequency communication. The wireless terminal PCB <b>550</b> includes a battery connector <b>552</b> that can have a battery <b>554</b> attached thereto. The battery <b>554</b> may be a lithium polymer rechargeable battery and/or may be removeable. The battery connector <b>552</b> is connected with a battery power connector <b>556</b> and a power switch <b>558.</b> The battery power connector <b>556</b> is connected with a battery charger <b>560</b> on the terminal processor <b>502.</b> The power switch <b>558</b> determines when power is to be provided to a charge pump <b>562,</b> which provides power to the radio connector <b>550.</b> Charger contacts <b>564</b> are included on the wireless terminal PCB <b>500</b> and are in communication with a contacts disconnect circuit <b>566</b> and a reset timer <b>568.</b> The contacts disconnect circuit <b>566</b> is in communication with the power switch <b>558,</b> and the disconnect circuit <b>566</b> could be actuated to disconnect the charger contacts <b>564.</b> The reset timer <b>568</b> is connected with a power control and reset module <b>570</b> that manages the power of the terminal processor <b>502</b> and allows the power to be reset.</p>
<p id="p0081" num="0081">The terminal processor <b>502</b> also includes a phase locked loop system (PLLS) and clock generator <b>572</b> connected with a real-time clock and watchdog timer <b>574.</b> A 24 MHz crystal oscillator <b>576</b> and a 32 KHz crystal oscillator <b>578</b> are connected to the PLLS and clock generator <b>572.</b> The PLLS and clock generator <b>572</b> generates a clock signal from the 24 MHz crystal oscillator <b>576</b> and the 32 KHz crystal oscillator <b>578.</b> The terminal processor <b>502</b> includes a 3 channel DC-DC converter and 5 channel low-dropout regulator <b>580.</b></p>
<p id="p0082" num="0082">An analog to digital converter touch interface (ADC touch I/F) <b>582</b> and an RGB 8:8:8 display interface <b>584</b> are included on the terminal processor <b>502</b> and connected to an LCD connector <b>586.</b> The fourth PWM GPIO <b>522</b> is connected with a backlight LED driver <b>588</b> that<!-- EPO <DP n="31"> --> is connected with the LCD connector <b>586.</b> This subsystem connecting the LCD connector <b>586</b> to the terminal processor <b>502</b> provides the proper interface and communication pathways for a touchscreen LCD to be connected to the LCD connector, such that the terminal processor <b>502</b> can control the display of an LCD connected to the LCD connector <b>586.</b> The terminal processor <b>502</b> also includes a pixel pipeline <b>590</b> that processes pixel information of an LCD connected to the LCD connector <b>586.</b> As mentioned, an LCD screen could include touchscreen functionality that provide input to the terminal processor <b>502,</b> the MSP <b>30,</b> and the MPP <b>8,</b> and allows a user to make various selections on the wireless terminal <b>58a</b> and input various parameters into the wireless terminal <b>58a.</b> The terminal processor <b>502</b> includes a USB host and physical port <b>592</b> and a USB device/host and physical port <b>594.</b></p>
<p id="p0083" num="0083">The terminal processor <b>502</b> also includes an Ethernet media access controller (MAC) <b>596,</b> a first synchronous serial port <b>598,</b> a second synchronous serial port 600, a third synchronous serial port <b>602,</b> and an external memory interface <b>604.</b> A serial electrically erasable programmable read-only memory (EEPROM) <b>606</b> is connected with the first synchronous serial port <b>598,</b> and is a non-volatile memory that is used to store data when the power to the handheld terminal is removed. A serial flash <b>608,</b> which can be serial NOR flash, can be connected to the second synchronous serial port <b>600</b> to provide memory storage capabilities. A microSD card socket <b>610</b> can be connected to the third synchronous serial port <b>602</b> and provides external memory storage capabilities. Dynamic random access memory (DRAM) <b>612</b> could be connected with the external memory interface <b>604</b> to provide additional memory storage capabilities.</p>
<p id="p0084" num="0084"><figref idref="f0014 f0015"><b>FIG. 8B</b></figref> is a block diagram showing electrical components of an optional wireless terminal <b>58b</b> of the present disclosure including a "WiFi" (IEEE 802.11) radio module <b>616.</b> The wireless terminal <b>58b</b> of <figref idref="f0014 f0015"><b>FIG. 8B</b></figref> is substantially similar to that of the wireless terminal <b>58a</b> of <figref idref="f0012 f0013"><b>FIG. 8A</b></figref><b>,</b> but a WiFi radio is provided, as discussed below. In this regard, only the differences between the wireless terminal <b>58b</b> of <figref idref="f0014 f0015"><b>FIG. 8B</b></figref> and the wireless terminal <b>58a</b> of <figref idref="f0012 f0013"><b>FIG. 8A</b></figref> will be discussed. Similar components that have been discussed previously in connection with <figref idref="f0012 f0013"><b>FIG. 8A</b></figref> are not repeated, but instead, reference is made to <figref idref="f0012 f0013"><b>FIG. 8A</b></figref> for discussion of these like components which are labeled with like element numbers.</p>
<p id="p0085" num="0085">The terminal processor <b>502</b> of the wireless terminal <b>58b</b> includes a serial peripheral interface (SPI) bus <b>614.</b> The SPI bus <b>614</b> is connected with the radio module <b>616,</b> which could comply with IEEE standards 802.11b, 802.11g, and/or 802.11n. The radio <b>616</b> allows the wireless terminal <b>58b</b> to wirelessly communicate with the main panel motherboard <b>6,</b> such that the wireless terminal processor <b>504</b> can receive data and commands from, and send data<!-- EPO <DP n="32"> --> to, the MPP <b>8</b> when a radio frequency base station is engaged with the external RS-485 bus connector <b>14</b> of the main panel <b>12.</b> Thus, the terminal processor <b>502</b> can receive data and commands from the MPP <b>8</b> and the MSP <b>30</b> by way of radio frequency communication. The wireless terminal PCB <b>550</b> includes a battery connector <b>552</b> that can have a battery <b>554</b> attached thereto. The battery <b>554</b> may be a lithium polymer rechargeable battery and/or may be removeable. The battery connector <b>552</b> is connected with a battery power connection <b>556</b> and a power multiplexer <b>618.</b> The battery power connection <b>556</b> is connected with a battery charger <b>560</b> on the terminal processor <b>502.</b> The power multiplexer <b>618</b> determines which power source should be utilized to power the radio <b>616,</b> e.g., the battery <b>55</b> or a power supply connected to the charger contacts <b>564.</b> The power mux <b>618</b> provides power to a buck/boost power supply converter <b>620,</b> which directs power to the radio <b>616.</b> The terminal processor <b>502</b> includes a reset <b>622</b> that is connected to a magnetic reed switch <b>624.</b></p>
<p id="p0086" num="0086"><figref idref="f0016"><b>FIG. 9</b></figref> is a block diagram of an input/output (I/O) expansion module <b>626</b> of the present disclosure. The I/O expansion module <b>626</b> is one sample expansion module that can be utilized with the system. The expansion modules are typically installed to upgrade the overall functionality of the control system <b>2.</b> To this extent, the expansion modules can contain functionality that supplements functionality of the main control panel <b>4.</b> For example, in some embodiments, the I/O expansion module <b>626</b> can provide an interface between legacy devices and the control system <b>2,</b> third party manufacture's devices and the control system <b>2,</b> an automatic pool cover and the control system <b>2,</b> weather stations and the control system <b>2,</b> etc. The I/O expansion module <b>626</b> could also provide communication bus expansion. The I/O expansion module <b>626</b> includes an I/O PCB <b>382</b> holding a smart component processor <b>628.</b> The I/O PCB <b>627</b> includes an RS-485 transceiver <b>630</b> that is connected to a serial port <b>644</b> of the smart component processor <b>629.</b> The RS-486 transceiver <b>630</b> receives 3.3 VDC from a logic supply <b>632,</b> and is in two-way communication with the smart component processor <b>628</b> and a bus connector <b>634.</b> The bus connector <b>634</b> allows the I/O PCB <b>627</b> to be connected to the expansion slot <b>20</b> of the main panel motherboard <b>6</b> or one of the expansion slots <b>188a-188n</b> of the expansion panel motherboard <b>160,</b> such that the bus connector <b>634</b> is in electrical communication with the wires <b>190a-190n</b> of same. The bus connector <b>634</b> provides the logic supply <b>632</b> with 12 VDC, a relay driver <b>636</b> with 24 VDC, and the actuator relays of an actuator interface <b>640</b> with 24 VAC. The I/O expansion module <b>626</b> can include plastic supports or guides that facilitate connection with an expansion slot <b>20, 188a-188n.</b> Generally, the expansion modules, e.g., I/O expansion module <b>626,</b> will connect to a single expansion slot <b>20, 188a-188n,</b> however, it is contemplated that particular expansion modules can be<!-- EPO <DP n="33"> --> larger in size and/or can require additional wiring, and, as such, can be double-width expansion modules. These double-width expansion modules can connect to two expansion slots <b>20, 188a-188n</b> in some instances, or simply can be larger such that they take up the space of multiple expansion slots <b>20, 188a-188n,</b> but only connect to a single expansion slot <b>20, 188a-188n.</b></p>
<p id="p0087" num="0087">The relay driver <b>636</b> receives 24 VDC from the bus connector <b>634</b> and 3.3 VDC from the logic supply <b>632.</b> The relay driver <b>636</b> is connected to a plurality of relay units <b>638</b> and the actuator interface <b>640.</b> Each relay unit <b>638</b> includes a low power relay connector and a low power relay. The relay units <b>638</b> permit various low power devices to be connected to the low power relay connector such that the relay unit <b>638</b> switches operation of the connected device, e.g., a heater. The actuator interface <b>640</b> includes a plurality of actuator connectors and actuator relays, e.g., for operating valves, the actuator relays receiving 24 VAC from the bus connector <b>634.</b> The actuator interface <b>640</b> permits various types of actuators to be connected to each actuator connector and controlled by the smart component processor <b>628.</b> For example, the actuator can be a valve actuator. The relay driver <b>636</b> is in communication with a serial peripheral interface <b>648</b> of the smart component processor <b>628.</b></p>
<p id="p0088" num="0088">The I/O PCB <b>627</b> also includes a sensor interface <b>642</b> that includes at least one sensor connector, which can be 2-wire, 8-wire (as shown in <figref idref="f0016"><b>FIG. 9</b></figref>), 10-wire, or 12-wire sensor connectors, receiving input from a sensor input. Each sensor connector is connected to a sensor conditioning unit that provides sensor signal conditioning, e.g., amplification and error correction, prior to transmitting the signal to a multichannel analog to digital converter <b>646</b> of the smart component processor <b>628.</b> Furthermore, the I/O PCB <b>627</b> could also include an indicator LED <b>650</b> that can designate various status/operating conditions of the I/O PCB <b>627</b> or devices connected thereto. The indicator LED <b>650</b> can be used to alert a user to warnings, occurrence of fault conditions, or general operating conditions, etc. Additionally, the smart component processor <b>628</b> could include internal non-volatile parameter memory, internal flash memory and internal RAM. The I/O expansion module <b>626</b> allows the number of actuators, relays and sensors connected to the main control panel <b>4</b> to be expanded. Specifically, the I/O expansion module <b>626</b> is connectable to the main control panel <b>4,</b> thus adding additional actuator, relay, sensor, and other capabilities.</p>
<p id="p0089" num="0089">The I/O expansion module <b>626</b> can utilize the assignable relays <b>638,</b> the actuator relays <b>640,</b> and the sensors <b>642,</b> to determine and effectuate an appropriate pool water turnover. For example, the control system <b>2</b> can calculate, e.g., from gallons or pool dimensions, a desired number of water changes and then control the pumps and valves<!-- EPO <DP n="34"> --> connected to any of the relays <b>638</b> or the actuator relays <b>640</b> to deliver the desired water turnovers with the lowest power consumption/power cost. Additionally, the control system <b>2</b> can utilize user input or Internet downloads to determine variable power rates and determine if it is cheaper to turnover the water at night. Furthermore, the I/O expansion module <b>626</b> can include a smart grid feature where if the power company on the demand side can shut down filtration at a peak demand period the user will be alarmed to the situation.</p>
<p id="p0090" num="0090">The expansion modules are not limited to just an I/O expansion module <b>626,</b> but instead, could be a chlorinator expansion module that allows for the further expansion of the chlorination capabilities of the control system <b>2.</b> For example, a chlorinator expansion module can allow for an additional chlorinator ("T-cell") to be attached to the system. Alternatively, the expansion module can be an energy management module that includes an algorithm to operate connected devices in a "green mode" to optimize multiple sources of energy or sources of heat based on environmental sensing, Internet forecasting, wind magnitude and direction, electric or gas rates retrieved from the internet, user input, target temperatures, etc. The energy management module can determine pump speeds to minimize pump costs, but retain appropriate functionality, automatically shutoff devices when not used, or determine an energy bill alert for over usage of heaters or other features. In this regard, the energy management module can monitor or compute the electrical consumption of various connected devices based on known consumption and run time, and can provide real-time energy and periodic/historical usage of the devices. Alternatively, the energy management module can sense the mains wiring and determine actual load calculations therefrom. From these calculations the energy management module could learn the individual relay load based on calibration procedure or continuous calibration. Further, the energy management module can be used for increased filtration efficiency by taking the chlorination requirements, gallons of pool water, and hours entered, and calculate the turnover rate at the lowest possible speed to achieve the turnover rate. Additionally, the energy management module can send pool cover advice to the pool owner, shut down a water feature in high wind, select a best skimmer to utilize, or turn on a cleaner at a cost efficient time. The expansion modules can also be an SVRS expansion module where a non-SVRS pump is retrofit with an SVRS accessory, and the SVRS expansion module operates the SVRS accessory.</p>
<p id="p0091" num="0091">Additionally, the expansion module can be an auto-fill module that functions to keep the pool or spa full automatically and prevents the pool or spa from over-filling and any resulting cover damage. The auto-fill module can include a water level sensor and an attached water supply valve, such that the auto-fill module controls the valve based on the water level<!-- EPO <DP n="35"> --> sensor and a predetermined upper and lower water level threshold. Further, the auto-fill module can be connected to an alarm that notifies the user, e.g., through an on-site alarm, wireless remote, mobile application, etc., when an over-fill or leaking pool is detected. To this extent, the auto-fill module can include trend monitoring that can show water usage trends over time, which can demonstrate that a leak is present, e.g., the auto-fill module is pumping in water more frequently than could normally occur due to water loss from evaporation, etc.</p>
<p id="p0092" num="0092">In another embodiment, the expansion module can be a music synchronization module that synchronizes associated lights, with an audio channel. Additionally, the pool or lights can include a microphone connected to the music synchronization module that allows the lights to be responsive to swimmer activity in the water. Further, the expansion module can be a water feature animation module that is connectable with fast-acting solenoid valves that can be used to drive a fountain, water jet, or other water feature. The water feature animation module includes software that is capable of sequencing the opening and closing, as well as volume and speed, of the solenoids based on a program. This can be a user-defined program, or can be responsive to or synchronized with a light show and/or sounds.</p>
<p id="p0093" num="0093">In still another embodiment, the expansion module can be a robotic cleaner management module that allows a robotic cleaner to be controlled by the control system <b>2.</b></p>
<p id="p0094" num="0094"><figref idref="f0017"><b>FIG. 10</b></figref> is a block diagram of a chemistry sense module <b>700</b> of the present disclosure. The chemistry sense module <b>700</b> can monitor/sense pool/spa chlorine and pH levels, and can adjust chemical feeding. The chemistry sense module <b>700</b> can be connected to, but located remotely from, the main panel <b>4.</b> The chemistry sense module <b>700</b> is divided into a first section <b>702</b> and a second section <b>704</b> by an isolation barrier <b>706.</b> The first section <b>702</b> includes a chemistry sense module processor <b>708.</b> The chemistry sense module processor <b>708</b> includes internal FLASH memory <b>710,</b> internal nonvolatile memory <b>712,</b> and internal RAM <b>714.</b> The chemistry sense module processor <b>708</b> also includes a first serial port <b>716,</b> a port pin <b>718,</b> a power supply port <b>720,</b> and a second serial port <b>722.</b> The first serial port <b>716</b> is connected with an isolated RS-485 transceiver <b>724</b> that extends across the first section <b>702</b> and the second section <b>704.</b> The RS-485 transceiver <b>724</b> is connected with an RS-485 connector <b>726</b> and a logic supply <b>728,</b> both located in the second section. The RS-485 connector <b>726</b> allows the chemistry sense module <b>700</b> to be connected to the low-speed RS-485 bus connector <b>22</b> of the main control panel <b>4.</b> Thus, data, including instructions, and power can be transmitted between the chemistry sense module <b>700</b> and the main control panel <b>4.</b> The logic supply <b>728</b> is connected with the RS-485 bus connector <b>726</b> and receives 12 VDC therefrom. The logic supply <b>728</b> provides 3.3 VDC to the RS-485 transceiver <b>724</b> and<!-- EPO <DP n="36"> --> an oscillator/transformer driver <b>730.</b> The RS-485 transceiver <b>724</b> sends and receives information from and between the chemistry sense module processor <b>708</b> and the RS-485 connector <b>726.</b> The oscillator/transformer driver <b>730</b> receives 3.3 VDC from the logic supply <b>728</b> and inductively couples with an isolated logic supply <b>732</b> across the isolation barrier <b>706.</b> The isolated logic supply <b>732</b> provides 3.3 VDC to the RS-485 transceiver <b>724,</b> the power supply <b>720,</b> and an analog-to-digital (A/D) converter <b>734.</b> The analog-to-digital converter <b>735</b> includes a serial port <b>736</b> that connects with the serial port <b>722</b> provided on the chemistry sense module processor <b>708.</b> This connection allows data to be transferred from the A/D converter <b>734</b> to the chemistry sense module processor <b>708.</b> The first section <b>702</b> further includes a pH sensor connector <b>738,</b> and an ORP sensor connector <b>740.</b> A pH sensor <b>742</b> can be connected to the pH sensor connector <b>738,</b> while an ORP sensor <b>744</b> can be connected to the ORP sensor connector <b>740.</b> The pH sensor connector <b>738</b> is connected with a first low noise amplifier <b>746,</b> which is provided with 3.3 VDC by the isolated logic supply <b>732.</b> The first low noise amplifier <b>746</b> amplifies the signal provided by the pH sensor, and provides this amplified signal to the A/D converter <b>734.</b> The first low noise amplifier is also connected with a second low noise amplifier <b>748</b> and a 1.225 VDC reference voltage <b>750.</b> The second low noise amplifier <b>748</b> receives and amplifies a signal provided by the ORP sensor, and provides this amplified signal to the A/D converter <b>734.</b> The 2.335 VDC reference voltage <b>750</b> provides a fixed voltage to the A/D converter <b>734.</b> The parameters sensed by the pH sensor <b>742</b> and the ORP sensor <b>744</b> can be provided to the main control panel <b>4.</b></p>
<p id="p0095" num="0095"><figref idref="f0018"><b>FIG. 11</b></figref> is a block diagram of a radio frequency (RF) base station <b>800</b> of the present disclosure. The RF base station <b>800</b> is connectable to a panel, e.g., a main panel <b>4</b> or an expansion panel <b>54,</b> and allows the connected panel to communicate with a wireless communication device. The RF base station <b>800</b> includes a gateway processor <b>802</b> and a radio module processor <b>804.</b> The gateway processor <b>802</b> includes internal nonvolatile memory <b>806,</b> internal RAM <b>808,</b> and internal FLASH memory <b>810.</b> The gateway processor <b>802</b> also includes a first serial port <b>812</b> and a second serial port <b>814.</b></p>
<p id="p0096" num="0096">The radio module processor <b>804</b> includes internal nonvolatile memory <b>816,</b> internal RAM <b>818,</b> and internal FLASH memory <b>820.</b> The radio module processor <b>804</b> also includes a serial port <b>822,</b> a serial peripheral interface (SPI) bus port <b>824,</b> and a chip select control line <b>826.</b> The first serial port <b>812</b> of the gateway processor <b>812</b> is connected with the serial port <b>822</b> of the radio module processor <b>804,</b> such that the gateway processor <b>812</b> and the radio module processor <b>804</b> are in communication.<!-- EPO <DP n="37"> --></p>
<p id="p0097" num="0097">The RF base station <b>800</b> includes an RS-485 connector <b>828</b> that is connected with an RS-485 transceiver <b>830,</b> a logic power supply <b>832,</b> and a radio power supply <b>834.</b> The RS-485 connector <b>828</b> allows the RF base station <b>800</b> to be connected to the external high-speed RS-485 bus connector <b>14</b> of the main control panel <b>12,</b> such that the RF base station <b>800</b> can communicate with the MPP <b>8.</b> RS-485 transceiver <b>830</b> sends and receives information from and between the gateway processor <b>814</b> and the MPP <b>8.</b> The RS-485 connector receives 12 VDC from the external high-speed RS-485 bus connector <b>14,</b> and provides the logic power supply <b>832</b> and the radio power supply <b>834</b> with 12VDC. The logic power supply <b>832</b> provides the gateway processor <b>812</b> and the RS-485 transceiver <b>830</b> with 3.3 VDC. The radio power supply <b>834</b> provides the radio module processor <b>804,</b> a reset/brownout detector <b>836,</b> and a radio frequency integrated circuit <b>838</b> with 3.3 VDC. The reset/brownout detector <b>836</b> is connected with the radio module processor <b>804</b> and detects a drop in voltage being provided to the radio frequency base station <b>800.</b> The radio frequency integrated circuit <b>838</b> is connected with the SPI bus port <b>824</b> and the chip select control line <b>826</b> of the radio module processor <b>804.</b> The radio frequency integrated circuit <b>838</b> is connected with a balanced low-pass filter <b>840.</b> The balanced low-pass filter <b>840</b> is connected with a balun <b>842,</b> which is connected with an unbalanced low-pass filter <b>844.</b> The unbalanced low-pass filter <b>844</b> is connected with a PCB antenna <b>846.</b> The PCB antenna <b>846</b> transmits and receives information utilizing radio waves. The PCB antenna <b>846</b> can transmit and receive information from, for example, the wireless terminal <b>58a</b> of <figref idref="f0012 f0013"><b>FIG. 8A</b></figref> that incorporates a radio module or the wireless terminal <b>58b</b> of <figref idref="f0014 f0015"><b>FIG. 8B</b></figref> that incorporates an 802.11 radio module. When the radio base station <b>800</b> is connected with the main control panel <b>12,</b> the main control panel <b>12</b> can receive and transmit information from external wireless sources. This information can be control information, but can also be status updates, sensor information, and programming instructi ons.</p>
<p id="p0098" num="0098">The RF base station <b>800</b> could be a radio frequency hopping spread spectrum radio operating in a suitable band of 902 MHz to 928 MHz. Further, the processing power of the wired interface, which connects to the system bus and allows the RF base station <b>800</b> to be discovered and communicate as a smart component, can be increased to accommodate an increased capacity of the RF interface if desired.</p>
<p id="p0099" num="0099"><figref idref="f0019 f0020 f0021 f0022 f0023"><b>FIGS. 12-16</b></figref> are flow charts showing the steps for installing and programming programmable modular relay packs/banks, smart components, and expansion panels of the present disclosure. <figref idref="f0019"><b>FIG. 12</b></figref> shows a modular relay pack installation flow chart <b>900</b> indicating steps for installing and configuring a relay pack/bank. In step <b>902,</b> a relay pack/bank is<!-- EPO <DP n="38"> --> inserted into a relay pack/bank socket of the main panel, or the expansion panel, to incorporate the programmable modular relay pack/bank into the pool or spa system controller when the control panel is powered down. In step <b>904,</b> pool/spa equipment and devices are connected to the high voltage relays of the relay pack/bank. The control panel that the relay pack/bank has been inserted into is turned on in step <b>906.</b> In step <b>908,</b> the respective panel processor, e.g., the main panel processor or the expansion panel processor, detects the presence of the relay pack/bank. In step <b>910,</b> the MSP begins the next scheduled background discovery process to discover the relay pack/bank. In step <b>912,</b> it is determined if the discovery was successful, e.g., if the relay pack/bank was successfully discovered. If the relay pack/bank is discovered, then in step <b>914</b> the relay pack/bank, e.g., each relay of the relay pack/bank, is programmed and/or configured for particular operations using the local terminal, handheld remote control unit, wired control unit, wireless device, and/or the remote terminal. During programming in step <b>914,</b> the relays are mapped to the devices such that a user can easily determine what relay is associated with what device. Alternatively, if during step <b>912</b> the relay pack/bank is not discovered, the MSP determines if there are remaining discovery retries at step <b>918.</b> If there are remaining retries, the system returns to step <b>910</b> and reattempts discovery. However, if there are no remaining retries, the discovery process moves to step <b>920</b> where an error condition is indicated and the installation procedure ends. The amount of times the MSP retries discovery can be factory set, or can be a setting that a user can alter at the local terminal.</p>
<p id="p0100" num="0100"><figref idref="f0020"><b>FIG. 13</b></figref> is a flow chart <b>1000</b> showing steps for installing and integrating a smart component with the main panel or the expansion panel. In step <b>1002,</b> a smart component is inserted into or connected to either the main panel, or the expansion panel, to incorporate the smart component into the pool or spa system controller when the control panel is powered down. The smart component can, for example, be connected with the low-speed external RS-485 bus connector <b>22</b> of the main control panel <b>4.</b> In step <b>1004,</b> the smart component is installed to the appropriate pool equipment and secures the component to a pool pad if necessary. For example, if the smart component is a variable speed pump, the pump may be connected to the necessary piping and bolted to the pool pad. In step <b>1006,</b> the control panel into which the smart component has been inserted is turned on. In step <b>1008,</b> the MSP begins the next scheduled background discovery process. In step <b>1010,</b> it is determined whether the discovery was successful, e.g., if the smart component was successfully discovered. If the smart component is discovered, then in step <b>1012</b> the smart component is programmed and/or configured for particular operations using the local terminal, handheld remote control unit,<!-- EPO <DP n="39"> --> wired control unit, wireless device, and/or the remote terminal. Alternatively, if during step <b>1010</b> the smart component is not discovered, the MSP determines if there are remaining discovery retries at step <b>1014.</b> If there are remaining retries, the system returns to step <b>1008</b> and reattempts discovery. However, if there are no remaining retries, the discovery process moves to step <b>1016</b> where an error condition is indicated and the installation procedure ends. The amount of times the MSP retries discovery can be factory set, or can be a setting that a user can alter at the local terminal.</p>
<p id="p0101" num="0101"><figref idref="f0021"><b>FIG. 14</b></figref> is a flow chart <b>1100</b> showing the installation of a relay pack/bank to a main panel or an expansion panel of an existing system. In step <b>1102,</b> a relay pack/bank is inserted into a relay pack/bank socket of the main panel, or the expansion panel, to incorporate the programmable modular relay pack/bank into the pool or spa system controller. When inserted, the MSP can detect the presence of the relay pack/bank. In step <b>1104,</b> the MSP broadcasts a query across the system looking for undiscovered devices. In step <b>1106,</b> the newly inserted relay pack/bank broadcasts a response. In step <b>1108,</b> it is determined if the relay pack/bank response broadcast was received by the MSP. If the relay pack/bank response broadcast is not received by the MSP, then the MSP determines if there are remaining discovery retries at step <b>1110.</b> If there are remaining retries, the system returns to step <b>1104</b> and rebroadcasts the query for undiscovered devices. If there are no remaining retries, the discovery process moves to step <b>1112</b> where an error condition is indicated and the discovery procedure ends. The amount of times the MSP retries discovery can be factory set, or can be a setting that a user can alter at the local terminal. However, if the MSP receives the response from the relay pack/bank in step <b>1108,</b> the process moves to step <b>1114</b> where the MSP sends a message to the relay pack/bank assigning it a network address. Additionally, in step <b>1114,</b> the MSP can authenticate the relay pack/bank that was discovered. In step <b>1116,</b> the relay pack/bank sends a response message to the MSP. The relay pack/bank response message can include affirmation of network address assignment as well as a information regarding the relay pack/bank, e.g., capabilities, firmware revision, location, etc. In step <b>1118,</b> it is determined if the relay pack/bank response broadcast was received by the MSP. If the relay pack/bank response broadcast is not received by the MSP, then the MSP determines if there are remaining discovery retries at step <b>1120.</b> If there are remaining retries, the system returns to step <b>1114</b> and resends the message to the relay pack/bank. If there are no remaining retries, the discovery process moves to step <b>1122</b> where an error condition is indicated and the discovery procedure ends. If the relay pack/bank response broadcast is received by the MSP begins to record the information received from the relay pack/bank. That is, in step <b>1124</b> the<!-- EPO <DP n="40"> --> MSP records the relay pack/bank capabilities, firmware revision, and system location, e.g., which panel the relay pack/bank is physically located in. The relay pack/bank is now fully functional and programmable using the local terminal, handheld remote control unit, wired control unit, wireless device, and/or the remote terminal.</p>
<p id="p0102" num="0102"><figref idref="f0022"><b>FIG. 15</b></figref> is a flow chart <b>1200</b> showing steps for installing a smart component to a main panel or an expansion panel of an existing system. In step <b>1202,</b> a smart component is inserted into or connected to either the main panel, or the expansion panel, to incorporate the smart component into the pool or spa system controller. In step <b>1204,</b> the MSP broadcasts a query across the system looking for undiscovered devices. In step <b>1206,</b> the newly connected smart component broadcasts a response. In step <b>1208,</b> it is determined if the smart component response broadcast was received by the MSP. If the smart component response broadcast is not received by the MSP, then the MSP determines if there are remaining discovery retries at step <b>1210.</b> If there are remaining retries, the system returns to step <b>1204</b> and rebroadcasts the query for undiscovered devices. If there are no remaining retries, the discovery process moves to step <b>1212</b> where an error condition is indicated and the discovery procedure ends. The amount of times the MSP retries discovery can be factory set, or can be a setting that a user can alter at the local terminal. If the MSP receives the response from the smart component in step <b>1208,</b> the process moves to step <b>1214</b> where the MSP sends a message to the smart component assigning it a network address. Additionally, in step <b>1214,</b> the MSP can authenticate the smart component that was discovered. In step <b>1216,</b> the smart component sends a response message to the MSP. The smart component response message can include affirmation of network address assignment as well as a information regarding the smart component, e.g., capabilities, firmware revision, location, etc. In step <b>1218,</b> it is determined if the smart component response broadcast was received by the MSP. If the smart component response broadcast is not received by the MSP, then the MSP determines if there are remaining discovery retries at step <b>1220.</b> If there are remaining retries, the system returns to step <b>1214</b> and resends the message to the smart component. If there are no remaining retries, the discovery process moves to step <b>1222</b> where an error condition is indicated and the discovery procedure ends. However, if the relay smart component broadcast is received by the MSP begins to record the information received from the smart component. That is, in step <b>1224</b> the MSP records the smart component capabilities, firmware revision, and system location, e.g., which panel the relay pack/bank is physically located in. The smart component is now fully functional and programmable using the local terminal, handheld remote control unit, wired control unit, wireless device, and/or the remote terminal.<!-- EPO <DP n="41"> --></p>
<p id="p0103" num="0103"><figref idref="f0023"><b>FIG. 16</b></figref> is a flow chart <b>1300</b> showing steps for installing an expansion panel. In step <b>1302,</b> an expansion panel is installed at a desired and/or appropriate location, e.g., in the vicinity of a pool or on a pool pad. In step <b>1304,</b> the desired pool/spa equipment/devices are connected to the expansion panel. In step <b>1306,</b> the main panel is turned off and the expansion panel is connected to the main panel or a previously installed expansion panel. The expansion panel can be connected to, for example, the external high-speed R-485 bus connector <b>14</b> of the main control panel <b>4.</b> In step <b>1308,</b> the control panel that the smart component has been connected to is turned on. When connected, the MPP can detect the presence of the expansion panel. In step <b>1310,</b> the MSP begins the next scheduled background discovery process. In step <b>1312,</b> it is determined if the discovery was successful, e.g., if the expansion panel was successfully discovered. If the expansion panel is discovered, then in step <b>1314</b> the expansion panel and all equipment/devices connected thereto are programmed and/or configured for particular operations using the local terminal, handheld remote control unit, wired control unit, wireless device, and/or the remote terminal. At this point, installation is complete. Alternatively, if during step <b>1312</b> the expansion panel is not discovered, the MSP determines if there are remaining discovery retries at step <b>1316.</b> If there are remaining retries, the system returns to step <b>1310</b> and reattempts discovery. However, if there are no remaining retries, the discovery process moves to step <b>1318</b> where an error condition is indicated and the installation procedure ends. The amount of times the MSP retries discovery can be pre-set, or can be a setting that a user can alter at the local terminal.</p>
<p id="p0104" num="0104">Once a relay pack/bank, smart component, and/or expansion panel is successfully installed, the central processor stores all information related thereto, e.g., network addresses, locations, capabilities, firmware, etc., so that the installed relay pack/banks, smart components, and expansion panels do not need to be re-discovered each time the control system <b>2</b> is turned off or experiences a fault condition.</p>
<p id="p0105" num="0105">The control system <b>2</b> can be configured to control multiple bodies of water, with each body of water having its own associated equipment such as a filter, pump, chlorinator, chemistry sense unit, and multiple dedicated heaters, for example. For example, a recreational facility can have five bodies of water to be controlled, each of which is capable of being programmed into the control system <b>2.</b> Further, multiple bodies of water can be grouped as a dual equipment subset, e.g., a baby pool and a wading pool at a recreational facility. Additionally, multiple configurations of a pool/spa arrangement can be set up. Sample configurations include: pool only, spa only, pool and spa sharing single equipment, pool and spa with separate equipment and separate heaters, pool and spa with separate equipment and<!-- EPO <DP n="42"> --> shared heaters, etc. Various permutations of the above configurations are also possible for those situations where there are 3 or more bodies of water. The pool configurations can be specified by a user through the GUI and the control system <b>2</b> itself, or can be prepared on the manufacturer website and downloaded to the control system <b>2</b> via the Internet or a USB memory stick. In all instances, the pool configuration file can be stored in persistent memory in the control panel <b>4.</b></p>
<p id="p0106" num="0106">To the extent that there are multiple bodies of water, there can be a requirement for multiple separate chlorinators with each chlorinator servicing an individual body of water. In these situations, a user could provide a plurality of expansion panels <b>54</b> in electrical connection with the main control panel <b>4</b> with each chlorinator connected to a respective expansion panel <b>54.</b> For example, if a pool/spa has 5 independent bodies of water, a user can provide a main control panel <b>4,</b> a first expansion panel <b>54</b> connected to the expansion slot <b>20</b> of the main control panel <b>4,</b> and three additional expansion panels <b>54</b> connected to each one of the expansion slots <b>188a-188c</b> of the first expansion panel <b>54.</b> In this arrangement, the main control panel <b>4</b> allows for one chlorinator to be attached thereto, while each of the four additional expansion panels <b>54</b> allow one chlorinator to be attached to each, resulting in 5 chlorinators for the entire system. Furthermore, where a body of water is sufficiently large enough, a user can program multiple chlorinators to operate on the single body of water.</p>
<p id="p0107" num="0107">A user can also name each relay that is discovered by the main panel processor <b>8,</b> or each relay can be named from a pre-defined list of names. Also, a user can set-up timer operations that can be assigned to any relay, valve, light show, group, or mode of the system. Each device can have multiple on/off timers assigned thereto, with each timer allowing for the specification of standard settings (e.g., every day, weekday only, weekend only, etc.), a list of days of the week, and/or time-periods (e.g., 6 a.m. to 6 p.m., dusk to dawn, dusk to countdown, dawn to countdown, etc.). The timers can have a 1 minute resolution such that the user can specify the timer in increments of 1 minute.</p>
<p id="p0108" num="0108">As discussed previously, the control system 2 is capable of controlling various devices associated with a pool/spa, including, but not limited to: heaters, chemistry sense and dispense systems, variable speed pumps, and lights. When a heater is connected to the control system <b>2</b> along with a variable speed pump, the control system <b>2</b> will permit a user to specify a minimum pump speed for optimal heater functionality. Alternatively, where sensors are installed with the system, including at the input and output of the heater and the variable speed pump, the control system <b>2</b> could determine the minimum pump speed for optimal heater functionality and could vary the speed of the pump to maintain an efficient temperature<!-- EPO <DP n="43"> --> rise in the pool/spa. This could be presented as an option to the user. The control system <b>2</b> can also include energy management algorithms, as discussed previously, and heater control algorithms that can prioritize heating elements. For example, where there are solar collectors connected to the pool/spa system for solar heating, the control system <b>2</b> can execute an algorithm that will give priority to solar heating, and pump pool water through the solar collectors, when possible. This solar heat control can involve the control system <b>2</b> controlling a valve to send water to the solar collectors and/or the selection of a relay to operate a booster pump to send water to the panels. Additionally, the control system <b>2</b> can be programmed to determine the minimum flow requirements for the solar collectors, and operate a variable speed pump at the required speed. The control system <b>2</b> can also be able to operate the solar collectors in a nocturnal cooling mode where water is pumped through the solar collectors at night if the temperature in the solar collectors is less than the pool temperature by a specified minimum temperature difference. Similarly, the control system <b>2</b> can be utilized for pool cooling. This operation could involve the control system <b>2</b> automatically controlling an aerator, which can be done as a timed control of a valve and control of a heat pump that supports cooling. Where a heat pump is utilized, it can be switched from heating to cooling mode.</p>
<p id="p0109" num="0109">The control system <b>2</b> permits separate and independent chemistry sense or chemistry sense and dispense systems for each body of water that can be configured in the pool/spa system. The chemistry sense system can be implemented via a chemistry sense module, discussed previously, which includes two probe inputs, namely, a pH probe and an oxidation reduction potential probe. The chemistry dispense system can be implemented via a high voltage relay that could be used to control a CO<sub>2</sub> gas flow or an acid pump. For a body of water that includes a chemistry sense module, a chlorinator, and a pH dispense, the firmware of the control system <b>2</b> could allow configuration of a pH control mode (e.g., disabled, automatic, forced on with a time limit) and an oxidation reduction potential control mode (e.g., automatic or timed percentage). Additionally, the firmware could allow the user to select both a pH and an oxidation reduction potential set point and high/low alarms. Alternatively, for a body of water that includes a chemistry sense module, and a chlorinator, but not a pH dispense feature, the firmware of the control system <b>2</b> could display the pH reading when there is flow, and allow configuration of an oxidation reduction potential control mode (e.g., automatic or timed percentage). Additionally, the firmware could allow the user to select an oxidation reduction potential set point and high/low alarms. The control system <b>2</b> can also allow the user to input different set points, alarm levels, and timeout levels<!-- EPO <DP n="44"> --> for each body of water that safeguard against making the water too acidic or too highly chlorinated.</p>
<p id="p0110" num="0110">The control system <b>2</b> is capable of communicating with the main panel RS-485 bus connectors <b>14, 22,</b> the expansion panel RS-485 bus connectors <b>226,</b> and/or the relay pack relays <b>56a-56d.</b> The control system <b>2</b> firmware is capable of controlling the operation speed of a variable speed pump, and can provide a menu for the variable speed pump that could be displayed on the GUI of the local terminal <b>28,</b> a handheld remote control unit <b>58a, 58b,</b> or a wireless device <b>61.</b> The menu can show various operating parameters of the variable speed pump, such as operating speed (both in revolutions per minute (RPM) and percentage of maximum), current power output, current power usage, etc. Furthermore, the firmware can display all alarm indications generated by the pump on the GUI of the local terminal <b>28,</b> a handheld remote control unit <b>58a, 58b,</b> or a wireless device <b>61.</b></p>
<p id="p0111" num="0111">The control system <b>2</b> is capable of controlling various lights and lighting protocols, e.g., COLORLOGIC underwater pool/spa lights produced by Hayward Industries, Inc., including both networked and non-networked lights. The control system <b>2</b> can control the lights by automating the power sequencing of the control relay to which the lights are connected. Multiple lights can be connected to a single relay such that the control system <b>2</b> controls a plurality of lights through the single relay. The control system <b>2</b> firmware is capable of providing a simple control system that can include a menu system. The simple control and or menu system can be displayed on the GUI of the local terminal <b>28,</b> a handheld remote control unit <b>58a, 58b,</b> or a wireless device <b>61,</b> and can implement sliders and other graphical representations to allow a user to more easily select custom colors and lighting schemes.</p>
<p id="p0112" num="0112">The firmware of the control system <b>2</b> can also provide interlocks and freeze protection to a variety of devices that can be connected thereto. The firmware allows the user to select and configure interlocks that prevent any output from changing state unless the interlocking condition is corrected. The firmware provides an interface that allows the user to configure a freeze protect temperature for the system.</p>
<p id="p0113" num="0113">The control system <b>2</b> includes a GUI that can be replicated at each device connected to the control system <b>2</b> (e.g., a local terminal <b>28,</b> a handheld remote control unit <b>58a, 58b</b> (wireless or wired), a wireless device <b>61</b> (smart phone/table), a website accessible by the Internet, or a locally-served web page accessible by a computer) and used for controlling the control system <b>2.</b> The GUI can include a "home page" having multiple icons representing different actions, or predefined controls, of the pool/spa system. These icons can represent<!-- EPO <DP n="45"> --> individual devices, e.g., lights or valves, or can be a full pre-defined set of actions/control parameters, e.g., a full light and water fountain show. A user can create custom icons/buttons representing his/her "favorites" or most utilized actions. The user can place these favorite icons on the home page and rearrange the icons so that they are placed in a desired location on the screen. Additionally, the GUI can include alarm notification capabilities, such that when an alarm condition occurs, the appropriate icon representing the device producing the alarm condition can be moved to a more visible location on the GUI so that it is viewed by the user. The alarm notification can be a blinking red (representing an alarm condition) or orange (representing a warning condition) light or glow surrounding the icon, and/or can be a red or orange glow surrounding the perimeter of the GUI or on a single side of the GUI. Additionally, a user can customize the alarm notification system so that the control system 2, when connected to the Internet, e-mails the user the alarm notification or posts the alarm notification on a social networking (e.g., Twitter) account owned by the user. The firmware can also include a diagnostics menu that illustrates any failed components diagnostics, e.g., which relay, actuator, board, sensor, etc. failed.</p>
<p id="p0114" num="0114"><figref idref="f0024"><b>FIG. 17A</b></figref> is a GUI <b>1300</b> generated by the system for allowing a user to control multiple pool/spa systems, using a home screen. The GUI <b>1300</b> is divided into a plurality of sections including a date and time section <b>1302,</b> a weather report section <b>1304,</b> a sunrise/sunset section <b>1306,</b> a first body of water control section <b>1308,</b> and a second body of water control section <b>1310.</b> The first and second body of water control section <b>1308, 1310</b> represent the pool/spa systems that are connected with a main control panel. The control sections <b>1308, 1310</b> include a title <b>1312</b> that is user-assignable during configuration and denotes what system each control section respectively controls. Here, the first body of water control section <b>1308</b> is titled "LUCY'S POOL" while the second body of water control section <b>1310</b> is titled "LUCY'S SPA." The control sections <b>1308, 1310</b> also include a current water temperature <b>1314</b> of the respectively controlled system. Further, the control sections <b>1308, 1310</b> include a plurality of control bars that allow control of various devices connected to each respective system. The control bars include, for example, a temperature control slide bar <b>1316,</b> a heater source control bar <b>1318,</b> a filter control bar <b>1320,</b> a chlorinator control bar <b>1322,</b> a pH control bar <b>1324,</b> and an ORP control bar <b>1326.</b> The temperature control bars <b>1316</b> allow a user to the temperature they want the respective body of water to be. As shown in <figref idref="f0024"><b>FIG. 17A</b></figref><b>,</b> the temperature control bars <b>1316</b> can be a slide bar; however, they may also be in the form of up/down arrows, or a value input box. The heater source control bar <b>1318</b> allows a user to select between a plurality of heater sources that are connected to the system. For<!-- EPO <DP n="46"> --> example, the heater source control bar <b>1318</b> for the first body of water control section <b>1308</b> is set for a solar heater, while the heater source control bar <b>1318</b> for the second body of water control section <b>1310</b> is set for a gas heater. When a user clicks on the heater source control bar <b>1318,</b> a drop down menu may appear that allows the user to select from all of the heat sources connected to the system. This drop down menu can be automatically updated each time the system discovers a new heat source. The filter control bar <b>1320</b> allows a user to set the speed of a filter pump as well as turn the filter on/off. Similarly, the chlorinator control bar <b>1322,</b> pH control bar <b>1324,</b> and ORP control bar <b>1326</b> allow a user to turn on or off a respective chlorinator, pH dispense system, and ORP system that is connected with the main control panel. When a device is powered off, the respective control bar may turn a different color, or fade to gray, to allow quick recognition of which devices are off. The GUI <b>1300</b> can also include a power button <b>1328,</b> a home button <b>1330,</b> a pool light control button <b>1332,</b> and an alarm viewing button <b>1334.</b> The power button <b>1328</b> allows a user to close the GUI <b>1300</b> and return to the normal device screen, while the home button <b>1330</b> allows a user to return to the home GUI screen, which may be the screen illustrated in <figref idref="f0024"><b>FIG. 17A</b></figref><b>.</b></p>
<p id="p0115" num="0115"><figref idref="f0025"><b>FIG. 17B</b></figref> shows the GUI <b>1300</b> generated by the system and configured for allowing a user to control multiple pool/spa systems using a feature screen. The GUI <b>1300</b> includes the date and time section <b>1302,</b> weather report section <b>1304,</b> and sunrise/sunset section <b>1306</b> as shown in <figref idref="f0024"><b>FIG. 17A</b></figref><b>;</b> however, as shown in <figref idref="f0025"><b>FIG. 17B</b></figref><b>,</b> a "feature" menu. The feature menu includes a selection screen <b>1336</b> that lists all of the features of a user's pool/spa system, e.g., all of the devices that are connected to, installed with, and recognized by the main control panel. These devices can be, for example, heaters, filters, pumps, sensors, chemistry dispense systems, fire pits, lights, water features (e.g., fountains), displays, spa blowers, and/or spa jets, among others. Each of the listed features is a clickable button that will take the user to a screen specific to that feature, allowing the user to alter that feature's parameters and options. This is discussed in greater detail with regard to <figref idref="f0026"><b>FIG. 17C</b></figref> below. The GUI <b>1300</b> also includes a plurality of quick option icons that may illustrate error/warning notifications, devices that require attention, or settings. For example, the GUI <b>1300</b> includes an error/warning notification icon <b>1338,</b> a heater source icon <b>1340,</b> a chemistry dispense system icon <b>1342,</b> and a settings icon <b>1344.</b> Accordingly, a user may click on any one of the icons <b>1338, 1340, 1342, 1344</b> to quickly pull-up a screen that informs the user of the notification message, or brings the user to a screen where the user can rectify the error that prompted the notification. Devices that are not incorporated into the system may be a different color than those that are installed, for example, they may be darker or grayed out.<!-- EPO <DP n="47"> --></p>
<p id="p0116" num="0116"><figref idref="f0026"><b>FIG. 17C</b></figref> shows the GUI <b>1300</b> displaying a screen for controlling a chemistry dispense system. Specifically, after a user clicks on the chemistry button from <figref idref="f0025"><b>FIG. 17B</b></figref><b>,</b> the GUI <b>1300</b> pulls up a device screen <b>1346</b> that is specific to the device selected at the feature menu selection screen <b>1336,</b> here, the chemistry dispense system. The device screen <b>1346</b> includes a title <b>1348</b> that lists that device name and the body of water that the device is for. The device screen <b>1346</b> includes a plurality of parameter/option sections <b>1350,</b> 1352. The number of parameter sections and their purpose is dependent on the device selected. Here, the device screen <b>1346</b> includes an ORP settings section <b>1350</b> and a chlorination settings section <b>1352</b> that each include various settings that can be altered. For example, the ORP settings section <b>1350</b> includes a slide bar for altering the ORP level and a timeout timer, while the chlorination settings section <b>1352</b> includes a slide bar for altering the chlorination level, a super chlorination button, and a timeout timer.</p>
<p id="p0117" num="0117">Additionally, the GUI <b>1300</b> can include a background colored to represent the status of the pool/spa system and/or an error condition. For example, the background can be blue when the pool/spa system selected is running normally, yellow when there is a warning condition, or red when there is an error condition. Similarly, the first body of water control section <b>1308</b> and the second body of water control section <b>1310</b> of the GUI <b>1300</b> can each have colored background that can similarly indicate the status of the respective pool/spa system. This functionality allows a user to easily and quickly identify if a pool/spa system is functioning properly. Alternatively, or additionally, the GUI <b>1300</b> can include an outer frame that can be colored to represent the operating status and/or an error condition of the selected pool/spa systems.</p>
<p id="p0118" num="0118"><figref idref="f0027"><b>FIGS. 18A-18C</b></figref> are sample notification pop-up messages that can be generated by the system. When an event occurs in a device of the control system, a pop-up message may appear in the GUI that is displayed on a user's control device. <figref idref="f0027"><b>FIG. 18A</b></figref> shows a sample normal pop-up <b>1356.</b> The normal pop-up <b>1356</b> includes a message <b>1358</b> and an acknowledge button <b>1360.</b> The message <b>1358</b> for the normal pop-up <b>1356</b> can alert a user to various standard operating occurrences, such as the switching on of a device, or can let a user know that a scheduled event has begun. To close the normal pop-up <b>1356</b> a user can click on the acknowledge button <b>1360.</b> <figref idref="f0027"><b>FIG. 18B</b></figref> shows a sample warning pop-up <b>1362.</b> The normal pop-up <b>1362</b> includes a warning message <b>1364</b> and an acknowledge button <b>1366.</b> The warning message <b>1364</b> for the warning pop-up <b>1362</b> can alert a user to a condition that has occurred in the system, but is not serious. For example, the warning pop-up <b>1362</b> can notify a user that using a specified heat source will be less efficient than another available heat source. To close<!-- EPO <DP n="48"> --> the warning pop-up <b>1362</b> a user can click on the acknowledge button <b>1366.</b> <figref idref="f0027"><b>FIG. 18C</b></figref> shows a sample alert pop-up message <b>1368.</b> The alert pop-up <b>1368</b> includes a message <b>1370</b> and an acknowledge button <b>1372.</b> The alert message <b>1370</b> for the alert pop-up <b>1368</b> can alert a user to a series or dangerous condition that has occurred in the system that must be attended to immediately. For example, the alert pop-up <b>1368</b> can notify a user that a connected chlorination system is not functioning properly and the water is not chlorinated proper, or that a particular connected device is overheating, is broken, or is not responding. To close the alert pop-up <b>1368</b> a user can click on the acknowledge button <b>1372.</b> The normal pop-up <b>1356,</b> the warning pop-up <b>1362,</b> and the alert pop-up <b>1368</b> can each have a different background color that represents the severity of the message. For example, the normal pop-up <b>1356</b> can have a blue background, the warning pop-up <b>1362</b> can have a yellow background, and the alert pop-up <b>1368</b> can have a red background. This allows a user to quickly identify the severity of the condition that or message that they are being alerted to. Further, the pop-ups <b>1356, 1362, 1368</b> can flash to get a user's attention when necessary.</p>
<p id="p0119" num="0119"><figref idref="f0028"><b>FIGS. 19A-19B</b></figref> are pop-up screens generated by the system for changing the time and date of the system. <figref idref="f0028"><b>FIG. 19A</b></figref> is a screenshot of a time change pop-up <b>1374</b> that includes a selection bar <b>1376</b> allowing a user to choose between altering the time or the date. The time change pop-up <b>1374</b> includes an up-arrow <b>1378</b> and a down-arrow <b>1380</b> that alter the selected time element <b>1382,</b> e.g., hour, minute, and meridiem antecedent. A user can click on the hour value, minute value, or meridiem antecedent, and subsequently click on the up-arrow <b>1378</b> or the down-arrow <b>1380</b> to adjust the selected element to the correct value. Further, the time change pop-up <b>1374</b> includes a 12H button <b>1384</b> and a 24H button <b>1386</b> that allows a user to switch the clock from a 12-hour clock to a 24-hour clock. The user can then click the accept button <b>1388</b> to accept the changes and close the pop-up <b>1374,</b> or the reject button <b>1390</b> to reject the changes and close the pop-up <b>1374.</b> <figref idref="f0028"><b>FIG. 19B</b></figref> is a screenshot of a date change pop-up <b>1392</b> that includes a selection bar <b>1394</b> allowing a user to choose between altering the time or the date. The date change pop-up <b>1392</b> includes an up-arrow <b>1396</b> and a down-arrow <b>1398</b> that alter the selected date element <b>1400,</b> e.g., month, day, and year. A user can click on the date, day value, or year value, and subsequently click on the up-arrow <b>1396</b> or the down-arrow <b>1398</b> to adjust the selected element to the correct value. The user can then click the accept button <b>1402</b> to accept the changes and close the pop-up <b>1392,</b> or the reject button <b>1404</b> to reject the changes and close the pop-up <b>1392.</b></p>
<p id="p0120" num="0120"><figref idref="f0029"><b>FIGS. 20A-20B</b></figref> are scheduler pop-up screens generated by the system for changing a device schedule. <figref idref="f0029"><b>FIG. 20A</b></figref> shows a scheduler pop-up <b>1406</b> that allows a user to schedule<!-- EPO <DP n="49"> --> operations for a pump. The scheduler pop-up <b>1406</b> includes a first scheduled event <b>1408,</b> a second scheduled event <b>1410,</b> and a third scheduled event <b>1412.</b> Each scheduled event <b>1408, 1410, 1412</b> includes a plurality of parameters that a user can adjust for scheduling purposes. For example, the user can schedule the time that the pump turns on and turns off, the speed that the pump operates at, and the repeat schedule for the timer (e.g., weekdays, weekends, all week, etc.). Accordingly, a user can schedule at least three operations for a pump that will occur automatically. As shown in <figref idref="f0029"><b>FIG. 20A</b></figref><b>,</b> the first scheduled event <b>1408</b> has the pump turning on at 8:00 A.M. at low-speed on every weekday and running until 10:30 P.M. The second scheduled event <b>1410</b> has the pump turning on and operating at high-speed from 9:00 A.M. until 11:00 P.M. every weekend. The third scheduled event <b>1412</b> has the pump switching to a custom speed everyday at 4:00 P.M. and running at this custom speed until 8:00 P.M. The scheduler pop-up <b>1406</b> also includes an up-arrow <b>1414</b> and a down-arrow <b>1416</b> that allow a user to alter the scheduled events <b>1408, 1410, 1412.</b> To alter any one of the scheduled events <b>1408, 1410, 1412,</b> a user can click on the event parameter, e.g., start time, finish time, speed, repeat schedule, and then click the up-arrow <b>1414</b> or the down-arrow <b>1416</b> to adjust the parameter. The scheduler pop-up <b>1406</b> can also include an on/off switch <b>1418, 1420, 1422</b> for each scheduled event <b>1408, 1410, 1412</b> that allows a user to turn the scheduled event <b>1418, 1420, 1422</b> on or off. The user can then click an accept button <b>1424</b> to accept any alterations made to the scheduled events <b>1408, 1410, 1412</b> and close the scheduler pop-up <b>1406,</b> or the reject button <b>1426</b> to reject the changes and close the scheduler pop-up <b>1406.</b> The scheduler pop-up <b>1406</b> includes a switch button <b>1428</b> that allows a user to switch the on/off switches <b>1418, 1420, 1422</b> to discard buttons <b>1420, 1432, 1434,</b> as shown in <figref idref="f0029"><b>FIG. 20B</b></figref><b>.</b> The discard buttons <b>1430, 1432, 1434</b> allow a user to discard scheduled events that he/she no longer wishes to save. <figref idref="f0029"><b>FIGS. 20A-20B</b></figref> show three scheduled events, however, it should be understood by one of ordinary skill in the art that more than three events can be scheduled based on the needs of the overall system.</p>
<p id="p0121" num="0121">The control system 2 can provide special modes of operation depending upon local, state, and country regulations. Some sample special modes of operation include: an operational mode with shared heaters and freeze protection functionality that allows a homeowner to operate the spa during the winter while the pool is in freeze protect mode, a custom valve operation mode that operates automatic valves used for a pool and spa with shared heaters. In such mode, the automatic valves can change state when the spa pump turns on to connect the heaters to the spa, and can return heater operation to the pool when the spa pump turns off. Of course, other modes are possible.<!-- EPO <DP n="50"> --></p>
<p id="p0122" num="0122">Having thus described the invention in detail, it is to be understood that the foregoing description is not intended to limit the scope thereof. It will be understood that the embodiments of the present invention described herein are merely exemplary and that a person skilled in the art may make any variations and modification without departing from the scope of the invention. All such variations and modifications, including those discussed above, are intended to be included within the scope of the invention.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="51"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>A method, including integrating a relay bank (32) for use with a pool or spa control system (2), comprising the steps of:
<claim-text>establishing electrical connection between the relay bank (32) and a control panel (4) of the pool or spa control system (2);</claim-text>
<claim-text>discovering the relay bank (32) by a processor (8) of the control panel (4); and</claim-text>
<claim-text>assigning the relay bank (32) a network address from the control panel (4) upon discovery of the relay bank (32).</claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The method of claim 1, wherein the step of discovering the relay bank (32) further comprises:
<claim-text>broadcasting a query for new devices from the processor (8) of the control panel (4);</claim-text>
<claim-text>transmitting a query response from the relay bank (32); and</claim-text>
<claim-text>receiving the query response from the relay bank (32) by the processor (8) of the control panel (4).</claim-text></claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The method of claim 2, further comprising the step of transmitting a second query response from the relay bank (32) if the query response transmitted from the relay bank (32) is not received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>The method of claim 3, further comprising the step of indicating an error condition if a number of query responses transmitted from the relay bank (32) is greater than a preset threshold without the query response transmitted from the relay bank (32) being received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>The method of claim 1, wherein the step of assigning the relay bank (32) a network address further comprises:
<claim-text>sending a message to the relay bank (32) which assigns the relay bank (32) a network address from the processor (8) of the control panel (4);</claim-text>
<claim-text>transmitting a network assignment response from the relay bank (32) that includes information about the relay bank (32);<!-- EPO <DP n="52"> --></claim-text>
<claim-text>receiving the network assignment response transmitted from the relay bank (32) by the processor (8) of the control panel (4); and</claim-text>
<claim-text>storing information included in the network assignment response into a memory of the control panel (4).</claim-text></claim-text></claim>
<claim id="c-en-01-0006" num="0006">
<claim-text>The method of claim 5, wherein the information about the relay bank (32) includes at least one of capabilities of the relay bank (32), firmware revision of the relay bank (32), and system location of the relay bank (32).</claim-text></claim>
<claim id="c-en-01-0007" num="0007">
<claim-text>The method of claim 6, further comprising the step of updating the firmware of the relay bank (32) with a firmware update file.</claim-text></claim>
<claim id="c-en-01-0008" num="0008">
<claim-text>The method of claim 5, further comprising the step of transmitting a second network assignment response from the relay bank (32) if the network assignment response is not received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0009" num="0009">
<claim-text>The method of claim 8, further comprising the step of indicating an error condition if a number of network assignment responses transmitted from the relay bank (32) is greater than a preset threshold without the network assignment response transmitted from the relay bank (32) being received by the processor (8) of the control pane (4).</claim-text></claim>
<claim id="c-en-01-0010" num="0010">
<claim-text>The method of claim 1, further comprising the step of configuring the relay bank (32) after the relay bank (32) has been assigned a network address, wherein the step of configuring the relay bank (32) further comprises mapping a specific function to at least one of a plurality of relays of the relay bank (32).</claim-text></claim>
<claim id="c-en-01-0011" num="0011">
<claim-text>The method of claim 10, wherein the step of configuring the relay bank (32) is performed using one of the control panel (4) and a remote control unit in communication with the control panel (4).<!-- EPO <DP n="53"> --></claim-text></claim>
<claim id="c-en-01-0012" num="0012">
<claim-text>The method of any preceding claim, further including integrating a smart component for use with the pool or spa control system (2) comprising the steps of:
<claim-text>establishing an electrical connection between the smart component and the control panel (4) of the pool or spa control system (2);</claim-text>
<claim-text>discovering the smart component by a processor (8) of the control panel (4); and</claim-text>
<claim-text>assigning the smart component a network address from the control panel (4) upon discovery of the smart component.</claim-text></claim-text></claim>
<claim id="c-en-01-0013" num="0013">
<claim-text>The method of claim 12, wherein the step of establishing an electrical connection between the smart component and the control panel (4) of the pool or spa control system (2) includes attaching the smart component to a connector of the control panel (4), wherein the control panel (4) is a main control panel (4).</claim-text></claim>
<claim id="c-en-01-0014" num="0014">
<claim-text>The method of claim 12, wherein the step of establishing an electrical connection between the smart component and a control panel (4) of the pool or spa control system (2) includes:
<claim-text>attaching the smart component to a relay of the relay bank (32) that is integrated with the control panel (4) wherein the control panel (4) is a main control panel (4); or</claim-text>
<claim-text>attaching the smart component to a relay of a second relay bank (32) that is integrated with the control panel (4) wherein the control panel (4) is a main control panel (4).</claim-text></claim-text></claim>
<claim id="c-en-01-0015" num="0015">
<claim-text>The method of claim 12, wherein the step of establishing an electrical connection between the smart component and a control panel (4) of the pool or spa control system (2) includes attaching the smart component to a connector of an expansion panel that is integrated with the control panel (4) wherein the control panel (4) is a main control panel (4).</claim-text></claim>
<claim id="c-en-01-0016" num="0016">
<claim-text>The method of claim 12, wherein the step of establishing an electrical connection between the smart component and a control panel (4) of the pool or spa control system (2) includes:
<claim-text>attaching the smart component to a relay of the relay bank (32) that is integrated with an expansion panel; or</claim-text>
<claim-text>attaching the smart component to a relay of a second relay bank (32) that is integrated with an expansion panel.</claim-text><!-- EPO <DP n="54"> --></claim-text></claim>
<claim id="c-en-01-0017" num="0017">
<claim-text>The method of claim 12, wherein the step of discovering the smart component further comprises:
<claim-text>broadcasting a query for new devices from the processor (8) of the control panel (4);</claim-text>
<claim-text>transmitting a query response from the smart component; and</claim-text>
<claim-text>receiving the query response from the smart component by the processor (8) of the control panel (4).</claim-text></claim-text></claim>
<claim id="c-en-01-0018" num="0018">
<claim-text>The method of claim 17, further comprising the step of transmitting a second query response from the smart component if the query response transmitted from the smart component is not received by the processor (8) of the control panel (4) wherein the control panel (4) is a main control panel (4).</claim-text></claim>
<claim id="c-en-01-0019" num="0019">
<claim-text>The method of claim 18, further comprising the step of indicating an error condition if a number of query responses transmitted from the smart component is greater than a preset threshold without the query response transmitted from the smart component being received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0020" num="0020">
<claim-text>The method of claim 12, wherein the step of assigning the smart component a network address further comprises:
<claim-text>sending a message to the smart component which assigns the smart component a network address from the processor (8) of the control panel (4);</claim-text>
<claim-text>transmitting a network assignment response from the smart component that includes information about the smart component;</claim-text>
<claim-text>receiving the network assignment response transmitted from the smart component by the processor (8) of the control panel (4); and</claim-text>
<claim-text>storing information included in the network assignment response into a memory of the control panel (4).</claim-text></claim-text></claim>
<claim id="c-en-01-0021" num="0021">
<claim-text>The method of claim 20, wherein the information about the smart component includes at least one of capabilities of the smart component, firmware revision of the smart component, and system location of the smart component.<!-- EPO <DP n="55"> --></claim-text></claim>
<claim id="c-en-01-0022" num="0022">
<claim-text>The method of claim 21, further comprising the step of updating the firmware of the smart component with a firmware update file.</claim-text></claim>
<claim id="c-en-01-0023" num="0023">
<claim-text>The method of claim 7 or claim 22, further comprising the step of receiving the firmware update file by the processor (8) of the control panel (4) from one of a removable memory connected to the control panel (4) and the Internet.</claim-text></claim>
<claim id="c-en-01-0024" num="0024">
<claim-text>The method of claim 20, further comprising the step of transmitting a second network assignment response from the smart component if the network assignment response is not received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0025" num="0025">
<claim-text>The method of claim 24, further comprising the step of indicating an error condition if a number of network assignment responses transmitted from the smart component is greater than a preset threshold without the network assignment response transmitted from the smart component being received by the processor (8) of the control panel (4).</claim-text></claim>
<claim id="c-en-01-0026" num="0026">
<claim-text>The method of claim 22, further comprising the step of configuring the smart component after it has been assigned a network address, wherein the step of configuring the smart component further comprises configuring the smart component to function for particular operations.</claim-text></claim>
<claim id="c-en-01-0027" num="0027">
<claim-text>The method of claim 26, wherein the step of configuring the smart component is performed using one of the control panel (4) and a remote control unit in communication with the control panel (4).</claim-text></claim>
<claim id="c-en-01-0028" num="0028">
<claim-text>The method of any preceding claim, further comprising integrating an expansion panel for use with the pool or spa control system (2) comprising the steps of:
<claim-text>establishing an electrical connection between the expansion panel and the control panel (4) of the pool or spa control system (2);<!-- EPO <DP n="56"> --></claim-text>
<claim-text>discovering the expansion panel by the processor (8) of the control panel (4); and</claim-text>
<claim-text>configuring the expansion panel from the control panel (4) upon discovery of the expansion panel.</claim-text></claim-text></claim>
<claim id="c-en-01-0029" num="0029">
<claim-text>The method of claim 28, further comprising the step of configuring one or more relay banks (32) and smart components integrated with the expansion panel.</claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="57"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Verfahren, einschließlich Integrieren einer Relaisbank (32) zur Verwendung mit einem Schwimmbad- oder Heilbad-Steuersystem (2), umfassend die folgenden Schritte:
<claim-text>Aufbauen einer elektrischen Verbindung zwischen der Relaisbank (32) und</claim-text>
<claim-text>einer Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2);</claim-text>
<claim-text>Erkennen der Relaisbank (32) durch einen Prozessor (8) der Steuertafel (4); und</claim-text>
<claim-text>bei Erkennung der Relaisbank (32) Zuweisen einer Netzwerkadresse von der Steuertafel (4) zu der Relaisbank (32).</claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Verfahren nach Anspruch 1, wobei der Schritt des Erkennens der Relaisbank (32) weiter Folgendes umfasst:
<claim-text>Aussenden einer Abfrage nach neuen Vorrichtungen von dem Prozessor (8) der Steuertafel (4);</claim-text>
<claim-text>Übertragen einer Antwort auf die Abfrage von der Relaisbank (32); und</claim-text>
<claim-text>Empfangen der Antwort auf die Abfrage von der Relaisbank (32) durch den Prozessor (8) der Steuertafel (4).</claim-text></claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Verfahren nach Anspruch 2, weiter umfassend den Schritt des Übertragens einer zweiten Antwort auf die Abfrage von der Relaisbank (32), wenn die von der Relaisbank (32) her übertragene Antwort auf die Abfrage nicht vom Prozessor (8) der Steuertafel (4) empfangen wird.</claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Verfahren nach Anspruch 3, weiter umfassend den Schritt des Anzeigens einer Fehlerbedingung, wenn eine Anzahl der von der Relaisbank (32) übertragenen Antworten auf die Abfrage größer ist als ein vorgegebener Schwellenwert ohne Empfangen der von der Relaisbank (32) übertragenen Antwort auf die Anfrage durch den Prozessor (8) der Steuertafel (4).</claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Verfahren nach Anspruch 1, wobei der Schritt des Zuweisens einer Netzwerkadresse zu der Relaisbank (32) weiter Folgendes umfasst:<!-- EPO <DP n="58"> -->
<claim-text>Senden einer Nachricht an die Relaisbank (32), die der Relaisbank (32) eine Netzwerkadresse zuweist, von dem Prozessor (8) der Steuertafel (4);</claim-text>
<claim-text>Übertragen einer Netzwerkzuweisungsantwort von der Relaisbank (32), die Informationen über die Relaisbank (32) aufweist;</claim-text>
<claim-text>Empfangen der von der Relaisbank (32) übertragenen</claim-text>
<claim-text>Netzwerkzuweisungsantwort durch den Prozessor (8) der Steuertafel (4); und</claim-text>
<claim-text>Abspeichern von in der Netzwerkzuweisungsantwort enthaltenen Informationen in einem Speicher der Steuertafel (4).</claim-text></claim-text></claim>
<claim id="c-de-01-0006" num="0006">
<claim-text>Verfahren nach Anspruch 5, wobei die Informationen über die Relaisbank (32) wenigstens eines von Fähigkeiten der Relaisbank (32), Firmware-Revision der Relaisbank (32) und Systemposition der Relaisbank (32) beinhalten.</claim-text></claim>
<claim id="c-de-01-0007" num="0007">
<claim-text>Verfahren nach Anspruch 6, weiter umfassend den Schritt des Aktualisierens der Firmware der Relaisbank (32) durch eine Firmware-Aktualisierungsdatei.</claim-text></claim>
<claim id="c-de-01-0008" num="0008">
<claim-text>Verfahren nach Anspruch 5, weiter umfassend den Schritt des Übertragens einer zweiten Netzwerkzuweisungsantwort von der Relaisbank (32), wenn die Netzwerkzuweisungsantwort durch den Prozessor (8) der Steuertafel (4) nicht empfangen wird.</claim-text></claim>
<claim id="c-de-01-0009" num="0009">
<claim-text>Verfahren nach Anspruch 8, weiter umfassend den Schritt des Anzeigens einer Fehlerbedingung, wenn eine Anzahl der von der Relaisbank (32) übertragenen Netzwerkzuweisungsantworten größer ist als ein vorgegebener Schwellenwert ohne Empfangen der von der Relaisbank (32) übertragenen Netzwerkzuweisungsantwort durch den Prozessor (8) der Steuertafel (4).</claim-text></claim>
<claim id="c-de-01-0010" num="0010">
<claim-text>Verfahren nach Anspruch 1, weiter umfassend den Schritt des Konfigurierens der Relaisbank (32), nachdem der Relaisbank (32) eine Netzwerkadresse zugewiesen worden ist, wobei der Schritt des Konfigurierens der Relaisbank (32) weiter Zuordnen einer spezifischen Funktion zu wenigstens einem von mehreren Relais der Relaisbank (32) umfasst.</claim-text></claim>
<claim id="c-de-01-0011" num="0011">
<claim-text>Verfahren nach Anspruch 10, wobei der Schritt des Konfigurierens der<!-- EPO <DP n="59"> --> Relaisbank (32) unter Verwendung von einem von der Steuertafel (4) und einer Fernsteuereinheit in Verbindung mit der Steuertafel (4) durchgeführt wird.</claim-text></claim>
<claim id="c-de-01-0012" num="0012">
<claim-text>Verfahren nach einem der vorhergehenden Ansprüche, das weiter das Integrieren einer intelligenten Komponente zur Verwendung mit dem Schwimmbad- oder Heilbad-Steuersystem (2) beinhaltet, umfassend die folgenden Schritte:
<claim-text>Aufbauen einer elektrischen Verbindung zwischen der intelligenten Komponente und der Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2);</claim-text>
<claim-text>Erkennen der intelligenten Komponente durch einen Prozessor (8) der Steuertafel (4); und</claim-text>
<claim-text>bei Erkennung der intelligenten Komponente Zuweisen einer Netzwerkadresse von der Steuertafel (4) zu der intelligenten Komponente.</claim-text></claim-text></claim>
<claim id="c-de-01-0013" num="0013">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Aufbauens einer elektrischen Verbindung zwischen der intelligenten Komponente und der Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2) das Anbringen der intelligenten Komponente an einem Verbinder der Steuertafel (4) beinhaltet, wobei die Steuertafel (4) eine Hauptsteuertafel (4) ist.</claim-text></claim>
<claim id="c-de-01-0014" num="0014">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Aufbauens einer elektrischen Verbindung zwischen der intelligenten Komponente und einer Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2) Folgendes beinhaltet:
<claim-text>Anbringen der intelligenten Komponente an einem Relais der Relaisbank (32),</claim-text>
<claim-text>die in die Steuertafel (4) integriert ist, wobei die Steuertafel (4) eine Hauptsteuertafel (4) ist; oder</claim-text>
<claim-text>Anbringen der intelligenten Komponente an einem Relais einer zweiten Relaisbank (32), die in die Steuertafel (4) integriert ist, wobei die Steuertafel (4) eine Hauptsteuertafel (4) ist.</claim-text></claim-text></claim>
<claim id="c-de-01-0015" num="0015">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Aufbauens einer elektrischen Verbindung zwischen der intelligenten Komponente und einer Steuertafel<!-- EPO <DP n="60"> --> (4) des Schwimmbad- oder Heilbad-Steuersystems (2) das Anbringen der intelligenten Komponente an einem Verbinder einer Erweiterungstafel beinhaltet, die in die Steuertafel (4) integriert ist, wobei die Steuertafel (4) eine Hauptsteuertafel (4) ist.</claim-text></claim>
<claim id="c-de-01-0016" num="0016">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Aufbauens einer elektrischen Verbindung zwischen der intelligenten Komponente und einer Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2) Folgendes beinhaltet:
<claim-text>Anbringen der intelligenten Komponente an einem Relais der Relaisbank (32),</claim-text>
<claim-text>die in eine Erweiterungstafel integriert ist; oder</claim-text>
<claim-text>Anbringen der intelligenten Komponente an einem Relais einer zweiten Relaisbank (32), die in eine Erweiterungstafel integriert ist.</claim-text></claim-text></claim>
<claim id="c-de-01-0017" num="0017">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Erkennens der intelligenten Komponente weiter Folgendes umfasst:
<claim-text>Aussenden einer Abfrage nach neuen Vorrichtungen von dem Prozessor (8) der Steuertafel (4);</claim-text>
<claim-text>Übertragen einer Antwort auf die Abfrage von der intelligenten Komponente;<br/>
und</claim-text>
<claim-text>Empfangen der Antwort auf die Abfrage von der intelligenten Komponente durch den Prozessor (8) der Steuertafel (4).</claim-text></claim-text></claim>
<claim id="c-de-01-0018" num="0018">
<claim-text>Verfahren nach Anspruch 17, weiter umfassend den Schritt des Übertragens einer zweiten Antwort auf die Abfrage von der intelligenten Komponente, wenn die von der intelligenten Komponente übertragene Antwort auf die Abfrage nicht durch den Prozessor (8) der Steuertafel (4) empfangen wird, wobei die Steuertafel (4) eine Hauptsteuertafel (4) ist.</claim-text></claim>
<claim id="c-de-01-0019" num="0019">
<claim-text>Verfahren nach Anspruch 18, weiter umfassend den Schritt des Anzeigens einer Fehlerbedingung, wenn eine Anzahl der von der intelligenten Komponente übertragenen Antworten auf die Abfrage größer ist als ein vorgegebener Schwellenwert ohne Empfangen der von der intelligenten Komponente übertragenen Antwort auf die Abfrage durch den Prozessor (8) der Steuertafel (4).<!-- EPO <DP n="61"> --></claim-text></claim>
<claim id="c-de-01-0020" num="0020">
<claim-text>Verfahren nach Anspruch 12, wobei der Schritt des Zuweisens einer Netzwerkadresse zu der intelligenten Komponente weiter Folgendes umfasst:
<claim-text>Senden einer Nachricht an die intelligente Komponente, die der intelligenten Komponente eine Netzwerkadresse zuweist, von dem Prozessor (8) der Steuertafel (4);</claim-text>
<claim-text>Übertragen einer Netzwerkzuweisungsantwort von der intelligenten Komponente, die Informationen über die intelligente Komponente aufweist;</claim-text>
<claim-text>Empfangen der von der intelligenten Komponente übertragenen Netzwerkzuweisungsantwort durch den Prozessor (8) der Steuertafel (4); und</claim-text>
<claim-text>Abspeichern von in der Netzwerkzuweisungsantwort enthaltenen Informationen in einem Speicher der Steuertafel (4).</claim-text></claim-text></claim>
<claim id="c-de-01-0021" num="0021">
<claim-text>Verfahren nach Anspruch 20, wobei die Informationen über die intelligente Komponente wenigstens eines von Fähigkeiten der intelligenten Komponente, Firmware-Revision der intelligenten Komponente und Systemposition der intelligenten Komponente beinhalten.</claim-text></claim>
<claim id="c-de-01-0022" num="0022">
<claim-text>Verfahren nach Anspruch 21, weiter umfassend den Schritt des Aktualisierens der Firmware der intelligenten Komponente durch eine Firmware-Aktualisierungsdatei.</claim-text></claim>
<claim id="c-de-01-0023" num="0023">
<claim-text>Verfahren nach Anspruch 7 oder Anspruch 22, weiter umfassend den Schritt des Empfangens der Firmware-Aktualisierungsdatei durch den Prozessor (8) der Steuertafel (4) von einem von einem mit der Steuertafel (4) verbundenen entfernbaren Speicher und dem Internet.</claim-text></claim>
<claim id="c-de-01-0024" num="0024">
<claim-text>Verfahren nach Anspruch 20, weiter umfassend den Schritt des Übertragens einer zweiten Netzwerkzuweisungsantwort von der intelligenten Komponente, wenn die Netzwerkzuweisungsantwort nicht durch den Prozessor (8) der Steuertafel (4) empfangen wird.</claim-text></claim>
<claim id="c-de-01-0025" num="0025">
<claim-text>Verfahren nach Anspruch 24, weiter umfassend den Schritt des Anzeigens einer Fehlerbedingung, wenn eine Anzahl der von der intelligenten Komponente übertragenen Netzwerkzuweisungsantworten größer ist als ein vorgegebener<!-- EPO <DP n="62"> --> Schwellenwert ohne Empfangen der von der intelligenten Komponente übertragenen Netzwerkzuweisungsantwort durch den Prozessor (8) der Steuertafel (4).</claim-text></claim>
<claim id="c-de-01-0026" num="0026">
<claim-text>Verfahren nach Anspruch 22, weiter umfassend den Schritt des Konfigurierens der intelligenten Komponente, nachdem ihr eine Netzwerkadresse zugeordnet worden ist, wobei der Schritt des Konfigurierens der intelligenten Komponente weiter das Konfigurieren der intelligenten Komponente zum Funktionieren für bestimmte Vorgänge umfasst.</claim-text></claim>
<claim id="c-de-01-0027" num="0027">
<claim-text>Verfahren nach Anspruch 26, wobei der Schritt des Konfigurierens der intelligenten Komponente unter Verwendung von einem von der Steuertafel (4) und einer Fernsteuereinheit in Verbindung mit der Steuertafel (4) durchgeführt wird.</claim-text></claim>
<claim id="c-de-01-0028" num="0028">
<claim-text>Verfahren nach einem der vorhergehenden Ansprüche, weiter umfassend das Integrieren einer Erweiterungstafel zur Verwendung mit dem Schwimmbad- oder Heilbad-Steuersystem (2), umfassend die folgenden Schritte:
<claim-text>Aufbauen einer elektrischen Verbindung zwischen der Erweiterungstafel und der Steuertafel (4) des Schwimmbad- oder Heilbad-Steuersystems (2);</claim-text>
<claim-text>Erkennen der Erweiterungstafel durch den Prozessor (8) der Steuertafel (4); und</claim-text>
<claim-text>bei Erkennung der Erweiterungstafel Konfigurieren der Erweiterungstafel von der Steuertafel (4) her.</claim-text></claim-text></claim>
<claim id="c-de-01-0029" num="0029">
<claim-text>Verfahren nach Anspruch 28, weiter umfassend den Schritt des Konfigurierens von ein oder mehr Relaisbänken (32) und intelligenten Komponenten, die in die Erweiterungstafel integriert sind.</claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="63"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Procédé, comprenant l'étape consistant à intégrer une banque de relais (32) à des fins d'utilisation avec un système de commande de piscine ou de spa (2), comportant les étapes consistant à :
<claim-text>établir une connexion électrique entre la banque de relais (32) et un panneau de commande (4) du système de commande de piscine ou de spa (2) ;</claim-text>
<claim-text>découvrir la banque de relais (32) par un processeur (8) du panneau de commande (4) ; et</claim-text>
<claim-text>attribuer à la banque de relais (32) une adresse de réseau à partir du panneau de commande (4) lors de la découverte de la banque de relais (32).</claim-text></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Procédé selon la revendication 1, dans lequel l'étape consistant à découvrir la banque de relais (32) comporte par ailleurs les étapes consistant à :
<claim-text>diffuser une requête à la recherche de nouveaux dispositifs en provenance du processeur (8) du panneau de commande (4) ;</claim-text>
<claim-text>transmettre une réponse à la requête en provenance de la banque de relais (32) ; et</claim-text>
<claim-text>recevoir la réponse à la requête en provenance de la banque de relais (32) par le processeur (8) du panneau de commande (4).</claim-text></claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Procédé selon la revendication 2, comportant par ailleurs l'étape consistant à transmettre une deuxième réponse à la requête en provenance de la banque de relais (32) si la réponse à la requête qui est transmise en provenance de la banque de relais (32) n'est pas reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Procédé selon la revendication 3, comportant par ailleurs l'étape consistant à indiquer une condition d'erreur si un nombre de réponses à la requête qui sont transmises en provenance de la banque de relais (32) est supérieur à un seuil prédéfini sans que la réponse à la requête qui est transmise en provenance de la banque de relais (32) ne soit reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé selon la revendication 1, dans lequel l'étape consistant à attribuer à la banque de relais (32) une adresse de réseau comporte par ailleurs les étapes consistant à :
<claim-text>envoyer un message à la banque de relais (32) qui attribue à la banque de relais (32)<!-- EPO <DP n="64"> --> une adresse de réseau en provenance du processeur (8) du panneau de commande (4) ;</claim-text>
<claim-text>transmettre une réponse d'attribution de réseau en provenance de la banque de relais (32) qui comprend des informations se rapportant à la banque de relais (32) ;</claim-text>
<claim-text>recevoir la réponse d'attribution de réseau qui est transmise en provenance de la banque de relais (32) par le processeur (8) du panneau de commande (4) ; et</claim-text>
<claim-text>stocker les informations comprises dans la réponse d'attribution de réseau dans une mémoire du panneau de commande (4).</claim-text></claim-text></claim>
<claim id="c-fr-01-0006" num="0006">
<claim-text>Procédé selon la revendication 5, dans lequel les informations se rapportant à la banque de relais (32) comprennent au moins les informations parmi les capacités de la banque de relais (32), la révision du micrologiciel de la banque de relais (32), et l'emplacement de système de la banque de relais (32).</claim-text></claim>
<claim id="c-fr-01-0007" num="0007">
<claim-text>Procédé selon la revendication 6, comportant par ailleurs l'étape consistant à effectuer une mise à jour du micrologiciel de la banque de relais (32) au moyen d'un fichier de mise à jour de micrologiciel.</claim-text></claim>
<claim id="c-fr-01-0008" num="0008">
<claim-text>Procédé selon la revendication 5, comportant par ailleurs l'étape consistant à transmettre une deuxième réponse d'attribution de réseau en provenance de la banque de relais (32) si la réponse d'attribution de réseau n'est pas reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0009" num="0009">
<claim-text>Procédé selon la revendication 8, comportant par ailleurs l'étape consistant à indiquer une condition d'erreur si un nombre de réponses d'attribution de réseau qui sont transmises en provenance de la banque de relais (32) est supérieur à un seuil prédéfini sans que la réponse d'attribution de réseau qui est transmise en provenance de la banque de relais (32) ne soit reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0010" num="0010">
<claim-text>Procédé selon la revendication 1, comportant par ailleurs l'étape consistant à configurer la banque de relais (32) après l'attribution à la banque de relais (32) d'une adresse de réseau, dans lequel l'étape consistant à configurer la banque de relais (32) comporte par ailleurs l'étape consistant à faire correspondre une fonction spécifique à au moins l'un d'une pluralité de relais de la banque de relais (32).<!-- EPO <DP n="65"> --></claim-text></claim>
<claim id="c-fr-01-0011" num="0011">
<claim-text>Procédé selon la revendication 10, dans lequel l'étape consistant à configurer la banque de relais (32) est effectuée en utilisant l'un parmi le panneau de commande (4) et une unité de commande à distance en communication avec le panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0012" num="0012">
<claim-text>Procédé selon l'une quelconque des revendications précédentes, comprenant par ailleurs l'étape consistant à intégrer un composant intelligent à des fins d'utilisation avec le système de commande de piscine ou de spa (2) comportant les étapes consistant à :
<claim-text>établir une connexion électrique entre le composant intelligent et le panneau de commande (4) du système de commande de piscine ou de spa (2) ;</claim-text>
<claim-text>découvrir le composant intelligent par un processeur (8) du panneau de commande (4) ; et</claim-text>
<claim-text>attribuer au composant intelligent une adresse de réseau à partir du panneau de commande (4) lors de la découverte du composant intelligent.</claim-text></claim-text></claim>
<claim id="c-fr-01-0013" num="0013">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à établir une connexion électrique entre le composant intelligent et le panneau de commande (4) du système de commande de piscine ou de spa (2) comprend l'étape consistant à attacher le composant intelligent à un connecteur du panneau de commande (4), dans lequel le panneau de commande (4) est un panneau de commande principal (4).</claim-text></claim>
<claim id="c-fr-01-0014" num="0014">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à établir une connexion électrique entre le composant intelligent et un panneau de commande (4) du système de commande de piscine ou de spa (2) comprend les étapes consistant à :
<claim-text>attacher le composant intelligent à un relais de la banque de relais (32) qui est intégrée au panneau de commande (4), dans lequel le panneau de commande (4) est un panneau de commande principal (4) ; ou</claim-text>
<claim-text>attacher le composant intelligent à un relais d'une deuxième banque de relais (32) qui est intégrée au panneau de commande (4), dans lequel le panneau de commande (4) est un panneau de commande principal (4).</claim-text></claim-text></claim>
<claim id="c-fr-01-0015" num="0015">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à établir une connexion électrique entre le composant intelligent et un panneau de commande (4) du système de commande de piscine ou de spa (2) comprend l'étape consistant à attacher le composant intelligent à un connecteur d'un panneau d'extension qui est intégré au panneau<!-- EPO <DP n="66"> --> de commande (4), dans lequel le panneau de commande (4) est un panneau de commande principal (4).</claim-text></claim>
<claim id="c-fr-01-0016" num="0016">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à établir une connexion électrique entre le composant intelligent et un panneau de commande (4) du système de commande de piscine ou de spa (2) comprend les étapes consistant à :
<claim-text>attacher le composant intelligent à un relais de la banque de relais (32) qui est intégrée à un panneau d'extension ; ou</claim-text>
<claim-text>attacher le composant intelligent à un relais d'une deuxième banque de relais (32) qui est intégrée à un panneau d'extension.</claim-text></claim-text></claim>
<claim id="c-fr-01-0017" num="0017">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à découvrir le composant intelligent comporte par ailleurs les étapes consistant à :
<claim-text>diffuser une requête à la recherche de nouveaux dispositifs en provenance du processeur (8) du panneau de commande (4) ;</claim-text>
<claim-text>transmettre une réponse à la requête en provenance du composant intelligent ; et</claim-text>
<claim-text>recevoir la réponse à la requête en provenance du composant intelligent par le processeur (8) du panneau de commande (4).</claim-text></claim-text></claim>
<claim id="c-fr-01-0018" num="0018">
<claim-text>Procédé selon la revendication 17, comportant par ailleurs l'étape consistant à transmettre une deuxième réponse à la requête en provenance du composant intelligent si la réponse à la requête qui est transmise en provenance du composant intelligent n'est pas reçue par le processeur (8) du panneau de commande (4), dans lequel le panneau de commande (4) est un panneau de commande principal (4).</claim-text></claim>
<claim id="c-fr-01-0019" num="0019">
<claim-text>Procédé selon la revendication 18, comportant par ailleurs l'étape consistant à indiquer une condition d'erreur si un nombre de réponses à la requête qui sont transmises en provenance du composant intelligent est supérieur à un seuil prédéfini sans que la réponse à la requête qui est transmise en provenance du composant intelligent ne soit reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0020" num="0020">
<claim-text>Procédé selon la revendication 12, dans lequel l'étape consistant à attribuer au composant intelligent une adresse de réseau comporte par ailleurs les étapes consistant à :
<claim-text>envoyer un message au composant intelligent qui attribue au composant intelligent<!-- EPO <DP n="67"> --> une adresse de réseau en provenance du processeur (8) du panneau de commande (4) ;</claim-text>
<claim-text>transmettre une réponse d'attribution de réseau en provenance du composant intelligent qui comprend des informations se rapportant au composant intelligent ;</claim-text>
<claim-text>recevoir la réponse d'attribution de réseau qui est transmise en provenance du composant intelligent par le processeur (8) du panneau de commande (4) ; et</claim-text>
<claim-text>stocker les informations comprises dans la réponse d'attribution de réseau dans une mémoire du panneau de commande (4).</claim-text></claim-text></claim>
<claim id="c-fr-01-0021" num="0021">
<claim-text>Procédé selon la revendication 20, dans lequel les informations se rapportant au composant intelligent comprennent au moins les informations parmi les capacités du composant intelligent, la révision du micrologiciel du composant intelligent, et l'emplacement de système du composant intelligent.</claim-text></claim>
<claim id="c-fr-01-0022" num="0022">
<claim-text>Procédé selon la revendication 21, comportant par ailleurs l'étape consistant à effectuer une mise à jour du micrologiciel du composant intelligent au moyen d'un fichier de mise à jour de micrologiciel.</claim-text></claim>
<claim id="c-fr-01-0023" num="0023">
<claim-text>Procédé selon la revendication 7 ou la revendication 22, comportant par ailleurs l'étape consistant à recevoir le fichier de mise à jour de micrologiciel par le processeur (8) du panneau de commande (4) en provenance de l'un parmi une mémoire amovible connectée au panneau de commande (4) et l'Internet.</claim-text></claim>
<claim id="c-fr-01-0024" num="0024">
<claim-text>Procédé selon la revendication 20, comportant par ailleurs l'étape consistant à transmettre une deuxième réponse d'attribution de réseau en provenance du composant intelligent si la réponse d'attribution de réseau n'est pas reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0025" num="0025">
<claim-text>Procédé selon la revendication 24, comportant par ailleurs l'étape consistant à indiquer une condition d'erreur si un nombre de réponses d'attribution de réseau qui sont transmises en provenance du composant intelligent est supérieur à un seuil prédéfini sans que la réponse d'attribution de réseau qui est transmise en provenance du composant intelligent ne soit reçue par le processeur (8) du panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0026" num="0026">
<claim-text>Procédé selon la revendication 22, comportant par ailleurs l'étape consistant à<!-- EPO <DP n="68"> --> configurer le composant intelligent après qu'une adresse de réseau lui a été attribué, dans lequel l'étape consistant à configurer le composant intelligent comporte par ailleurs l'étape consistant à configurer le composant intelligent à des fins de fonctionnement pour des opérations particulières.</claim-text></claim>
<claim id="c-fr-01-0027" num="0027">
<claim-text>Procédé selon la revendication 26, dans lequel l'étape consistant à configurer le composant intelligent est effectuée en utilisant l'un parmi le panneau de commande (4) et une unité de commande à distance en communication avec le panneau de commande (4).</claim-text></claim>
<claim id="c-fr-01-0028" num="0028">
<claim-text>Procédé selon l'une quelconque des revendications précédentes, comportant par ailleurs l'étape consistant à intégrer un panneau d'extension à des fins d'utilisation avec le système de commande de piscine ou de spa (2), comportant les étapes consistant à :
<claim-text>établir une connexion électrique entre le panneau d'extension et le panneau de commande (4) du système de commande de piscine ou de spa (2) ;</claim-text>
<claim-text>découvrir le panneau d'extension par le processeur (8) du panneau de commande (4) ;<br/>
et</claim-text>
<claim-text>configurer le panneau d'extension à partir du panneau de commande (4) lors de la découverte du panneau d'extension.</claim-text></claim-text></claim>
<claim id="c-fr-01-0029" num="0029">
<claim-text>Procédé selon la revendication 28, comportant par ailleurs l'étape consistant à configurer une ou plusieurs banques de relais (32) et des composants intelligents intégrés au panneau d'extension.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="69"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="157" he="208" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> -->
<figure id="f0004" num="3"><img id="if0004" file="imgf0004.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> -->
<figure id="f0005" num="4"><img id="if0005" file="imgf0005.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> -->
<figure id="f0006" num="4"><img id="if0006" file="imgf0006.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> -->
<figure id="f0007" num="5"><img id="if0007" file="imgf0007.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> -->
<figure id="f0008" num="6"><img id="if0008" file="imgf0008.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> -->
<figure id="f0009" num="6"><img id="if0009" file="imgf0009.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> -->
<figure id="f0010" num="7"><img id="if0010" file="imgf0010.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> -->
<figure id="f0011" num="7"><img id="if0011" file="imgf0011.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="80"> -->
<figure id="f0012" num="8A"><img id="if0012" file="imgf0012.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="81"> -->
<figure id="f0013" num="8A"><img id="if0013" file="imgf0013.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="82"> -->
<figure id="f0014" num="8B"><img id="if0014" file="imgf0014.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="83"> -->
<figure id="f0015" num="8B"><img id="if0015" file="imgf0015.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="84"> -->
<figure id="f0016" num="9"><img id="if0016" file="imgf0016.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="85"> -->
<figure id="f0017" num="10"><img id="if0017" file="imgf0017.tif" wi="163" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="86"> -->
<figure id="f0018" num="11"><img id="if0018" file="imgf0018.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="87"> -->
<figure id="f0019" num="12"><img id="if0019" file="imgf0019.tif" wi="141" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="88"> -->
<figure id="f0020" num="13"><img id="if0020" file="imgf0020.tif" wi="145" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="89"> -->
<figure id="f0021" num="14"><img id="if0021" file="imgf0021.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="90"> -->
<figure id="f0022" num="15"><img id="if0022" file="imgf0022.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="91"> -->
<figure id="f0023" num="16"><img id="if0023" file="imgf0023.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="92"> -->
<figure id="f0024" num="17A"><img id="if0024" file="imgf0024.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="93"> -->
<figure id="f0025" num="17B"><img id="if0025" file="imgf0025.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="94"> -->
<figure id="f0026" num="17C"><img id="if0026" file="imgf0026.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="95"> -->
<figure id="f0027" num="18A,18B,18C"><img id="if0027" file="imgf0027.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="96"> -->
<figure id="f0028" num="19A,19B"><img id="if0028" file="imgf0028.tif" wi="164" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="97"> -->
<figure id="f0029" num="20A,20B"><img id="if0029" file="imgf0029.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="US61790496" dnum-type="L"><document-id><country>US</country><doc-number>61790496</doc-number><date>20130315</date></document-id></patcit><crossref idref="pcit0001">[0001]</crossref></li>
<li><patcit id="ref-pcit0002" dnum="US61787809" dnum-type="L"><document-id><country>US</country><doc-number>61787809</doc-number><date>20130315</date></document-id></patcit><crossref idref="pcit0002">[0001]</crossref></li>
<li><patcit id="ref-pcit0003" dnum="US2011040415A1"><document-id><country>US</country><doc-number>2011040415</doc-number><kind>A1</kind></document-id></patcit><crossref idref="pcit0003">[0005]</crossref></li>
<li><patcit id="ref-pcit0004" dnum="US2012221162A1"><document-id><country>US</country><doc-number>2012221162</doc-number><kind>A1</kind></document-id></patcit><crossref idref="pcit0004">[0006]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
