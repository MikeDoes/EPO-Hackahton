<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP18941279A1" file="EP18941279NWA1.xml" lang="en" country="EP" doc-number="3890359" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890359</B110><B120><B121>EUROPEAN PATENT APPLICATION</B121><B121EP>published in accordance with Art. 153(4) EPC</B121EP></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>18941279.4</B210><B220><date>20181126</date></B220><B240><B241><date>20201119</date></B241></B240><B250>ko</B250><B251EP>en</B251EP><B260>en</B260></B200><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04R  29/00        20060101AFI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04S   7/00        20060101ALI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04S   1/00        20060101ALI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>H04S   3/00        20060101ALI20200605BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04R   3/12        20130101 FI20210812BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04R2499/13        20130101 LA20210812BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>G06K   9/00832     20130101 LI20210820BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04S2400/15        20130101 LA20210812BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04S   7/307       20130101 LI20210812BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>FAHRZEUG UND BETRIEBSVERFAHREN DAFÜR</B542><B541>en</B541><B542>VEHICLE AND OPERATION METHOD THEREOF</B542><B541>fr</B541><B542>VÉHICULE ET PROCÉDÉ DE FONCTIONNEMENT ASSOCIÉ</B542></B540><B590><B598>1</B598></B590></B500><B700><B710><B711><snm>LG Electronics Inc.</snm><iid>101872843</iid><irf>EPA-151 570</irf><adr><str>128, Yeoui-daero,</str><city>Yeongdeungpo-gu
Seoul 07336</city><ctry>KR</ctry></adr></B711></B710><B720><B721><snm>KIM, Kihyun</snm><adr><str>c/o IP Center, LG Electronics Inc. 
19, Yangjae-daero 11gil Seocho-gu</str><city>Seoul 06772</city><ctry>KR</ctry></adr></B721><B721><snm>LEE, Kyuho</snm><adr><str>c/o IP Center, LG Electronics Inc.
19, Yangjae-daero 11gil Seocho-gu</str><city>Seoul 06772</city><ctry>KR</ctry></adr></B721><B721><snm>LEE, Byounggi</snm><adr><str>c/o IP Center, LG Electronics Inc.
19, Yangjae-daero 11gil Seocho-gu</str><city>Seoul 06772</city><ctry>KR</ctry></adr></B721></B720><B740><B741><snm>Schornack, Oliver</snm><iid>101718393</iid><adr><str>Wuesthoff &amp; Wuesthoff 
Patentanwälte PartG mbB 
Schweigerstraße 2</str><city>81541 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP><B860><B861><dnum><anum>KR2018014620</anum></dnum><date>20181126</date></B861><B862>ko</B862></B860><B870><B871><dnum><pnum>WO2020111284</pnum></dnum><date>20200604</date><bnum>202023</bnum></B871></B870></B800></SDOBI>
<abstract id="abst" lang="en">
<p id="pa01" num="0001">A vehicle according to an embodiment of the present invention may comprise: a microphone; a plurality of speakers; a memory for storing a sound field table including corresponding relationship between filter set values, virtual sound items, and boarding items; and a processor for receiving a sound signal via the microphone, determining a first filter set value matched to characteristics of the received sound signal, by using the sound field table, and controlling outputs of the plurality of speakers so as to output sound according to the determined first set value.<img id="iaf01" file="imgaf001.tif" wi="106" he="85" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">[Technical Field]</heading>
<p id="p0001" num="0001">The present disclosure relates to a vehicle and, more particularly, to a vehicle for establishing a personalized sound field.</p>
<heading id="h0002">[Background Art]</heading>
<p id="p0002" num="0002">With development of an audio video navigation (AVN) system provided in a vehicle, interest in in-vehicle sound, such as outputting of sound of a portable device such as mobile terminals, PMPs or MP3 players to a speaker through a wired/wireless connection unit such as Bluetooth or AUX is increasing.</p>
<p id="p0003" num="0003">As acoustic control, there are a sound field reproduction method, an active noise control method of reducing the volume of sound in a space using a plurality of active sound sources, a method of changing a spacing between sound sources arranged in a specific shape, a method of increasing sound power radiated at a specific angle by changing time delay between and<!-- EPO <DP n="2"> --> sizes of sound sources, etc.</p>
<p id="p0004" num="0004">In particular, research into adjustment of sound output through an in-vehicle speaker according to an in-vehicle position (a boarding position of a passenger) is actively being conducted.</p>
<p id="p0005" num="0005">As a related art, <patcit id="pcit0001" dnum="US9591420B"><text>US patent No. 9,591,420</text></patcit> shows an example of implementing a personalized sound field through speakers inside a vehicle.</p>
<p id="p0006" num="0006">However, in <patcit id="pcit0002" dnum="US9591420B"><text>US patent No. 9,591,420</text></patcit>, the personalized sound field is implemented without considering the number of passengers in the vehicle and the seat positions of the passengers.</p>
<p id="p0007" num="0007">That is, in <patcit id="pcit0003" dnum="US9591420B"><text>US patent No. 9,591,420</text></patcit>, a consistent personalized sound field is provided without considering the boarding situation of the vehicle, thereby causing auditory complaints of the passengers.</p>
<heading id="h0003">[invention]</heading>
<heading id="h0004">[Technical Problem]</heading>
<p id="p0008" num="0008">An object of the present disclosure is to provide an optimized sound field to passengers in consideration of the number of passengers and the seat positions of the passengers<!-- EPO <DP n="3"> --> inside the vehicle.</p>
<p id="p0009" num="0009">Another object of the present disclosure is to provide an optimized sound field, by determining a boarding situation of a vehicle using a sound signal input to a microphone.</p>
<p id="p0010" num="0010">Another object of the present disclosure is to provide an optimized sound field to passengers, by more accurately grasping a boarding situation of a vehicle.</p>
<heading id="h0005">[Technical Solution]</heading>
<p id="p0011" num="0011">According to a vehicle according to an embodiment of the present disclosure may acquire a filter set value matching characteristics of a sound signal input to a microphone and control output of sound of a plurality of speakers disposed in the vehicle according to the acquired filter set value.</p>
<p id="p0012" num="0012">According to a vehicle according to an embodiment of the present disclosure may compare first boarding information obtained based on a sound signal input to a microphone with second boarding information obtained through a camera and adjust a filter set value based on the second boarding information when the first boarding information and the second boarding information do not coincide.</p>
<p id="p0013" num="0013">Additional scope of applicability of the present<!-- EPO <DP n="4"> --> disclosure will become apparent from the detailed description below. However, since various changes and modifications within the spirit and scope of the present invention can be clearly understood by those skilled in the art, it should be understood that the detailed description and specific embodiments, such as preferred embodiments of the present disclosure, are given by way of example only.</p>
<heading id="h0006">[Effect of the Invention]</heading>
<p id="p0014" num="0014">According to an embodiment of the present disclosure, it is possible to provide an optimized sound field to passengers in consideration of the number of passengers and the seat positions of the passengers inside the vehicle.</p>
<p id="p0015" num="0015">According to an embodiment of the present disclosure, it is possible to provide an optimized sound field to passengers, by more accurately grasping a boarding situation of a vehicle.</p>
<heading id="h0007">[Description of Drawings]</heading>
<p id="p0016" num="0016">
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001">FIG. 1</figref> is a block diagram illustrating the configuration of a vehicle according to an embodiment of the present disclosure.</li>
<li><figref idref="f0002">FIG. 2</figref> is a view illustrating an example in which a plurality of speakers provided in a vehicle is arranged<!-- EPO <DP n="5"> --> according to an embodiment of the present disclosure.</li>
<li><figref idref="f0003">FIG. 3</figref> is a flowchart illustrating a method of operating a vehicle according to an embodiment of the present disclosure.</li>
<li><figref idref="f0004">FIG. 4</figref> is a view briefly showing an internal space of a vehicle as a cabin according to an embodiment of the present disclosure.</li>
<li><figref idref="f0005">FIGS. 5</figref> and <figref idref="f0006">6</figref> are views illustrating a process of acquiring learning variables necessary to learn a relationship between boarding items and virtual sound items according to an embodiment of the present disclosure.</li>
<li><figref idref="f0007">FIG. 7</figref> is a view illustrating the configuration of a sound field table according to an embodiment of the present disclosure.</li>
<li><figref idref="f0008">FIG. 8</figref> is a view illustrating a configuration for determining a filter set value suitable for a detected boarding situation according to an embodiment of the present disclosure.</li>
<li><figref idref="f0009">FIG. 9</figref> is a view showing an example of implementing a sound field using only a sound field mode according to the related art, and <figref idref="f0010">FIG. 10</figref> is a view showing an example of implementing a sound field in consideration of a sound field mode and a boarding situation according to an embodiment of the present disclosure.<!-- EPO <DP n="6"> --></li>
<li><figref idref="f0011">FIG. 11</figref> is a flowchart illustrating a method of operating a vehicle according to another embodiment of the present disclosure.</li>
</ul></p>
<heading id="h0008">[Best Mode]</heading>
<p id="p0017" num="0017">Description will now be given in detail according to exemplary embodiments disclosed herein, with reference to the accompanying drawings. For the sake of brief description with reference to the drawings, the same or equivalent components may be provided with the same reference numbers, and description thereof will not be repeated. In general, a suffix such as "module" or "unit" may be used to refer to elements or components. Use of such a suffix herein is merely intended to facilitate description of the specification, and the suffix itself is not intended to have any special meaning or function. In the present disclosure, that which is well-known to one of ordinary skill in the relevant art has generally been omitted for the sake of brevity. The accompanying drawings are used to help easily understand various technical features and it should be understood that the embodiments presented herein are not limited by the accompanying drawings. As such, the present disclosure should be construed to extend to any alterations, equivalents<!-- EPO <DP n="7"> --> and substitutes in addition to those which are particularly set out in the accompanying drawings.</p>
<p id="p0018" num="0018">While ordinal numbers including "first", "second", etc. may be used to describe various components, they are not intended to limit the components. These expressions may be used to distinguish one component from another component</p>
<p id="p0019" num="0019">When it is said that a component is "coupled with/to" or "connected to" another component, it should be understood that the one component is connected to the other component directly or through any other component in between. On the other hand, when it is said that a component is "directly connected to" or "directly coupled to" another component, it should be understood that there is no other component between the components.</p>
<p id="p0020" num="0020">A singular representation may include a plural representation unless context clearly indicates otherwise. In the present disclosure, the term "have" or "include" signifies the presence of a specific feature, number, step, operation, component, or part, or their combinations, not excluding the presence or addition of one or more other features, numbers, steps, operations, components, or parts, or their combinations.</p>
<p id="p0021" num="0021"><figref idref="f0001">FIG. 1</figref> is a block diagram illustrating the configuration<!-- EPO <DP n="8"> --> of a vehicle according to an embodiment of the present disclosure.</p>
<p id="p0022" num="0022">Referring to <figref idref="f0001">FIG. 1</figref>, the vehicle 100 may include a sensing unit 110, a wireless communication unit 120, a microphone 130, a camera 140, a memory 150, a sound output unit 170 and a processor 190.</p>
<p id="p0023" num="0023">The sensing unit 110 may sense status information of the vehicle.</p>
<p id="p0024" num="0024">The sensing unit 110 may include a pressure sensor.</p>
<p id="p0025" num="0025">Seats may be provided inside the vehicle 200. The measured value of the pressure sensor may be used to determine whether a passenger is seated in each seat.</p>
<p id="p0026" num="0026">The wireless communication unit 120 may include one or more modules for enabling wireless communication between the vehicle 100 and a wireless communication system, between the vehicle 100 and another vehicle 100 or between the vehicle 100 and an external server.</p>
<p id="p0027" num="0027">In addition, the wireless communication unit 120 may include one or more modules for connecting the vehicle 100 to one or more networks.</p>
<p id="p0028" num="0028">The microphone 130 may receive noise from the inside or outside of the vehicle.</p>
<p id="p0029" num="0029">A plurality of microphones 130 may be provided. The<!-- EPO <DP n="9"> --> microphone 130 may be provided around the driver's seat of the vehicle.</p>
<p id="p0030" num="0030">The memory 150 may store a sound field table showing correspondence between a sound field mode, characteristics of a virtual sound signal, characteristics of a passenger signal, the number of passengers, the seat position of each passenger and a filter set value.</p>
<p id="p0031" num="0031">The sound field table may be generated by the vehicle 100 or may be received from an external server.</p>
<p id="p0032" num="0032">The sound output unit 170 may output an audio signal. The sound output unit 170 may output an audio signal generated in the vehicle or an audio signal received from an external device connected to the vehicle 100 by wire or wirelessly.</p>
<p id="p0033" num="0033">The sound output unit 170 may include one or more speakers. An example in which the sound output unit 170 includes a plurality of speakers will be described with reference to <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0034" num="0034">The processor 190 may control overall operation of the vehicle. The processor 190 may be implemented in the form of a chip.</p>
<p id="p0035" num="0035">The detailed function of the processor 190 will be described in detail below.<!-- EPO <DP n="10"> --></p>
<p id="p0036" num="0036"><figref idref="f0002">FIG. 2</figref> is a view illustrating an example in which a plurality of speakers provided in a vehicle is arranged according to an embodiment of the present disclosure.</p>
<p id="p0037" num="0037">Referring to <figref idref="f0002">FIG. 2</figref>, the sound output unit 170 may include a plurality of speakers 171 to 179.</p>
<p id="p0038" num="0038">A first speaker 171 disposed in front of a driver's seat of the vehicle 100 and a second speaker 172 disposed in front of a passenger seat B may be tweeter speakers. The tweeter speaker is a small speaker for outputting high-register sound.</p>
<p id="p0039" num="0039">A third speaker 173 may be disposed between the front sides of the driver's seat A and the passenger seat B, a fourth speaker 174 may be disposed behind a first rear seat C, and a fifth speaker 175 may be disposed behind a second rear seat D.</p>
<p id="p0040" num="0040">The third speaker 173, the fourth speaker 174 and the fifth speaker 175 may be woofer speakers. The woofer speaker outputs low-register sound.</p>
<p id="p0041" num="0041">A sixth speaker 176 may be disposed on a door of the driver's seat A, a seventh speaker 177 may be disposed on a door of the passenger seat B, an eighth speaker 178 may be disposed on a door of the first rear seat C, and a ninth speaker 179 may be disposed on a door of the second rear seat D.</p>
<p id="p0042" num="0042"><figref idref="f0003">FIG. 3</figref> is a flowchart illustrating a method of operating<!-- EPO <DP n="11"> --> a vehicle according to an embodiment of the present disclosure.</p>
<p id="p0043" num="0043">Referring to <figref idref="f0003">FIG. 3</figref>, the processor 190 acquires the size of an internal space of the vehicle (S301).</p>
<p id="p0044" num="0044">The processor 190 may reduce the internal space of the vehicle 100 using the specification information of the vehicle 100, thereby acquiring the reduced internal space of the vehicle.</p>
<p id="p0045" num="0045">The internal space of the vehicle may be expressed as a cabin having a rectangular shape.</p>
<p id="p0046" num="0046">The processor 190 may obtain the size of the internal space of the vehicle using a known simulation scheme. The size of the internal space of the vehicle may include the width and length of the cabin, when viewed from the top.</p>
<p id="p0047" num="0047">This will be described with reference to <figref idref="f0004">FIG. 4</figref>.</p>
<p id="p0048" num="0048"><figref idref="f0004">FIG. 4</figref> is a view briefly showing an internal space of a vehicle as a cabin according to an embodiment of the present disclosure.</p>
<p id="p0049" num="0049">Referring to <figref idref="f0004">FIG. 4</figref>, the internal space of the cabin may be simplified to a cabin 400. The processor 190 may set the width and length of the cabin after acquiring the cabin 400.</p>
<p id="p0050" num="0050">Meanwhile, the processor 190 may set reflectivity of each corner (corresponding to the wall of the vehicle) configuring the cabin 400. Here, the reflectivity may be a ratio<!-- EPO <DP n="12"> --> of a sound source reflected after hitting the boundary of the wall.</p>
<p id="p0051" num="0051">The reflectivity of the sound source may be referred to as an impedance boundary condition, and the reflectivity of each corner may be set through a known finite difference time domain (FDTD) simulation scheme.</p>
<p id="p0052" num="0052"><figref idref="f0003">FIG. 3</figref> will be described again.</p>
<p id="p0053" num="0053">The processor 190 learns a correspondence relationship between boarding items and virtual sound items based on the size of the internal space of the vehicle (S303).</p>
<p id="p0054" num="0054">The boarding items may include the number of passengers, the position of a boarding seat, the length of a legroom of each seat, and the angle of the back of each seat.</p>
<p id="p0055" num="0055">The virtual sound items may include characteristics of a first virtual sound signal input when a reference signal output from a speaker is reflected and input to the microphone 130, and characteristics of a second virtual sound signal obtained by removing the first virtual sound signal from the reference signal.</p>
<p id="p0056" num="0056">The characteristics of the first and second virtual sound signals may include a first early decay time (EDT), a first reverberation time (RT30) and a second reverberation time<!-- EPO <DP n="13"> --> (RT60).</p>
<p id="p0057" num="0057">The early decay time may be a time when the magnitude of a virtual sound signal decreases from 0 dB to -10 dB.</p>
<p id="p0058" num="0058">The first reverberation time may be a time when the magnitude of the virtual sound signal decreases from -5 dB to - 35 dB.</p>
<p id="p0059" num="0059">The second reverberation time may be a time when the magnitude of the virtual sound signal decreases from -5 dB to - 65 dB.</p>
<p id="p0060" num="0060">The processor 190 may collect virtual sound items corresponding to the changed boarding items while changing the boarding items.</p>
<p id="p0061" num="0061">A process of learning a relationship between the boarding items and the virtual sound items will be described.</p>
<p id="p0062" num="0062"><figref idref="f0005">FIGS. 5</figref> and <figref idref="f0006">6</figref> are views illustrating a process of acquiring learning variables necessary to learn a relationship between boarding items and virtual sound items according to an embodiment of the present disclosure.</p>
<p id="p0063" num="0063">Learning variables may be the boarding items and the characteristics of the first and second virtual sound signals.</p>
<p id="p0064" num="0064">Referring to <figref idref="f0005">FIG. 5</figref>, the boarding items may include the length of a legroom for each of the plurality of seats and the<!-- EPO <DP n="14"> --> angle of the back of each of the plurality of seats.</p>
<p id="p0065" num="0065">It is assumed that a signal input to the microphone 130 when there is no passenger in the cabin 400 and the length of a legroom and the angle of the back of the seat are set to default values is a reference signal 510.</p>
<p id="p0066" num="0066">The reference signal 510 may be expressed as an impulse response.</p>
<p id="p0067" num="0067">If it is assumed that a passenger 501 is seated on the driver's seat of the cabin 400, a first virtual sound signal 520 input to the microphone 130 may be changed from the reference signal 510.</p>
<p id="p0068" num="0068">The processor 190 may extract the characteristics of the first virtual sound signal 520. The characteristics of the first virtual sound signal 520 may include an early decay time, a first reverberation time and a second reverberation time.</p>
<p id="p0069" num="0069">The second virtual sound signal 530 may be a signal obtained by removing the first virtual sound signal from the reference signal 510.</p>
<p id="p0070" num="0070">The processor 190 may extract the early decay time, the first reverberation time and the second reverberation time, which are the characteristics of the second virtual sound signal 530.<!-- EPO <DP n="15"> --></p>
<p id="p0071" num="0071">Referring to <figref idref="f0006">FIG. 6</figref>, an example of various boarding situations is shown.</p>
<p id="p0072" num="0072">The processor 190 may extract the characteristics of the virtual sound signal changed from the reference signal 510 and the characteristics of a passenger signal obtained by removing the changed virtual sound signal from the reference signal, with respect to each of the plurality of boarding situations.</p>
<p id="p0073" num="0073">The changed virtual sound signal may be the above-described second virtual sound signal.</p>
<p id="p0074" num="0074">The processor 190 may determine a correspondence relationship among the characteristics of the changed virtual sound signal, the characteristics of the passenger signal obtained by removing the changed virtual sound signal from the reference signal and the boarding situations thereto.</p>
<p id="p0075" num="0075">The boarding items may include one or more of the number of passengers, the positions of the seats of the passengers, the length of the legroom of each seat and the angle of the back of the seat.</p>
<p id="p0076" num="0076">The processor 190 may determine the correspondence relationship using a known classification algorithm.</p>
<p id="p0077" num="0077">The processor 190 may group the characteristics of the<!-- EPO <DP n="16"> --> virtual sound signal and the characteristics of the passenger signal corresponding to the boarding situation.</p>
<p id="p0078" num="0078">Although a K-nearest neighbor algorithm may be used in such a grouping process, this is merely an example.</p>
<p id="p0079" num="0079">The processor 190 may generate a sound field table described below based on the determined correspondence relationship.</p>
<p id="p0080" num="0080">The sound field table may indicate the correspondence relationship among a boarding situation, the characteristics of the changed virtual sound signal and the characteristics of the passenger signal.</p>
<p id="p0081" num="0081">The sound field table may further include a filter setting value corresponding to the boarding situation. This will be described below.</p>
<p id="p0082" num="0082"><figref idref="f0003">FIG. 3</figref> will be described again.</p>
<p id="p0083" num="0083">The processor 190 generates the sound field table based on a result of learning (S305).</p>
<p id="p0084" num="0084">The generated sound field table may be stored in the memory 150.</p>
<p id="p0085" num="0085">The processor 190 may generate the sound field table indicating the correspondence relationship among the boarding situation, the characteristics of the changed virtual sound<!-- EPO <DP n="17"> --> signal and the passenger signals based on the result of learning.</p>
<p id="p0086" num="0086">The sound field table may be generated in an external server and transmitted to the vehicle 100.</p>
<p id="p0087" num="0087">The external server may learn the correspondence relationship between the boarding items and the virtual sound items, generate the sound field table based on the result of learning, and transmit the generated sound field table to the vehicle 100.</p>
<p id="p0088" num="0088">An example of the sound field table will be described with reference to <figref idref="f0007">FIG. 7</figref>.</p>
<p id="p0089" num="0089"><figref idref="f0007">FIG. 7</figref> is a view illustrating the configuration of a sound field table according to an embodiment of the present disclosure.</p>
<p id="p0090" num="0090">Referring to <figref idref="f0007">FIG. 7</figref>, the sound field table 700 stored in the memory 150 is shown.</p>
<p id="p0091" num="0091">The sound field table 700 may include an option item 710, a first early decay time item 720, a first reverberation time item 730, a second reverberation time item 740, a second initial decay time item 750, a third reverberation time item 760, a fourth reverberation time item 770, a number-of-passengers item 780, a passenger seat position item 790 and a filter set value item 795.<!-- EPO <DP n="18"> --></p>
<p id="p0092" num="0092">The option item 710 is an item for selecting a sound field mode. For example, when the sound field mode is Mode A, sound in the same state is output to the front seats and the rear seats.</p>
<p id="p0093" num="0093">When the sound field mode is Mode B, the characteristics of sound output toward the front seats and the characteristics of sound output toward the rear seats may be independently differentiated. That is, when the sound field mode is Mode B, independent sound may be output to each of the front seats and the rear seats.</p>
<p id="p0094" num="0094">The first early decay time item 720 may indicate the early decay time extracted from the first virtual sound signal, which is described in <figref idref="f0005">FIG. 5</figref>.</p>
<p id="p0095" num="0095">The first reverberation time item 730 and the second reverberation time item 740 may indicate the reverberation times extracted from the first virtual sound signal described in <figref idref="f0005">FIG. 5</figref>.</p>
<p id="p0096" num="0096">The second early decay time item 750 may indicate an early decay time extracted from the second virtual sound signal, which is described in <figref idref="f0005">FIG. 5</figref>.</p>
<p id="p0097" num="0097">The second virtual sound signal may be the same as the above-described passenger signal or changed virtual sound signal.<!-- EPO <DP n="19"> --></p>
<p id="p0098" num="0098">The third reverberation time item 760 and the fourth reverberation time item 770 may indicate the reverberation times extracted from the second virtual sound signal.</p>
<p id="p0099" num="0099">Each of the first early decay time item 720, the first reverberation time item 730, the second reverberation time item 740, the second initial decay time item 750, the third reverberation time item 760, and the fourth reverberation time item 770 may be expressed in a numerical range.</p>
<p id="p0100" num="0100">The numerical range may be identified as a specific condition, as shown in <figref idref="f0007">FIG. 7</figref>.</p>
<p id="p0101" num="0101">For example, condition 1 may have a range of 0.1 ms to 0.15 ms.</p>
<p id="p0102" num="0102">The number-of-passengers item 780 may indicate the number of persons who ride in the cabin.</p>
<p id="p0103" num="0103">The passenger seat position item 790 may indicate in which seats one or more passengers are located in the cabin.</p>
<p id="p0104" num="0104">For example, in CASE 1, four people are in the cabin, one people is in the driver's seat and three people are in the rear seats.</p>
<p id="p0105" num="0105">The filter set value item 795 may indicate a combination of setting values of filters respectively included in the plurality of speakers 171 to 179 described in <figref idref="f0002">FIG. 2</figref>.<!-- EPO <DP n="20"> --></p>
<p id="p0106" num="0106">The setting values of the filters may include one or more of the magnitude of the sound signal output from each of the plurality of filters and the frequency band of the sound signal.</p>
<p id="p0107" num="0107">The processor 190 may pre-set and include the filter set value according to the boarding situation including the number of passengers and the passenger seat position in the sound field table 700.</p>
<p id="p0108" num="0108"><figref idref="f0003">FIG. 3</figref> will be described again.</p>
<p id="p0109" num="0109">The processor 190 detects the sound signal through the microphone 130 (S307), and determines the boarding items and the filter set matching the detected sound signal using the stored sound field table (S309).</p>
<p id="p0110" num="0110">The processor 190 may extract the characteristics of the sound signal input through the microphone 130 and the characteristics of the passenger signal obtained by removing the reference signal from the sound signal.</p>
<p id="p0111" num="0111">The processor 190 may determine the boarding items corresponding to the characteristics of the sound signal and the characteristics of the passenger signal, and acquire the filter set value corresponding to the determined boarding items from the sound field table.<!-- EPO <DP n="21"> --></p>
<p id="p0112" num="0112">The processor 190 controls operation of the sound output unit 170 to output sound matching the determined filter set value (S311).</p>
<p id="p0113" num="0113">The processor 190 may determine the filter set value according to the sound signal input to the microphone 130, and control operation of the plurality of speakers 171 to 179 to output sound using the determined filter set value.</p>
<p id="p0114" num="0114">An actual example of determining the filter set value based on the sound signal received according to the boarding situation will be described with reference to <figref idref="f0008">FIG. 8</figref>.</p>
<p id="p0115" num="0115"><figref idref="f0008">FIG. 8</figref> is a view illustrating a configuration for determining a filter set value suitable for a detected boarding situation according to an embodiment of the present disclosure.</p>
<p id="p0116" num="0116">In <figref idref="f0008">FIG. 8</figref>, it is assumed that the sound field mode is set to Mode B in which independent sound is output to the front seats and the rear seats. The sound field mode may be set according to user's selection.</p>
<p id="p0117" num="0117">The processor 190 may receive the sound signal through the microphone 130.</p>
<p id="p0118" num="0118">The processor 190 may extract the early decay time and the first and second reverberation signals of the received sound signal.<!-- EPO <DP n="22"> --></p>
<p id="p0119" num="0119">Thereafter, the processor 190 may acquire a passenger signal obtained by removing the received sound signal from a prestored reference signal.</p>
<p id="p0120" num="0120">The processor 190 may extract the early decay time and the first and second reverberation signals of the acquired passenger signal.</p>
<p id="p0121" num="0121">The processor 190 may search for a boarding situation matching the early decay time and the first and second reverberation times of the extracted sound signal and the early decay time and the first and second reverberation times of the passenger signal, using the sound field table stored in the memory 150. Here, the boarding situation may include the number of passengers and the passenger seat position.</p>
<p id="p0122" num="0122">The processor 190 may determine the filter set value as 12 when the number of passengers is 4 and the passenger seat position corresponds to CASE 1.</p>
<p id="p0123" num="0123">That is, the processor 190 may determine the filter set value suitable for a current boarding situation through the sound signal input to the microphone 130, and control the plurality of speakers 171 to 179 to form sound fields using the determined filter set value.</p>
<p id="p0124" num="0124">Therefore, since a personalized sound field suitable<!-- EPO <DP n="23"> --> for the boarding situation can be implemented, it is possible to improve user satisfaction.</p>
<p id="p0125" num="0125"><figref idref="f0009">FIG. 9</figref> is a view showing an example of implementing a sound field using only a sound field mode according to the related art, and <figref idref="f0010">FIG. 10</figref> is a view showing an example of implementing a sound field in consideration of a sound field mode and a boarding situation according to an embodiment of the present disclosure.</p>
<p id="p0126" num="0126">In <figref idref="f0009">FIGS. 9</figref> and <figref idref="f0010">10</figref>, the boarding situation shown in <figref idref="f0008">FIG. 8</figref> is assumed. That is, the boarding situation is a situation in which the number of passengers is 4, one people is in the driver's seat, and three people are in the rear seats.</p>
<p id="p0127" num="0127">In addition, in <figref idref="f0009">FIGS. 9</figref> and <figref idref="f0010">10</figref>, it is assumed that the sound field mode described in <figref idref="f0007">FIG. 7</figref> is Mode B.</p>
<p id="p0128" num="0128">Referring to <figref idref="f0009">FIG. 9</figref>, in the related art, when Mode B is selected by a user as the sound field mode, the filter coefficients of the plurality of speakers 174 to 179 were set to implement a first sound field 910 and a second sound field 930.</p>
<p id="p0129" num="0129">In the first sound field 910, although a passenger is not in the passenger seat, since filter coefficients considering the passenger seat is applied, the passenger in the driver's<!-- EPO <DP n="24"> --> seat cannot hear optimized sound.</p>
<p id="p0130" num="0130">Referring to <figref idref="f0010">FIG. 10</figref>, although the sound field mode is set to Mode B according to user selection, since the number of passengers and the seat position of the passenger are considered, the filter coefficients of the plurality of speakers 174 to 179 may be set such that an optimized third sound field 920 is provided to the driver.</p>
<p id="p0131" num="0131">Therefore, although the user sets only the sound field mode, optimized sound fields suitable for the boarding situation may be implemented. Accordingly, the passengers of the vehicle can experience personalized sound fields, thereby improving auditory satisfaction.</p>
<p id="p0132" num="0132"><figref idref="f0011">FIG. 11</figref> is a flowchart illustrating a method of operating a vehicle according to another embodiment of the present disclosure.</p>
<p id="p0133" num="0133">In particular, <figref idref="f0011">FIG. 11</figref> shows an embodiment in which a first filter set value matching first boarding information is changed to a second filter set value matching second boarding information, when the first boarding information determined based on the sound signal input through the microphone 130 the second boarding information determined based on an image captured through the camera 140 do not coincide.<!-- EPO <DP n="25"> --></p>
<p id="p0134" num="0134">Referring to <figref idref="f0011">FIG. 11</figref>, the processor 190 acquires a first filter set value matching first boarding information acquired based on the sound signal input to the microphone 130 (S1101).</p>
<p id="p0135" num="0135">The process of acquiring the first filter set value matching the first boarding information may use the embodiment of <figref idref="f0003">FIG. 3</figref>.</p>
<p id="p0136" num="0136">The processor 190 acquires second boarding information through the camera 140 (S1103).</p>
<p id="p0137" num="0137">The processor 190 may determine the number of passengers and the seat position of the passenger using the image captured through the camera 140. To this end, as the camera 140, an RGB camera or an infrared (IR) camera may be used.</p>
<p id="p0138" num="0138">The processor 190 may recognize the faces of the passengers from the image captured through the camera 140 and determine the number of recognized faces as the number of passengers.</p>
<p id="p0139" num="0139">In addition, the processor 190 may determine in which area the face recognized in the captured image is located and determine the seat position of the passenger.</p>
<p id="p0140" num="0140">As a result, the processor 190 may acquire second boarding information including the number of passengers and the seat position of each passenger from the captured image.<!-- EPO <DP n="26"> --></p>
<p id="p0141" num="0141">The processor 190 determines whether the first boarding information and the second boarding information coincide (S1105).</p>
<p id="p0142" num="0142">When the first boarding information and the second boarding information coincide, the processor 190 controls the output of the plurality of speakers 171 to 179 based on the first filter set value (S1107).</p>
<p id="p0143" num="0143">When the first boarding information and the second boarding information coincide, the processor 190 may determine that the first boarding information is accurately recognized.</p>
<p id="p0144" num="0144">When the first boarding information and the second boarding information do not coincide, the processor 190 acquires a second filter set value matching the second boarding information and changes the first filter set value to the second filter set value (S1109).</p>
<p id="p0145" num="0145">When the first boarding information and the second boarding information do not coincide, the processor 190 may correct the filter set value based on the second boarding information.</p>
<p id="p0146" num="0146">This is because noise is included in the sound signal input to the microphone 130 and thus accurate boarding information cannot be extracted.</p>
<p id="p0147" num="0147">When the first boarding information and the second<!-- EPO <DP n="27"> --> boarding information do not coincide, the processor 190 may acquire the second filter set value matching the second boarding information using the sound field table.</p>
<p id="p0148" num="0148">The processor 190 controls the output of the plurality of speakers 171 to 179 based on the changed second filter set value (S1111).</p>
<p id="p0149" num="0149">According to the embodiment of <figref idref="f0011">FIG. 11</figref>, since the boarding information of the vehicle can be more accurately grasped, it is possible to provide more optimized sound field to the passengers.</p>
<p id="p0150" num="0150">The present disclosure described above can be implemented as computer-readable code on a medium on which a program is recorded. The computer-readable medium includes all types of recording devices that store data that can be read by a computer system. Examples of the computer-readable recording medium include HDDs (Hard Disk Drives), SSDs (Solid State Disks), SDDs (Silicon Disk Drives), ROMs, RAMs, CD-ROMs, magnetic tapes, floppy disks, optical data storage devices, etc. In addition, the computer may include the processor.</p>
<p id="p0151" num="0151">The above exemplary embodiments are therefore to be construed in all aspects as illustrative and not restrictive. The scope of the embodiments should be determined by the<!-- EPO <DP n="28"> --> appended claims and their legal equivalents, not by the above description, and all changes coming within the meaning and equivalency range of the appended claims are intended to be embraced therein.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="29"> -->
<claim id="c-en-0001" num="0001">
<claim-text>A vehicle comprising:
<claim-text>a microphone;</claim-text>
<claim-text>a plurality of speakers;</claim-text>
<claim-text>a memory configured to store a sound source table including correspondence relationships among boarding items, virtual sound items and filter set values; and</claim-text>
<claim-text>a processor configured to receive a sound signal through the microphone, determine a first filter set value matching characteristics of the received sound signal using the sound source table, and control output of the plurality of speakers to output sound according to the determined first filter set value.</claim-text></claim-text></claim>
<claim id="c-en-0002" num="0002">
<claim-text>The vehicle of claim 1, wherein the processor is configured to:
<claim-text>extract characteristics of the sound signal and characteristics of a passenger signal obtained by removing the sound signal from a reference signal,<!-- EPO <DP n="30"> --></claim-text>
<claim-text>determine boarding items matching the characteristics of the sound signal and the characteristics of the passenger signal, and</claim-text>
<claim-text>determine the first filter set value matching the determined boarding items using the sound field table.</claim-text></claim-text></claim>
<claim id="c-en-0003" num="0003">
<claim-text>The vehicle of claim 1,
<claim-text>wherein the boarding items include the number of passengers and a seat position of each passenger, and</claim-text>
<claim-text>wherein the virtual sound signals include an early decay time, a first reverberation time and a second reverberation signal of each of a virtual sound signal and a passenger signal obtained by removing the virtual sound signal from a reference signal.</claim-text></claim-text></claim>
<claim id="c-en-0004" num="0004">
<claim-text>The vehicle of claim 2, further comprising a camera,<br/>
wherein the processor is configured to:
<claim-text>acquire second boarding information including the number passengers and the seat position of each passenger from an image captured through the camera,</claim-text>
<claim-text>compare first boarding information and second boarding information including boarding items matching the<!-- EPO <DP n="31"> --> characteristics of the sound signal and the characteristics of the passenger signal, and</claim-text>
<claim-text>determine a second filter set value matching the second boarding information using the sound field table, when the first boarding information and the second boarding information are different.</claim-text></claim-text></claim>
<claim id="c-en-0005" num="0005">
<claim-text>The vehicle of claim 4, wherein the processor is configured to change the first filter set value to the second filter set value using the sound field table, when the first boarding information and the second boarding information are different.</claim-text></claim>
<claim id="c-en-0006" num="0006">
<claim-text>The vehicle of claim 5, wherein the processor is configured to control output of the plurality of speakers to output sound according to the changed second filter set value.</claim-text></claim>
<claim id="c-en-0007" num="0007">
<claim-text>The vehicle of claim 1,
<claim-text>wherein the first filter set value indicates a combination of respective setting values of a plurality of filters respectively included in the plurality of speakers, and<!-- EPO <DP n="32"> --></claim-text>
<claim-text>wherein the setting value of each filter includes one or more of a magnitude of a sound signal and a frequency band of a sound signal.</claim-text></claim-text></claim>
<claim id="c-en-0008" num="0008">
<claim-text>A method of operating a vehicle, the method comprising:
<claim-text>receiving a sound signal through a microphone;</claim-text>
<claim-text>determining a first filter set value matching characteristics of the received sound signal using a sound source table including correspondence relationships among boarding items, virtual sound items and filter set values, the sound source table being stored in a memory; and</claim-text>
<claim-text>controlling output of a plurality of speakers to output sound according to the determined first filter set value.</claim-text></claim-text></claim>
<claim id="c-en-0009" num="0009">
<claim-text>The method of claim 8, wherein the determining of the first filter set value comprises:
<claim-text>extracting characteristics of the sound signal and characteristics of a passenger signal obtained by removing the sound signal from a reference signal,</claim-text>
<claim-text>determining boarding items matching the characteristics of the sound signal and the characteristics of the passenger signal, and<!-- EPO <DP n="33"> --></claim-text>
<claim-text>determining the first filter set value matching the determined boarding items using the sound field table.</claim-text></claim-text></claim>
<claim id="c-en-0010" num="0010">
<claim-text>The method of claim 8,
<claim-text>wherein the boarding items include the number of passengers and a seat position of each passenger, and</claim-text>
<claim-text>wherein the virtual sound signals include an early decay time, a first reverberation time and a second reverberation signal of each of a virtual sound signal and a passenger signal obtained by removing the virtual sound signal from a reference signal.</claim-text></claim-text></claim>
<claim id="c-en-0011" num="0011">
<claim-text>The method of claim 9, further comprising:
<claim-text>acquiring second boarding information including the number passengers and the seat position of each passenger from an image captured through a camera,</claim-text>
<claim-text>comparing first boarding information and second boarding information including boarding items matching the characteristics of the sound signal and the characteristics of the passenger signal, and</claim-text>
<claim-text>determining a second filter set value matching the second boarding information using the sound field table, when the first<!-- EPO <DP n="34"> --> boarding information and the second boarding information are different.</claim-text></claim-text></claim>
<claim id="c-en-0012" num="0012">
<claim-text>The method of claim 11, further comprising changing the first filter set value to the second filter set value using the sound field table, when the first boarding information and the second boarding information are different.</claim-text></claim>
<claim id="c-en-0013" num="0013">
<claim-text>The method of claim 12, further comprising controlling output of the plurality of speakers to output sound according to the changed second filter set value.</claim-text></claim>
<claim id="c-en-0014" num="0014">
<claim-text>The method of claim 8,
<claim-text>wherein the first filter set value indicates a combination of respective setting values of a plurality of filters respectively included in the plurality of speakers, and</claim-text>
<claim-text>wherein the setting value of each filter includes one or more of a magnitude of a sound signal or a frequency band of a sound signal.</claim-text><!-- EPO <DP n="35"> --></claim-text></claim>
<claim id="c-en-0015" num="0015">
<claim-text>A computer-readable recording medium having recorded thereon a program for performing a method of operating a vehicle, the method comprising:
<claim-text>receiving a sound signal through a microphone;</claim-text>
<claim-text>determining a first filter set value matching characteristics of the received sound signal using a sound source table including correspondence relationships among boarding items, virtual sound items and filter set values, the sound source table being stored in a memory; and</claim-text>
<claim-text>controlling output of a plurality of speakers to output sound according to the determined first filter set value.</claim-text></claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="36"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="140" he="106" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="151" he="115" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="115" he="122" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> -->
<figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="119" he="117" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> -->
<figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="105" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> -->
<figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="95" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> -->
<figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="96" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> -->
<figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="155" he="121" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> -->
<figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="111" he="136" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> -->
<figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="111" he="131" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> -->
<figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="159" he="121" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="en" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="154" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="154" he="233" type="tif"/></search-report-data>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="US9591420B"><document-id><country>US</country><doc-number>9591420</doc-number><kind>B</kind></document-id></patcit><crossref idref="pcit0001">[0005]</crossref><crossref idref="pcit0002">[0006]</crossref><crossref idref="pcit0003">[0007]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
