<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP21157964A1" file="EP21157964NWA1.xml" lang="fr" country="EP" doc-number="3890328" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="fr"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890328</B110><B120><B121>DEMANDE DE BREVET EUROPEEN</B121></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>21157964.4</B210><B220><date>20210218</date></B220><B240><B241><date>20210218</date></B241><B242><date>20210324</date></B242></B240><B250>fr</B250><B251EP>fr</B251EP><B260>fr</B260></B200><B300><B310>2003258</B310><B320><date>20200401</date></B320><B330><ctry>FR</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04N  21/233       20110101AFI20210311BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04N  21/242       20110101ALI20210311BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04N  21/43        20110101ALI20210311BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>H04R  27/00        20060101ALI20210311BHEP        </text></classification-ipcr><classification-ipcr sequence="5"><text>H04N  21/8547      20110101ALN20210311BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04N  21/242       20130101 LI20200707BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04R2227/005       20130101 LA20200811BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>H04N  21/4305      20130101 FI20200707BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04N  21/2335      20130101 LI20200707BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04R2420/07        20130101 LA20200811BHEP        </text></classification-cpc><classification-cpc sequence="6"><text>H04R  27/00        20130101 LI20200707BHEP        </text></classification-cpc><classification-cpc sequence="7"><text>H04N  21/8547      20130101 LA20200707BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN ZUR VERWALTUNG EINES AUF EINEN REFERENZTAKT SYNCHRONISIERTEN AUDIOSTROMS</B542><B541>en</B541><B542>METHOD FOR MANAGING AN AUDIO STREAM PLAYED SYNCHRONOUSLY USING A REFERENCE CLOCK</B542><B541>fr</B541><B542>PROCÉDÉ DE GESTION D'UN FLUX AUDIO LU DE MANIÈRE SYNCHRONISÉE SUR UNE HORLOGE DE RÉFÉRENCE</B542></B540><B590><B598>1</B598></B590></B500><B700><B710><B711><snm>SAGEMCOM BROADBAND SAS</snm><iid>101665510</iid><irf>0H-1229K472SMA</irf><adr><str>250, route de l'Empereur</str><city>92500 Rueil-Malmaison</city><ctry>FR</ctry></adr></B711></B710><B720><B721><snm>BERGER, Jérôme</snm><adr><str>c/o SAGEMCOM BROADBAND SAS - 250 route de
l'Empereur</str><city>92500 RUEIL MALMAISON</city><ctry>FR</ctry></adr></B721><B721><snm>BOUVIGNE, Gabriel</snm><adr><str>c/o SAGEMCOM BROADBAND SAS -
250 route de l'Empereur</str><city>92500 RUEIL MALMAISON</city><ctry>FR</ctry></adr></B721></B720><B740><B741><snm>Decorchemont, Audrey Véronique Christèle</snm><sfx>et al</sfx><iid>101443327</iid><adr><str>CABINET BOETTCHER 
16, rue Médéric</str><city>75017 Paris</city><ctry>FR</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP></B800></SDOBI>
<abstract id="abst" lang="fr">
<p id="pa01" num="0001">Procédé de gestion d'un flux audio lu de manière synchronisée sur une horloge de référence par un équipement de restitution audio, le procédé comportant les étapes suivantes implémentées dans ledit équipement de restitution audio :<br/>
- recevoir le flux audio, le flux audio se présentant sous la forme de paquets, chaque paquet comprenant une succession d'échantillons audio associés à au moins une information d'identification caractéristique d'un horodatage dudit paquet;<br/>
- jouer les échantillons audio contenus dans chaque paquet et mémoriser une heure donnée par l'horloge de référence caractéristique du moment où un échantillon prédéterminé d'au moins l'un des paquets est joué ;<br/>
- envoyer un message comprenant au moins une information de correspondance entre l'information d'identification caractéristique d'un horodatage dudit paquet et l'heure mémorisée à l'étape précédente.
<img id="iaf01" file="imgaf001.tif" wi="78" he="96" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="fr"><!-- EPO <DP n="1"> -->
<p id="p0001" num="0001">L'invention concerne le domaine de la restitution audio via un ou des équipements de restitution audio.</p>
<heading id="h0001">ARRIERE PLAN DE L'INVENTION</heading>
<p id="p0002" num="0002">Il est aujourd'hui très courant, dans les installations multimédia domestiques modernes, de connecter un équipement décodeur, de type boitier décodeur STB à un ou plusieurs équipements de restitution audio.</p>
<p id="p0003" num="0003">En effet les équipements de restitution audio peuvent ainsi être groupés pour pouvoir diffuser simultanément un même flux audio et ainsi améliorer l'expérience acoustique de l'utilisateur. Par exemple, deux équipements de restitution audio peuvent être agencés dans des pièces différentes d'une habitation, la diffusion du flux audio de manière simultanée par lesdits équipements permettant à l'utilisateur de circuler entre les deux pièces sans interrompre son écoute.</p>
<p id="p0004" num="0004">Ainsi il est connu d'imposer aux équipements de restitution audio de diffuser le flux audio de manière synchronisée en se basant sur une horloge externe. Par exemple on a recours à des enceintes connectées utilisant un protocole de type NTP ou PTP pour recevoir l'horloge externe, enceintes cadençant ensuite la lecture du flux audio via une horloge matérielle interne configurable. Typiquement cette horloge est réalisée par un composant de type PLL (« <i>Phase-Locked Loop</i> ») qui permet de subdiviser une horloge de référence (fournie par un quartz). Les PLL permettent de configurer finement la subdivision appliquée, et l'enceinte connectée associée ajuste dynamiquement les paramètres de<!-- EPO <DP n="2"> --> subdivision pour que l'horloge matérielle interne configurable générée par la PLL suive au plus près l'horloge externe.</p>
<p id="p0005" num="0005">Bien qu'efficace cette solution oblige à doter chaque enceinte connectée d'une horloge matérielle configurable ce qui la rend coûteuse et complexe à mettre en œuvre.</p>
<heading id="h0002">OBJET DE L'INVENTION</heading>
<p id="p0006" num="0006">Un but de l'invention est de proposer un procédé facilitant la synchronisation de la lecture d'un flux audio sur une horloge de référence par au moins un équipement de restitution audio.</p>
<heading id="h0003">RESUME DE L'INVENTION</heading>
<p id="p0007" num="0007">En vue de la réalisation de ce but, on propose selon l'invention un procédé de gestion d'un flux audio lu de manière synchronisée sur une horloge de référence par au moins un équipement de restitution audio, le procédé comportant au moins les étapes suivantes implémentées dans ledit équipement de restitution audio :
<ul id="ul0001" list-style="dash" compact="compact">
<li>recevoir le flux audio, le flux audio se présentant sous la forme de paquets, chaque paquet comprenant une succession d'échantillons audio associés à au moins une information d'identification caractéristique d'un horodatage dudit paquet;</li>
<li>jouer les échantillons audio contenus dans chaque paquet et mémoriser une heure donnée par l'horloge de référence caractéristique du moment où un échantillon prédéterminé d'au moins l'un des paquets est joué ;</li>
<li>envoyer un message comprenant au moins une information de correspondance entre l'information d'identification caractéristique d'un horodatage dudit paquet et l'heure mémorisée à l'étape précédente.</li>
</ul><!-- EPO <DP n="3"> --></p>
<p id="p0008" num="0008">De la sorte, l'invention permet à un équipement de restitution audio de lire un flux audio de manière synchronisée sur une horloge de référence sans avoir besoin de ressources matérielles spéciales au niveau dudit équipement de restitution audio.</p>
<p id="p0009" num="0009">L'invention s'avère ainsi simple et peu coûteuse à mettre en œuvre.</p>
<p id="p0010" num="0010">Optionnellement, l'information de correspondance consiste en la valeur de ladite information d'identification et ladite heure mémorisée.</p>
<p id="p0011" num="0011">Optionnellement, l'information de correspondance consiste en un coefficient directeur d'une droite de régression linéaire entre ladite information et ladite heure mémorisée.</p>
<p id="p0012" num="0012">Optionnellement, le procédé comporte en outre les étapes suivantes implémentées dans l'équipement de restitution audio de :
<ul id="ul0002" list-style="bullet" compact="compact">
<li>Découper chaque paquet reçu en blocs d'échantillons audio ;</li>
<li>Déterminer au moins une information d'horodatage correspondant au moins à un bloc d'échantillons audio à partir de l'information d'identification caractéristique d'un horodatage du paquet dont est extrait le bloc considéré et d'un nombre d'échantillons entre un échantillon particulier dudit paquet et un échantillon donné dudit bloc;</li>
</ul>
l'heure mémorisée étant caractéristique du moment donné où l'échantillon donné dudit bloc est joué et l'information de correspondance étant alors une information de correspondance entre ladite information d'horodatage correspondant audit bloc et ladite heure mémorisée.<!-- EPO <DP n="4"> --></p>
<p id="p0013" num="0013">Optionnellement, le procédé comporte en outre les étapes additionnelles suivantes implémentées dans l'équipement de restitution audio de : calculer pour au moins un paquet N reçu par l'équipement de restitution audio une information d'identification caractéristique d'un horodatage prévue pour le paquet suivant N+1 en additionnant l'information d'identification caractéristique d'un horodatage du paquet qui vient d'être réceptionné et sa durée, et de comparer ladite information d'identification prévue avec l'information d'identification du paquet N+1 lors de sa réception.</p>
<p id="p0014" num="0014">Optionnellement si l'information d'identification du paquet N+1 est postérieure à l'information d'identification prévue, alors l'équipement de restitution audio joue des échantillons de compensation pour une durée correspondant à la différence entre l'information d'identification prévue et l'information d'identification du paquet N+1.</p>
<p id="p0015" num="0015">Optionnellement, les échantillons de compensation sont des silences et/ou des copies des derniers échantillons joués. L'invention concerne également un procédé de gestion d'un flux audio lu de manière synchronisée sur une horloge de référence et transmis par au moins un équipement source, le procédé comportant au moins les étapes suivantes implémentées dans ledit équipement source :
<ul id="ul0003" list-style="bullet" compact="compact">
<li>Découper le flux audio en paquets, chaque paquet comprenant une succession d'échantillons audio;</li>
<li>Associer à chaque paquet une information d'identification caractéristique d'un d'horodatage dudit paquet, information qui est donc représentative de l'heure à laquelle un échantillon audio prédéterminé dudit paquet<!-- EPO <DP n="5"> --> devrait être joué par l'équipement de restitution audio;</li>
</ul>
<ul id="ul0004" list-style="bullet" compact="compact">
<li>Recevoir un message comprenant au moins une information de correspondance entre l'information d'identification caractéristique d'un horodatage d'au moins l'un des paquets et une heure donnée par l'horloge de référence caractéristique du moment où l'échantillon audio prédéterminé dudit paquet a été joué ;</li>
<li>Ajuster, en fonction de ladite information de correspondance, la vitesse de lecture du flux audio en fonction de ladite information de correspondance et/ou le paquet suivant avant de l'envoyer.</li>
</ul></p>
<p id="p0016" num="0016">Optionnellement, l'étape d'ajuster le paquet suivant est mise en œuvre par ajustement du nombre d'échantillons audio contenus dans le paquet.</p>
<p id="p0017" num="0017">Optionnellement, on ajuste le nombre d'échantillons en supprimant ou en ajoutant des échantillons audio audit paquet.</p>
<p id="p0018" num="0018">Optionnellement, on ajuste le paquet suivant en appliquant un filtre de rééchantillonnage audit paquet. Optionnellement, on ajuste le nombre d'échantillons en conservant une taille de paquet identique à celle du paquet qui a été précédemment transmis.</p>
<p id="p0019" num="0019">L'invention concerne également un équipement de restitution audio adapté pour mettre en œuvre le procédé tel que précité.</p>
<p id="p0020" num="0020">L'invention concerne également un équipement source adapté pour mettre en œuvre le procédé tel que précité. L'invention concerne également une installation comprenant au moins un premier équipement de restitution audio tel que précité et un deuxième équipement de restitution audio configuré pour transmettre le flux audio audit premier<!-- EPO <DP n="6"> --> équipement de restitution audio, le deuxième équipement de restitution audio ajustant lui-même ledit flux si l'autre équipement de restitution audio ne le lit pas à la bonne vitesse.</p>
<p id="p0021" num="0021">L'invention concerne également une installation comprenant au moins un premier équipement de restitution audio tel que précité et un équipement source tel que précité. L'invention concerne également un programme d'ordinateur comprenant des instructions qui conduisent un équipement de restitution audio tel que précité à exécuter le procédé tel que précité.</p>
<p id="p0022" num="0022">L'invention concerne également un support d'enregistrement lisible par ordinateur, sur lequel est enregistré le programme d'ordinateur tel que précité.</p>
<p id="p0023" num="0023">L'invention concerne également un programme d'ordinateur comprenant des instructions qui conduisent un équipement source tel que précité à exécuter le procédé tel que précité.</p>
<p id="p0024" num="0024">L'invention concerne également un support d'enregistrement lisible par ordinateur, sur lequel est enregistré le programme d'ordinateur tel que précité.</p>
<p id="p0025" num="0025">D'autres caractéristiques et avantages de l'invention ressortiront à la lecture de la description qui suit de mises en œuvre particulières non limitatives de l'invention.</p>
<heading id="h0004">BREVE DESCRIPTION DES DESSINS</heading>
<p id="p0026" num="0026">L'invention sera mieux comprise à la lumière de la description qui suit en référence aux figures annexées parmi lesquelles :
<ul id="ul0005" list-style="none" compact="compact">
<li>[<figref idref="f0001">Fig. 1</figref>] la <figref idref="f0001">figure 1</figref> représente schématiquement une installation permettant de mettre en œuvre l'invention ;<!-- EPO <DP n="7"> --></li>
<li>[<figref idref="f0001">Fig. 2</figref>] la <figref idref="f0001">figure 2</figref> représente schématiquement différentes étapes d'une mise en œuvre particulière de l'invention au niveau d'un équipement de restitution audio de l'installation représentée à la <figref idref="f0001">figure 1</figref> ;</li>
<li>[<figref idref="f0002">Fig. 3</figref>] la <figref idref="f0002">figure 3</figref> représente schématiquement différentes étapes d'une mise en œuvre particulière de l'invention au niveau d'un équipement source de l'installation représentée à la <figref idref="f0001">figure 1</figref>.</li>
</ul></p>
<heading id="h0005">DESCRIPTION DETAILLEE DE L'INVENTION</heading>
<p id="p0027" num="0027">En référence à la <figref idref="f0001">figure 1</figref>, un exemple d'installation pouvant mettre en œuvre l'invention va être à présent décrit.</p>
<p id="p0028" num="0028">L'installation est une installation multimédia comprenant un équipement décodeur 12 relié ici à un équipement de restitution vidéo, qui est ici en réalité un équipement de restitution audio/vidéo 13, et à au moins un équipement de restitution audio. L'équipement décodeur 12 joue ici le rôle d'un équipement source pour les deux équipements de restitution audio 11a, 11b. Les équipements de restitution audio 11a, 11b sont par ailleurs distincts dans le cas présent de l'équipement décodeur 12 mais également de l'équipement de restitution audio/vidéo 13.</p>
<p id="p0029" num="0029">Par ailleurs, l'installation comporte également un appareil 15 permettant de commander au moins les équipements de restitution audio 11a, 11b et de préférence au moins les équipements de restitution audio 11a, 11b et l'équipement décodeur 12 et de préférence toute l'installation. L'appareil 15 est dans le cas présent distinct de l'équipement décodeur 12 mais également de l'équipement de restitution audio/vidéo 13 mais également de chacun des équipements de restitution audio 11a, 11b.<!-- EPO <DP n="8"> --> L'équipement décodeur 12 est ici un boîtier décodeur, l'équipement de restitution audio/vidéo 13 est une télévision, et les équipements de restitution audio 11a, 11b sont des enceintes externes et connectées audit boitier décodeur. Quant à l'appareil 15, il s'agit ici d'un téléphone portable intelligent (ou « smartphone) ou bien encore une tablette, le téléphone ou la tablette comprenant des moyens de stockage d'une application dédiée au moins au contrôle de l'équipement décodeur 12 et des équipements de restitution audio 11a, 11b, l'exécution de cette application permettant ainsi de commander au moins l'équipement décodeur 12 et les équipements de restitution audio 11a, 11b.</p>
<p id="p0030" num="0030">En service, l'équipement décodeur 12 acquiert au niveau d'une interface de communication de l'équipement décodeur 12, un flux multimédia audio/vidéo qui peut provenir d'un ou de plusieurs réseaux de diffusion. Les réseaux de diffusion peuvent être de tout type. Par exemple, le réseau de diffusion est un réseau de télévision par satellite, et l'équipement décodeur 12 reçoit un flux d'entrée audio/vidéo à travers une antenne parabolique. En variante, le réseau de diffusion est une connexion Internet et l'équipement décodeur 12 reçoit le flux d'entrée audio/vidéo à travers ladite connexion Internet. Selon une autre variante, le réseau de diffusion est un réseau de télévision numérique terrestre (TNT) ou un réseau de télévision par câble. De manière globale, le réseau de diffusion peut être de source diverse : satellite, câble, IP, TNT (réseau de Télévision Numérique Terrestre), flux audio/vidéo stocké localement, etc.</p>
<p id="p0031" num="0031">L'équipement décodeur 12 comporte des moyens de traitement<!-- EPO <DP n="9"> --> permettant entre autres de traiter le flux d'entrée audio/vidéo.</p>
<p id="p0032" num="0032">Par ailleurs l'équipement de restitution audio/vidéo 13 est connecté à une sortie audio/vidéo de l'équipement décodeur 12 et chaque équipement de restitution audio 11a, 11b est connecté à une sortie audio de l'équipement décodeur 12.</p>
<p id="p0033" num="0033">Par « sortie audio/vidéo », on entend une sortie sur laquelle l'équipement décodeur 12 applique au moins un signal audio/vidéo pour mettre en œuvre une restitution audio et une restitution vidéo via (au moins) un équipement de restitution audio/vidéo 13 (ici la télévision). Par « sortie audio », on entend une sortie sur laquelle l'équipement décodeur 12 applique au moins un signal audio pour mettre en œuvre une restitution audio via (au moins) un équipement de restitution audio 11a, 11b (ici les enceintes connectées externes). En réalité le signal audio (ou flux audio) est découpé en paquets d'échantillons audio et est donc transmis par paquets à chaque équipement de restitution audio visé.</p>
<p id="p0034" num="0034">En conséquence, chaque équipement de restitution audio 11a, 11b comporte des moyens de traitement qui lui sont propres pour traiter le flux audio transmis par l'équipement décodeur 12. Les moyens de traitement comportent par exemple un processeur et/ou un calculateur et/ou un micro-ordinateur ... Dans le cas présent, les moyens de traitement comportent un processeur.</p>
<p id="p0035" num="0035">Typiquement les moyens de traitement comportent une zone mémoire dans laquelle est enregistré un logiciel dont l'exécution permet la lecture du flux audio transmis par l'équipement décodeur 12. Plus précisément la lecture du<!-- EPO <DP n="10"> --> flux audio est exécutée par réception des paquets d'échantillons audio de l'équipement décodeur 12 et par injection desdits échantillons dans un tampon mémoire d'entrée de l'équipement de restitution audio considéré. Le tampon mémoire est agencé en entrée de moyens de diffusion de l'équipement de restitution audio considéré. Les moyens de diffusion comportent par exemple une carte son, un convertisseur analogique-numérique, un ou plusieurs haut-parleurs ...</p>
<p id="p0036" num="0036">Le tampon mémoire possède une certaine capacité (par exemple de 200 millisecondes) et les moyens de diffusion jouent ainsi les échantillons présents dans ce tampon mémoire à un rythme régulier (par exemple de 48 kilohertz). Lorsque le niveau de remplissage du tampon mémoire tombe en dessous d'un seuil fixé (par exemple à 190 millisecondes), les moyens de diffusion émettent une interruption à destination des moyens de traitement. À la suite de cela, les moyens de traitement injectent de nouveaux échantillons audio dans le tampon : plus précisément le logiciel provoque alors la copie d'un nouveau bloc d'échantillons audio (par exemple un bloc de 10 millisecondes) à la fin du tampon mémoire.</p>
<p id="p0037" num="0037">Par ailleurs, comme indiqué, l'appareil 15 permet de transmettre des ordres à l'équipement décodeur 12 et aux équipements de restitution audio 11a, 11b ce qui permet à l'utilisateur de pouvoir gérer l'installation via l'appareil 15 par exemple via une interface graphique de commande de l'appareil 15 tel qu'un écran tactile de l'appareil 15.</p>
<p id="p0038" num="0038">Typiquement, l'utilisateur peut utiliser l'appareil 15 pour envoyer un ordre à l'équipement décodeur 12 afin que<!-- EPO <DP n="11"> --> l'équipement décodeur 12 envoie un flux audio à destination du ou des équipements de restitution audio 11a, 11b sélectionnés pour que ceux-ci diffusent le flux audio de manière synchronisée. Dans ce cas, l'équipement décodeur 12 peut envoyer des canaux différents aux différents équipements de restitution audio 11a, 11b. Par exemple dans le cas d'un flux audio stéréo comportant deux canaux, l'équipement décodeur 12 peut envoyer le canal de gauche à l'un des équipements de restitution audio 11a et le canal de droite à un autre des équipements de restitution audio 11b. L'équipement décodeur 12 peut également transmettre les deux canaux droit et gauche à un seul des deux équipements de restitution audio 11a, qui ne restituera que le canal de gauche et transféra le canal de droite (ou l'intégralité du flux audio) à l'autre équipement de restitution audio droit 11b qui ne restituera lui-même que le canal de droite.</p>
<p id="p0039" num="0039">L'utilisateur peut également envoyer un ordre à l'équipement décodeur 12 via l'appareil 15 afin que l'équipement décodeur 12 envoie un flux audio vers un seul des équipements de restitution audio (ou vers les deux équipements de restitution audio 11a, 11b) et un flux vidéo (ou un flux audio/vidéo) vers l'équipement de restitution audio/vidéo 13 afin que le ou les équipements de restitution audio sélectionnés 11a, 11b diffusent le flux audio de manière synchronisée avec la vidéo (ou avec la vidéo et le son) diffusée par l'équipement de restitution audio/vidéo 13.</p>
<p id="p0040" num="0040">On retient que l'on considère ici que les équipements de restitution audio 11a, 11b retranscrivant un même flux audio appartiennent à un même groupe et ce que chaque<!-- EPO <DP n="12"> --> équipement de restitution audio 11a, 11b retranscrive le flux dans son intégralité ou le retranscrive partiellement par diffusion d'un seul des canaux dudit flux (dans le cas par exemple d'un flux stéréo).</p>
<p id="p0041" num="0041">Selon les configurations commandées par l'utilisateur, les groupes d'équipement de restitution audio 11a, 11b peuvent donc évoluer dans le temps.</p>
<p id="p0042" num="0042">Afin de permettre la synchronisation entre les équipements de restitution audio 11a, 11b de l'installation et/ou l'équipement de restitution audio/vidéo 13 et/ou entre plusieurs flux (audio et/ou vidéo) circulant dans l'installation, des données de synchronisation sont échangées au moins entre l'équipement décodeur 12 et les équipements de restitution audio 11a, 11b d'une part et entre l'équipement décodeur 12 et l'équipement de restitution audio/vidéo 13 d'autre part.</p>
<p id="p0043" num="0043">Selon un mode particulier de réalisation, l'équipement décodeur 12 envoie un flux audio à un ou des équipements de restitution audio 11a, 11b en utilisant un protocole RTP. Ce protocole prévoit en effet que le flux audio soit découpé en paquets et que l'en-tête de chaque paquet comporte des données de synchronisation sous la forme d'un champ d'horodatage (champ « timestamp » décrit dans la section 5.1 de la RFC 3550 associée audit protocole). Selon un autre mode particulier de réalisation, l'équipement décodeur 12 envoie un flux audio à un ou des équipements de restitution audio sous la forme d'un flux « transport » MPEG transmis dans des paquets UDP, le flux « transport » MPEG permettant lui aussi d'associer des données de synchronisation (sous la forme d'un horodatage) aux différents paquets. Par ailleurs, les données de<!-- EPO <DP n="13"> --> synchronisation comportent également une information caractéristique de l'horloge de référence qui est distincte du flux audio.</p>
<p id="p0044" num="0044">Dans le cas présent, l'horloge de référence est l'horloge interne de l'équipement décodeur 12.</p>
<p id="p0045" num="0045">Par exemple, l'équipement décodeur 12 envoie son horloge aux équipements de restitution audio 11a, 11b en utilisant un protocole NTP.</p>
<p id="p0046" num="0046">Par exemple, l'équipement décodeur 12 envoie directement aux équipements de restitution audio 11a, 11b au moins :
<ul id="ul0006" list-style="dash" compact="compact">
<li>le flux audio sous la forme de paquets via un protocole RTP ou MPEG ;</li>
<li>son horloge en utilisant un protocole NTP,</li>
</ul>
l'horloge n'étant pas contenu dans le flux audio de sorte que le flux audio et l'horloge soient transmis de manière distincte.</p>
<p id="p0047" num="0047">La connexion entre l'équipement décodeur 12 et l'équipement de restitution audio/vidéo 13 peut être filaire ou sans fil. Tout type de technologie peut être utilisé pour réaliser cette connexion : optique, radioélectrique, etc. La connexion peut ainsi avoir différentes natures « physiques » (par exemple en HDMI, <i>Toslink,</i> RCA, etc.) et/ou utiliser différents protocoles « informatiques » (par exemple en <i>Bluetooth,</i> UPnP, <i>Airplay, Chromecast,</i> Wifi, etc) .</p>
<p id="p0048" num="0048">La connexion entre l'équipement décodeur 12 et chaque équipement de restitution audio 11a, 11b, par lequel circule la liaison audio, est ici non filaire. Tout type de technologie peut être utilisé pour réaliser cette connexion : optique, radioélectrique, etc. La connexion peut ainsi utiliser différents protocoles<!-- EPO <DP n="14"> --> « informatiques » (par exemple en <i>Bluetooth,</i> UPnP, <i>Airplay, Chromecast,</i> Wifi, etc). Alternativement, la connexion pourra être filaire par exemple via un protocole Ethernet.</p>
<p id="p0049" num="0049">Ainsi et selon une option non limitative, l'équipement de restitution audio/vidéo 13 est en relation HDMI 14 avec l'équipement décodeur 12 et les équipements de restitution audio 11a, 11b sont connectés par un réseau local à l'équipement décodeur 12. Le réseau local est par exemple un réseau sans fil de type Wi-Fi. Selon une autre variante, le réseau local comporte un routeur Wi-Fi, l'équipement décodeur 12 est relié audit routeur Wi-Fi par une connexion filaire de type Ethernet ou est relié au routeur par une connexion sans fil de type Wi-Fi. Par ailleurs, et indépendamment de la liaison entre le routeur et l'équipement décodeur 12, les équipements de restitution audio 11a, 11b sont connectés au routeur Wi-Fi par une connexion sans fil de type Wi-Fi ou par une connexion filaire de type Ethernet.</p>
<p id="p0050" num="0050">De la même manière, l'appareil 15 communique avec l'équipement décodeur 12 et avec les équipements de restitution audio 11a, 11b via des communications préférentiellement non filaires. Tout type de technologie peut être utilisé pour réaliser ces communications : optique, radioélectrique, etc. Ces communications peuvent ainsi utiliser différents protocoles « informatiques » (par exemple en <i>Bluetooth,</i> UPnP, <i>Airplay, Chromecast,</i> Wifi, etc). Ainsi et selon une option non limitative, l'appareil 15 est également connecté via le réseau local à l'équipement décodeur 12 et aux différents équipements de restitution audio 11a, 11b.<!-- EPO <DP n="15"> --></p>
<p id="p0051" num="0051">On va à présent s'attacher à décrire comment l'installation va permettre la lecture synchronisée d'un flux audio donné. On rappelle que chacun des équipements de restitution audio sélectionné 11a, 11b reçoit de l'équipement décodeur 12 un flux audio à diffuser se présentant sous la forme de paquets d'échantillons associés chacun à une information d'identification caractéristique d'un horodatage du paquet considéré, ladite information étant ici directement l'horodatage dudit paquet (via un protocole RTP ou MPEG) et sera appelée par la suite première information d'horodatage. Cette première information d'horodatage est par exemple liée au premier échantillon de chaque paquet. Ainsi en service l'équipement décodeur 12 transmet à l'équipement de restitution audio sélectionné des paquets d'échantillons qui sont placés dans une file d'attente (contenue dans l'équipement décodeur 12 et/ou l'équipement de restitution audio) avant injection dans le tampon mémoire. On note donc qu'un paquet d'échantillons n'a pas nécessairement la même durée qu'un bloc d'échantillons. En réalité et de préférence, il n'y a pas d'équivalence entre les paquets reçus par l'équipement de restitution audio sélectionné et les blocs injectés dans son tampon mémoire. En effet, les performances de communication entre l'équipement de restitution audio sélectionné et l'équipement décodeur 12 sont meilleures si les paquets reçus ne sont pas trop petits mais il vaut mieux injecter des petits blocs dans le tampon mémoire pour maintenir un taux de remplissage élevé dans ledit tampon mémoire et en limiter la latence. De manière non limitative, les paquets reçus ont une durée 3 à 7 fois supérieure à celle des paquets injectés et par exemple 4 fois supérieure. Par<!-- EPO <DP n="16"> --> exemple les paquets reçus ont une durée de l'ordre de 40 millisecondes, voire plus, alors que les blocs injectés ont une durée de l'ordre de 10millisecondes.</p>
<p id="p0052" num="0052">En conséquence et comme illustré à la <figref idref="f0001">figure 2</figref>, l'équipement de restitution audio met en œuvre les étapes suivantes.</p>
<p id="p0053" num="0053">À une étape 21, le processeur de chaque équipement de restitution audio attend de recevoir une interruption de la part des moyens de diffusion dudit équipement, ladite interruption signifiant qu'il y a assez de place dans le tampon mémoire pour recevoir un nouveau bloc d'échantillons.</p>
<p id="p0054" num="0054">À une étape 22, en cas de réception d'une interruption, le processeur obtient de la file d'attente un bloc d'échantillons à injecter dans le tampon mémoire.</p>
<p id="p0055" num="0055">A une étape 23, le processeur détermine une deuxième information d'horodatage associée audit bloc comme par exemple une deuxième information d'horodatage associée au premier échantillon dudit bloc.</p>
<p id="p0056" num="0056">Comme indiqué ci-dessus, les paquets reçus par l'équipement de restitution audio et les blocs injectés dans son tampon mémoire n'ont pas les mêmes durées. Par conséquent, le processeur calcule pour un, plusieurs ou tous les blocs d'un paquet qui vient d'être reçu un décalage entre le premier échantillon dudit paquet et le premier échantillon du bloc considéré, bloc qui vient donc d'être injecté.</p>
<p id="p0057" num="0057">Le processeur multiplie ce décalage par un taux de conversion qui permet de convertir un nombre d'échantillons en une information d'horodatage. Puis le processeur ajoute le résultat à la première information d'horodatage (i.e. l'information d'horodatage du paquet reçu) afin d'obtenir<!-- EPO <DP n="17"> --> la deuxième information d'horodatage (i.e. l'information d'horodatage du bloc injecté).</p>
<p id="p0058" num="0058">Par exemple, dans le cas du protocole RTP, la première information d'horodatage est souvent déjà exprimée directement en nombre d'échantillons, par conséquent le taux de conversion vaut 1.</p>
<p id="p0059" num="0059">Le processeur mémorise ladite deuxième information.</p>
<p id="p0060" num="0060">À une étape 24, le processeur injecte le bloc d'échantillons dans le tampon mémoire et mémorise l'heure donnée par l'horloge NTP de référence au moment où le premier échantillon du bloc est injecté (appelée par la suite première heure NTP). Ensuite le processeur retourne à l'étape 21 pour ce qui concerne le tampon mémoire.</p>
<p id="p0061" num="0061">Optionnellement, il est possible que des paquets envoyés par l'équipement décodeur 12 ne soient pas reçus par l'équipement de restitution audio sélectionné. Cela crée un trou dans les données mais surtout cela peut aussi entraîner une injection plus rapide des paquets qui suivront ce qui risquerait de fausser les déterminations effectuées à l'étape 23.</p>
<p id="p0062" num="0062">Pour pallier ce problème, de préférence, l'équipement de restitution audio sélectionné calcule à chaque paquet reçu une information d'horodatage prévue pour le paquet suivant en additionnant la première information d'horodatage du paquet qui vient d'être réceptionné et sa durée.</p>
<p id="p0063" num="0063">À réception du paquet suivant, l'équipement de restitution audio compare la première information d'horodatage du nouveau paquet et l'information d'horodatage prévue. Si la première information d'horodatage du nouveau paquet est postérieure à l'information d'horodatage prévue, alors cela signifie que des paquets envoyés par l'équipement<!-- EPO <DP n="18"> --> décodeur 12 n'ont pas été reçus par l'équipement de restitution audio sélectionné. Dans ce cas ledit équipement de restitution audio injecte dans le tampon mémoire des échantillons de compensation pour une durée correspondant à la différence entre l'information d'horodatage prévue et la première information d'horodatage du nouveau paquet, avant d'injecter les échantillons du nouveau paquet. Les échantillons de compensation sont par exemple des silences, ou bien sont une copie des derniers échantillons injectés dans le tampon mémoire.</p>
<p id="p0064" num="0064">Dans tous les cas on a indiqué qu'après injection, le processeur retournait à l'étape 21 pour ce qui concernait le tampon mémoire.</p>
<p id="p0065" num="0065">Pour le reste, l'équipement de restitution audio envoie à l'équipement décodeur 12 un message comprenant au moins une information de correspondance entre la première information d'horodatage et la première heure NTP. Dans le cas présent, le message comprend la deuxième information d'horodatage (qui est donc lié à la première information d'horodatage) et la première heure NTP.</p>
<p id="p0066" num="0066">Ce message peut par exemple prendre la forme d'une notification JSON-RPC ou d'un événement UPnP.</p>
<p id="p0067" num="0067">Ce message peut être envoyé de manière régulière par exemple une fois par seconde.</p>
<p id="p0068" num="0068">Ce message peut être émis spontanément par l'équipement de restitution audio. Alternativement, l'équipement décodeur 12 peut interroger l'équipement de restitution audio afin d'obtenir la deuxième information d'horodatage et la première heure NTP mémorisées. Alternativement, lorsque le protocole utilisé pour envoyer les paquets d'échantillons de l'équipement décodeur 12 à l'équipement de restitution<!-- EPO <DP n="19"> --> audio prévoit des messages d'acquittement de réception, alors la deuxième information d'horodatage et la première heure NTP peuvent être transmises par l'équipement de restitution audio à l'équipement décodeur 12 dans lesdits messages d'acquittement.</p>
<p id="p0069" num="0069">Ainsi l'équipement décodeur 12 reçoit de la part de chaque équipement de restitution audio sélectionné la deuxième information d'horodatage et la première heure NTP correspondante.</p>
<p id="p0070" num="0070">À partir de là l'équipement décodeur 12 déduit si chacun des équipements de restitution audio joue trop lentement ou trop rapidement et quelle action il convient de prendre pour limiter cette dérive et assurer une synchronisation dans la lecture du flux audio.</p>
<p id="p0071" num="0071">Optionnellement, l'équipement décodeur 12 calcule ainsi le coefficient directeur d'une droite de régression linéaire entre la deuxième information d'horodatage et la première heure NTP.</p>
<p id="p0072" num="0072">Puis l'équipement décodeur 12 calcule le rapport entre le coefficient directeur calculé et un coefficient directeur théorique prédéterminé. Le coefficient directeur théorique prédéterminé est par exemple pris égal au taux d'échantillonnage du flux audio (soit généralement bien que non limitativement 48kilohertz).</p>
<p id="p0073" num="0073">Si le rapport est égal à un 1 cela signifie que l'équipement de restitution audio considéré est bien synchronisé et ne joue ni trop lentement ni trop rapidement.</p>
<p id="p0074" num="0074">Dans le cas contraire, une action est prise. Ce rapport est typiquement égal au rythme auquel il faut ajouter ou supprimer des échantillons dans le flux audio pour assurer une lecture synchronisée par l'équipement de restitution<!-- EPO <DP n="20"> --> audio désynchronisé :
<ul id="ul0007" list-style="dash" compact="compact">
<li>Si le rapport vaut 1, alors il ne faut ni ajouter ni supprimer d'échantillons.</li>
<li>Si le rapport est plus petit que 1, alors l'équipement de restitution audio joue les échantillons trop lentement et il faut donc supprimer des échantillons dans le flux audio pour assurer une lecture synchronisée par ledit équipement de restitution audio. Par exemple, si le rapport vaut 0,9 alors il faut de préférence supprimer un échantillon sur 10 dans le flux audio.</li>
<li>Si le rapport est plus grand que 1, alors l'équipement de restitution audio joue les échantillons trop vite et il faut donc ajouter des échantillons dans le flux audio pour assurer une lecture synchronisée. Par exemple, si le rapport vaut 1,05 alors il faut ajouter un échantillon tous les 20 échantillons.</li>
</ul></p>
<p id="p0075" num="0075">Selon une première variante, l'équipement décodeur 12 découpe comme à son habitude le flux en paquets, puis ajoute ou supprime des échantillons dans chaque paquet (selon le rapport calculé précédemment) avant d'envoyer les paquets à l'équipement de restitution audio visé. Comme la proportion d'échantillons ajoutés ou supprimés est faible, l'équipement décodeur 12 n'applique pas de filtre de ré-échantillonnage et se contente donc ici de supprimer directement les échantillons en trop ou bien de rajouter directement des échantillons supplémentaires (l'équipement décodeur peut par exemple dupliquer des échantillons du flux audio à cet effet). Optionnellement l'équipement décodeur 12 compresse les paquets d'échantillons avant de les transmettre à l'équipement de restitution audio.</p>
<p id="p0076" num="0076">Ainsi, avec cette première variante, au cours du temps,<!-- EPO <DP n="21"> --> l'équipement décodeur 12 peut envoyer des paquets de taille variable à l'équipement de restitution audio visé.</p>
<p id="p0077" num="0077">Selon une deuxième variante, l'équipement décodeur 12 découpe comme à son habitude le flux en paquets puis applique un filtre de ré-échantillonnage à chaque paquet avec un taux de ré-échantillonnage égal au rapport calculé précédemment.</p>
<p id="p0078" num="0078">Ainsi au cours du temps l'équipement décodeur 12 peut envoyer des paquets de taille variable à l'équipement de restitution audio visé.</p>
<p id="p0079" num="0079">La <figref idref="f0002">figure 3</figref> illustre un exemple possible d'application de la deuxième variante.</p>
<p id="p0080" num="0080">À une étape 31, l'équipement décodeur 12 extrait un paquet d'échantillons du flux audio et lui associe une première information d'horodatage.</p>
<p id="p0081" num="0081">À une étape 32, l'équipement décodeur 12 ré-échantillonne le paquet d'échantillons en fonction du rapport calculé précédemment (entre le coefficient directeur calculé et le coefficient directeur théorique prédéterminé).</p>
<p id="p0082" num="0082">À une étape optionnelle 33, l'équipement décodeur 12 compresse le paquet d'échantillons.</p>
<p id="p0083" num="0083">À une étape 34, l'équipement décodeur 12 envoie le paquet d'échantillons ou le paquet compressé vers l'équipement de restitution audio.</p>
<p id="p0084" num="0084">À une étape 35, l'équipement décodeur 12 regarde s'il a reçu un nouveau message de l'équipement de restitution audio contenant une nouvelle deuxième information d'horodatage. L'équipement décodeur 12 met si nécessaire à jour le coefficient directeur calculé le cas échéant.</p>
<p id="p0085" num="0085">Puis l'équipement décodeur 12 retourne à l'étape 31 pour générer le paquet suivant.<!-- EPO <DP n="22"> --></p>
<p id="p0086" num="0086">Selon une troisième variante, l'équipement décodeur 12 ré-échantillonne le flux audio (soit indirectement en appliquant un filtre de ré-échantillonnage soit directement en supprimant ou en ajoutant des échantillons) avant de le découper en paquets et d'envoyer les paquets à l'équipement de restitution audio visé. Optionnellement l'équipement décodeur 12 compresse les paquets d'échantillons avant de les transmettre à l'équipement de restitution audio.</p>
<p id="p0087" num="0087">Dans cette troisième variante, les paquets envoyés peuvent avoir tous la même taille puisque le ré-échantillonnage s'effectue avant le découpage en paquets.</p>
<p id="p0088" num="0088">On a ainsi proposé une solution dans laquelle l'information de correspondance entre l'information d'identification caractéristique d'un horodatage d'un paquet donné et une horloge de référence (via l'heure mémorisée) est communiquée par l'équipement de restitution audio à l'équipement source et non pas l'inverse comme dans l'art antérieur. Ceci permet à l'équipement source de prendre des actions pour assurer la synchronisation.</p>
<p id="p0089" num="0089">De façon avantageuse, les équipements de restitution audio sont alors des éléments courants du commerce, le processeur précité n'ayant pas besoin de spécificité particulière pour mettre en œuvre les étapes décrites.</p>
<p id="p0090" num="0090">D'autres mises en œuvre de l'invention sont bien entendu envisageables.</p>
<p id="p0091" num="0091">Ainsi selon une deuxième mise en œuvre de l'invention, les équipements de restitution audio 11a, 11b ne sont pas synchronisés via l'équipement source comme dans la première mise en œuvre qui vient d'être décrite (l'équipement source étant en réalité l'équipement décodeur 12). En revanche<!-- EPO <DP n="23"> --> lesdits équipements sont regroupés dans au moins un groupe et la synchronisation est mise en œuvre par le groupe lui-même.</p>
<p id="p0092" num="0092">À cet effet, l'un des équipements de restitution audio « maitre » récupère le flux audio et transmet ledit flux audio à l'autre équipement de restitution audio (soit en intégralité soit en partie seulement ; par exemple l'équipement de restitution audio maitre pourrait diffuser le canal gauche d'un flux et ne transmettre que le canal droit à l'autre équipement de restitution audio).</p>
<p id="p0093" num="0093">Dans cette configuration, l'équipement de restitution audio maitre, en plus de restituer le canal gauche, joue le rôle précédemment dévolu de l'équipement décodeur 12. C'est donc l'équipement de restitution audio maitre qui va ajuster les échantillons destinés à l'équipement de restitution audio (selon par exemple une des variantes précitées de ré-échantillonnage décrites en regard de la première mise en œuvre), afin de préserver une synchronisation audio entre les deux enceintes.</p>
<p id="p0094" num="0094">Selon une première option, l'horloge de référence est alors l'horloge de l'équipement de restitution audio maitre et celui-ci transmet aussi ladite horloge de référence à l'autre équipement de restitution audio par exemple via un protocole NTP. Selon une deuxième option, les équipements de restitution audio se mettent d'accord sur une horloge de référence commune, par exemple grâce au protocole PTP. Cette deuxième mise en œuvre permet la synchronisation de deux équipements de restitution audio de manière autonome, alors que seul l'un des équipements de restitution audio est doté de moyens de traitement supérieurs permettant d'ajuster des échantillons (l'équipement de restitution<!-- EPO <DP n="24"> --> audio maitre). L'autre équipement de restitution audio est doté ici de moyens de traitement standards potentiellement dépourvus de capacités de traitement du flux audio.</p>
<p id="p0095" num="0095">Selon une troisième mise en œuvre, dans certains cas, l'équipement source peut contrôler sa vitesse de lecture du flux audio, par exemple parce qu'il lit un fichier sur un périphérique de stockage.</p>
<p id="p0096" num="0096">Dans ce cas, préférentiellement, l'équipement source ajuste sa vitesse de lecture à la valeur moyenne des vitesses de lecture des équipements de restitution audio auxquels le flux audio est envoyé (vitesse de lecture pouvant être déduite du rapport entre les coefficients directeurs précité).</p>
<p id="p0097" num="0097">Ainsi le traitement du flux audio appliqué pour chaque équipement de restitution audio est minimisé puisque l'on agit sur la vitesse de lecture de l'équipement source en priorité. Ceci permet d'améliorer la qualité de la diffusion du flux audio.</p>
<p id="p0098" num="0098">En particulier s'il y a un seul équipement de restitution audio, alors l'équipement source ajuste sa vitesse de lecture à l'horloge interne dudit équipement de restitution audio et il n'est alors pas nécessaire d'effectuer de traitement du flux audio, ce qui préserve intégralement la qualité du flux audio original.</p>
<p id="p0099" num="0099">Alternativement, l'équipement source peut ajuster sa vitesse de lecture à la valeur médiane des vitesses de lecture des équipements de restitution audio auxquels le flux audio est envoyé, ce qui permet de minimiser les traitements puisqu'il y a alors au moins un équipement de restitution audio pour lequel il n'est pas nécessaire de traiter le flux audio ce qui permet là encore<!-- EPO <DP n="25"> --> d'améliorer la qualité de la diffusion du flux audio.</p>
<p id="p0100" num="0100">On retient que l'on peut également appliquer cette adaptation de vitesse de lecture du flux à l'équipement de restitution audio maitre de la deuxième mise en œuvre. Selon une quatrième mise en œuvre, il peut arriver exceptionnellement, lors d'une session de lecture d'un flux audio, que l'un des équipements de restitution audio présente une dérive d'horloge interne importante et globalement régulière. Ceci peut par exemple se produire si les composants gérant l'horloge interne de l'équipement de restitution audio sont défectueux.</p>
<p id="p0101" num="0101">Par exemple une telle dérive peut être une dérive moyenne comprise entre 0.5 et 1.5%. De préférence, une telle dérive est une dérive moyenne de 1%, comprise dans 95% des cas entre +0.8 et +1.2%.</p>
<p id="p0102" num="0102">Dans un tel cas, afin de minimiser les possibles perturbations sonores liées à un trop grand ajustement des paquets destinés à l'équipement de restitution audio défectueux, on effectue de préférence des ajustements pour les paquets à la fois au niveau de l'équipement de restitution audio défectueux et à la fois au niveau de l'équipement source (si sa vitesse de lecture est ajustable comme indiqué en regard de la troisième mise en œuvre) et/ou bien entre les différents équipements de restitution audio d'un même groupe, ces ajustements étant ainsi individuellement plus faibles qu'un seul gros ajustement destiné à l'équipement de restitution audio défectueux. Par exemple l'ajustement est réparti entre l'équipement source et l'équipement de restitution audio cible : L'équipement source va ajuster sa vitesse de lecture de la moitié de la dérive et ajustera les échantillons destinés<!-- EPO <DP n="26"> --> à l'équipement de restitution audio de l'autre moitié de la dérive.</p>
<p id="p0103" num="0103">Par exemple l'ajustement est réparti entre l'équipement de restitution audio non défectueux et l'équipement de restitution audio cible : les échantillons destinés à l'équipement de restitution audio non défectueux sont ajustés à la moitié de la dérive et les échantillons destinés à l'équipement de restitution audio cible de l'autre moitié de la dérive.</p>
<p id="p0104" num="0104">Bien entendu, l'invention n'est pas limitée aux mises en œuvre et modes de réalisation décrits ci-dessus et on pourra y apporter des variantes de réalisation sans sortir du cadre de l'invention.</p>
<p id="p0105" num="0105">Ainsi, bien qu'ici l'équipement décodeur soit un boîtier décodeur, l'équipement décodeur pourra être tout équipement capable de réaliser un décodage audio, tel qu'un décodeur audio/vidéo, un décodeur vidéonumérique et par exemple une console de jeu, un ordinateur, une <i>smart-TV,</i> une tablette numérique, un téléphone portable, un décodeur de télévision numérique, un boitier décodeur STB, etc. De manière générale, bien qu'ici l'équipement source soit un équipement décodeur, l'équipement source pourra être tout autre équipement capable de fournir un flux audio aux équipements de restitution audio tel qu'une chaîne Hi-Fi numérique.</p>
<p id="p0106" num="0106">Bien qu'ici l'équipement source et l'appareil soit distincts, la source et l'appareil pourront faire partie d'un même ensemble unitaire. Selon une variante, l'appareil pourra être intégré à l'équipement source, par exemple être intégré à un équipement décodeur. Selon une autre variante, l'équipement source pourra être intégré à l'appareil.<!-- EPO <DP n="27"> --></p>
<p id="p0107" num="0107">Ainsi, cela pourra être directement l'appareil qui transmette un flux audio à au moins l'un des équipements de restitution audio. Ainsi, l'équipement source pourra être par exemple intégré dans l'appareil de type téléphone portable et/ou tablette, l'appareil réalisant les fonctions « équipement source » et « gestion des équipements de restitution audio » grâce à des applications adaptées. Il pourra s'agir de deux applications distinctes, l'une assurant la fonction « gestion des équipements de restitution audio » et l'autre assurant la fonction « équipement source » ou bien les deux fonctions peuvent être réalisées par une même application combinant les deux fonctions.</p>
<p id="p0108" num="0108">De même bien qu'ici l'équipement source soit distinct de tous les équipements de restitution audio, l'équipement source et au moins l'un des équipements de restitution audio pourront ne pas être distincts et faire partie d'un même ensemble unitaire. Cela sera par exemple le cas si le ou les équipements de restitution audio traitent des flux audio directement en provenance d'un réseau externe de type Internet. On pourra ainsi avoir un ou des équipements de restitution audio qui seront des équipements de restitution audio intelligents (tels que des enceintes connectées encore appelées « smartspeakers ») pouvant ainsi fonctionner sans équipement décodeur externe car intégrant directement l'équipement source, ces équipements diffusant un flux audio directement en provenance d'un réseau externe de type Internet, ou directement en provenance d'un réseau local. Cela pourra également être le cas si l'équipement source comporte lui-même des haut-parleurs (par exemple si l'équipement source est un équipement décodeur comprenant<!-- EPO <DP n="28"> --> des haut-parleurs).</p>
<p id="p0109" num="0109">Le flux audio pourra ainsi être fourni à l'un ou les équipements de restitution audio différemment de ce qui a été indiqué par exemple à l'aide d'une transmission LAN via l'appareil, à l'aide d'une liaison Bluetooth, ou encore par récupération du flux audio depuis un emplacement réseau comme précité (type LAN ou WAN). Cela pourra également être un équipement de restitution audio qui récupère le flux audio et le transmette à un ou plusieurs autres équipements du même groupe.</p>
<p id="p0110" num="0110">De même bien qu'ici l'appareil soit distinct de tous les équipements de restitution audio, l'appareil et au moins l'un des équipements de restitution audio pourront ne pas être distincts et faire partir d'un même ensemble unitaire. Dans un même ensemble unitaire, on pourra ainsi avoir au moins un appareil, un équipement de restitution audio et un équipement source qui ne seront donc pas distincts. L'installation pourra également comporter plusieurs équipement sources et/ou plusieurs appareils sachant que les équipements sources, les appareils, les équipements de restitution audio pourront être couplés entre eux au moins par deux dans un ou plusieurs ensemble unitaires.</p>
<p id="p0111" num="0111">Bien qu'ici l'appareil soit un téléphone portable, l'appareil pourra être tout autre élément muni ou lié à une interface graphique de commande. L'appareil pourra ainsi être de nature variée : appareil dédié, téléphone portable ou tablette exécutant une application dédiée, ordinateur exécutant une application dédiée, ou appareil tiers (console de jeux, décodeur de télévision numérique, smart TV...) ayant une fonctionnalité dédiée ou exécutant une application dédiée. L'appareil pourra être différent<!-- EPO <DP n="29"> --> de ce qui a été décrit mais sera de préférence un appareil mobile par rapport aux différents équipements de restitution audio afin qu'un utilisateur puisse facilement le manipuler (en particulier le déplacer d'une pièce à une autre). L'appareil sera ainsi de dimensions et de masse permettant à un utilisateur de le déplacer seul en le portant et de sorte que l'utilisateur puisse manipuler ledit appareil sans avoir nécessairement besoin de le poser sur un support.</p>
<p id="p0112" num="0112">Par ailleurs, bien qu'ici l'équipement de restitution audio soit une enceinte connectée externe, ceci pourrait être un autre équipement muni d'un haut-parleur, par exemple une barre de son, un système audio relié à un bridge Wi-Fi/audio, une enceinte non connectée ...</p>
<p id="p0113" num="0113">Bien qu'ici les équipements de restitution audio soient reliés à l'équipement source par un réseau sans fil de type Wi-Fi, les équipements de restitution audio pourront être reliés à l'équipement source autrement par exemple par un réseau filaire de type Ethernet, ou par une connexion sans fil de type Bluetooth, ou tout autre moyen de connexion apte à faire transiter des données audio et, préférentiellement, des données de synchronisation.</p>
<p id="p0114" num="0114">On pourrait avoir un nombre plus important d'équipements de restitution audio et/ou d'équipement source et/ou d'appareils que ce qui a été indiqué.</p>
<p id="p0115" num="0115">On pourra ainsi n'avoir qu'un seul équipement de restitution audio dans l'installation telle qu'une barre de son ou tout autre équipement de restitution audio multicanaux.</p>
<p id="p0116" num="0116">Plusieurs appareils pourront être présents dans l'installation, et ces appareils pourront être de natures<!-- EPO <DP n="30"> --> variées : appareil dédié, téléphone portable ou tablette exécutant une application contrôleur, ordinateur exécutant une application contrôleur, ou appareil tiers (console de jeux, décodeur de télévision numérique, smart TV...) ayant une fonctionnalité contrôleur ou exécutant une application contrôleur.</p>
<p id="p0117" num="0117">Les différentes communications évoquées pourront être filaires en place d'être non filaires.</p>
<p id="p0118" num="0118">On pourra transmettre les ordres entre l'appareil et les équipements de restitution audio soit directement soit indirectement en passant par l'équipement source. On pourra aussi transmettre les ordres entre l'équipement source et les équipements de restitution audio soit directement soit indirectement en passant par l'appareil.</p>
<p id="p0119" num="0119">On pourra avoir recours à d'autres protocoles que ce qui a été indiqué. Par exemple on pourra avoir recours à un ou des protocoles PTP, SPD, RTCP, RTP ... pour la synchronisation entre les équipements de restitution audio et/ou les flux circulant dans l'installation en place d'un protocole NTP.</p>
<p id="p0120" num="0120">Bien entendu les valeurs numériques données dans la présente demande sont purement indicatives et donc non limitatives.</p>
<p id="p0121" num="0121">Bien entendu les différents modes de réalisation, mises en œuvre, options ... décrites peuvent être mixées entre elles. Ainsi, la répartition des étapes précitées entre l'équipement source et l'équipement de restitution audio pourra être différente de ce qui a été indiqué. Par exemple ce pourra être l'un des équipements de restitution audio qui calculera le coefficient directeur et éventuellement le rapport entre le coefficient directeur calculé et le<!-- EPO <DP n="31"> --> coefficient directeur théorique prédéterminé et qui transmettra optionnellement à l'équipement source ledit coefficient directeur calculé et/ou ledit rapport dans le message, l'information de correspondance comprenant ou étant constitué dudit coefficient et/ou dudit rapport. Une partie des étapes pourra être implémenté dans l'appareil en place de l'équipement source et/ou des équipements de restitution audio.</p>
<p id="p0122" num="0122">Bien qu'ici l'information caractéristique d'un horodatage d'un paquet soit directement ledit horodatage (de type horodatage RTP ou encore horodatage MPEG), ladite information pourra être différente. Ladite information pourra par exemple un simple numéro, tel qu'un numéro de séquence, par exemple si les paquets sont contigus.</p>
<p id="p0123" num="0123">Bien qu'ici le ou les équipements de restitution audio envoient un message à destination de l'équipement source comprenant l'information de correspondance pour tous les paquets joués, le ou les équipements de restitution audio pourront n'envoyer un tel message que pour une partie seulement des paquets joués par exemple selon un intervalle de temps prédéterminé.</p>
<p id="p0124" num="0124">Bien qu'ici les moyens de traitement attendent une notification d'aptitude à recevoir un nouveau bloc d'échantillons audio de la part du tampon mémoire avant d'y injecter de nouveaux blocs, les moyens de traitement pourront être configurés pour essayer systématiquement d'injecter de nouveaux blocs en association avec un tampon mémoire qui demeurera bloquée tant qu'un seuil prédéterminé de place dans ledit tampon mémoire n'ait pas été atteint. Bien qu'ici l'horloge de référence soit l'horloge interne de l'équipement source, l'horloge de référence pourra être<!-- EPO <DP n="32"> --> différente et par exemple être une horloge externe à l'installation telle qu'un serveur public sur Internet (type serveur NTP) ou bien encore une horloge négociée entre l'équipement source et les équipements de restitution audio par exemple par un protocole pair à pair (type PTP). Dans le cas d'une synchronisation sur un serveur NTP, celui-ci pourra donc être un serveur public sur Internet ou bien directement l'horloge interne de l'équipement source. Les équipements de restitution audio pourront ainsi transmettre des requêtes NTP dans les deux cas au serveur concerné.</p>
<p id="p0125" num="0125">Par ailleurs, l'horloge interne de l'équipement décodeur pourra être différente selon l'origine du flux. Par exemple si le flux audio provient d'un flux d'entrée VOD ou si le flux audio provient d'un flux enregistré sur le disque dur de l'équipement décodeur, l'horloge de l'équipement décodeur sera alors libre et proviendra directement de son quartz. En revanche si le flux audio provient d'un flux d'entrée TV (type satellite, câble ou TNT), l'horloge de l'équipement décodeur sera asservie sur l'horloge de diffusion via des champs PCR de la norme MPEG.</p>
<p id="p0126" num="0126">On pourra envisager que ce qui a été dit pour la synchronisation des équipements de restitution audio soit également appliqué à l'équipement de restitution vidéo (ou audio/vidéo).</p>
<p id="p0127" num="0127">Bien qu'ici les paquets soient dans un deuxième temps découpés en blocs, lesdits paquets pourront ne pas être redécoupés en blocs et être diffusés tels quels par le ou les équipements de restitution audio.</p>
<p id="p0128" num="0128">L'heure mémorisée pourra directement être l'heure donnée par l'horloge de référence lorsque le premier échantillon<!-- EPO <DP n="33"> --> d'au moins l'un des paquets est joué ou pourra être représentative de ladite heure et être par exemple l'heure d'injection dans le tampon mémoire (puisque le laps de temps entre le moment de l'entrée dans le tampon mémoire et le moment effectif de la diffusion est figé).</p>
</description>
<claims id="claims01" lang="fr"><!-- EPO <DP n="34"> -->
<claim id="c-fr-0001" num="0001">
<claim-text>Procédé de gestion d'un flux audio lu de manière synchronisée sur une horloge de référence par au moins un équipement de restitution audio, le procédé comportant au moins les étapes suivantes implémentées dans ledit équipement de restitution audio :
<claim-text>- recevoir le flux audio, le flux audio se présentant sous la forme de paquets, chaque paquet comprenant une succession d'échantillons audio associés à au moins une information d'identification caractéristique d'un horodatage dudit paquet;</claim-text>
<claim-text>- jouer les échantillons audio contenus dans chaque paquet et mémoriser une heure donnée par l'horloge de référence caractéristique du moment où un échantillon prédéterminé d'au moins l'un des paquets est joué ;</claim-text>
<claim-text>- envoyer un message comprenant au moins une information de correspondance entre l'information d'identification caractéristique d'un horodatage dudit paquet et l'heure mémorisée à l'étape précédente.</claim-text></claim-text></claim>
<claim id="c-fr-0002" num="0002">
<claim-text>Procédé selon la revendication 1 dans lequel l'information de correspondance consiste en la valeur de ladite information d'identification et ladite heure mémorisée.</claim-text></claim>
<claim id="c-fr-0003" num="0003">
<claim-text>Procédé selon la revendication 1 dans lequel l'information de correspondance consiste en un coefficient directeur d'une droite de régression linéaire entre ladite information et ladite heure mémorisée.</claim-text></claim>
<claim id="c-fr-0004" num="0004">
<claim-text>Procédé selon la revendication 1 comportant en outre les étapes suivantes implémentées dans l'équipement de restitution audio de :
<claim-text>• Découper chaque paquet reçu en blocs d'échantillons<!-- EPO <DP n="35"> --> audio ;</claim-text>
<claim-text>• Déterminer au moins une information d'horodatage correspondant au moins à un bloc d'échantillons audio à partir de l'information d'identification caractéristique d'un horodatage du paquet dont est extrait le bloc considéré et d'un nombre d'échantillons entre un échantillon particulier dudit paquet et un échantillon donné dudit bloc;</claim-text>
l'heure mémorisée étant caractéristique du moment donné où l'échantillon donné dudit bloc est joué et l'information de correspondance étant alors une information de correspondance entre ladite information d'horodatage correspondant audit bloc et ladite heure mémorisée.</claim-text></claim>
<claim id="c-fr-0005" num="0005">
<claim-text>Procédé selon l'une des revendications 1 à 4, comportant les étapes additionnelles suivantes implémentées dans l'équipement de restitution audio de : calculer pour au moins un paquet N reçu par l'équipement de restitution audio une information d'identification caractéristique d'un horodatage prévue pour le paquet suivant N+1 en additionnant l'information d'identification caractéristique d'un horodatage du paquet qui vient d'être réceptionné et sa durée, et de comparer ladite information d'identification prévue avec l'information d'identification du paquet N+1 lors de sa réception.</claim-text></claim>
<claim id="c-fr-0006" num="0006">
<claim-text>Procédé selon la revendication 5, dans lequel si l'information d'identification du paquet N+1 est postérieure à l'information d'identification prévue, alors l'équipement de restitution audio joue des échantillons de compensation pour une durée correspondant à la différence entre l'information d'identification prévue et l'information d'identification du paquet N+1.<!-- EPO <DP n="36"> --></claim-text></claim>
<claim id="c-fr-0007" num="0007">
<claim-text>Procédé selon la revendication 6, dans lequel les échantillons de compensation sont des silences et/ou des copies des derniers échantillons joués.</claim-text></claim>
<claim id="c-fr-0008" num="0008">
<claim-text>Procédé de gestion d'un flux audio lu de manière synchronisée sur une horloge de référence et transmis par au moins un équipement source, le procédé comportant au moins les étapes suivantes implémentées dans ledit équipement source :
<claim-text>• Découper le flux audio en paquets, chaque paquet comprenant une succession d'échantillons audio;</claim-text>
<claim-text>• Associer à chaque paquet une information d'identification caractéristique d'un d'horodatage dudit paquet, information qui est donc représentative de l'heure à laquelle un échantillon audio prédéterminé dudit paquet devrait être joué par un équipement de restitution audio;</claim-text>
<claim-text>• Recevoir un message comprenant au moins une information de correspondance entre l'information d'identification caractéristique d'un horodatage d'au moins l'un des paquets et une heure donnée par l'horloge de référence caractéristique du moment où l'échantillon audio prédéterminé dudit paquet a été joué ;</claim-text>
<claim-text>• Ajuster, en fonction de ladite information de correspondance, la vitesse de lecture du flux audio en fonction de ladite information de correspondance et/ou le paquet suivant avant de l'envoyer.</claim-text></claim-text></claim>
<claim id="c-fr-0009" num="0009">
<claim-text>Procédé selon la revendication 8 dans lequel l'étape d'ajuster le paquet suivant est mise en œuvre par ajustement du nombre d'échantillons audio contenus dans le paquet.</claim-text></claim>
<claim id="c-fr-0010" num="0010">
<claim-text>Procédé selon la revendication 9 dans lequel on ajuste le nombre d'échantillons en supprimant ou en ajoutant des<!-- EPO <DP n="37"> --> échantillons audio audit paquet.</claim-text></claim>
<claim id="c-fr-0011" num="0011">
<claim-text>Procédé selon la revendication 8 ou la revendication 9, dans lequel on ajuste le paquet suivant en appliquant un filtre de rééchantillonnage audit paquet.</claim-text></claim>
<claim id="c-fr-0012" num="0012">
<claim-text>Procédé selon l'une des revendications 10 ou 11 dans lequel on ajuste le nombre d'échantillons en conservant une taille de paquet identique à celle du paquet qui a été précédemment transmis.</claim-text></claim>
<claim id="c-fr-0013" num="0013">
<claim-text>Équipement de restitution audio adapté pour mettre en œuvre le procédé selon l'une des revendications 1 à 7.</claim-text></claim>
<claim id="c-fr-0014" num="0014">
<claim-text>Équipement source adapté pour mettre en œuvre le procédé selon l'une des revendications 8 à 12.</claim-text></claim>
<claim id="c-fr-0015" num="0015">
<claim-text>Installation comprenant au moins un premier équipement de restitution audio selon la revendication 13 et un deuxième équipement de restitution audio configuré pour transmettre le flux audio audit premier équipement de restitution audio, le deuxième équipement de restitution audio ajustant lui-même ledit flux si l'autre équipement de restitution audio ne le lit pas à la bonne vitesse.</claim-text></claim>
<claim id="c-fr-0016" num="0016">
<claim-text>Installation comprenant au moins un premier équipement de restitution audio selon la revendication 13 et un équipement source selon la revendication 14.</claim-text></claim>
<claim id="c-fr-0017" num="0017">
<claim-text>Programme d'ordinateur comprenant des instructions qui conduisent un équipement de restitution audio selon la revendication 13 à exécuter le procédé selon l'une des revendications 1 à 7.</claim-text></claim>
<claim id="c-fr-0018" num="0018">
<claim-text>Support d'enregistrement lisible par ordinateur, sur lequel est enregistré le programme d'ordinateur selon la revendication 17.</claim-text></claim>
<claim id="c-fr-0019" num="0019">
<claim-text>Programme d'ordinateur comprenant des instructions qui conduisent un équipement source selon la revendication<!-- EPO <DP n="38"> --> 14 à exécuter le procédé selon l'une des revendications 8 à 12.</claim-text></claim>
<claim id="c-fr-0020" num="0020">
<claim-text>Support d'enregistrement lisible par ordinateur, sur lequel est enregistré le programme d'ordinateur selon la revendication 19.</claim-text></claim>
</claims>
<drawings id="draw" lang="fr"><!-- EPO <DP n="39"> -->
<figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="114" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> -->
<figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="55" he="93" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="fr" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="157" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="155" he="233" type="tif"/></search-report-data><search-report-data date-produced="20210309" id="srepxml" lang="fr" srep-office="EP" srep-type="ep-sr" status="n"><!--
 The search report data in XML is provided for the users' convenience only. It might differ from the search report of the PDF document, which contains the officially published data. The EPO disclaims any liability for incorrect or incomplete data in the XML for search reports.
 -->

<srep-info><file-reference-id>0H-1229K472SMA</file-reference-id><application-reference><document-id><country>EP</country><doc-number>21157964.4</doc-number></document-id></application-reference><applicant-name><name>SAGEMCOM BROADBAND SAS</name></applicant-name><srep-established srep-established="yes"/><srep-invention-title title-approval="yes"/><srep-abstract abs-approval="yes"/><srep-figure-to-publish figinfo="by-applicant"><figure-to-publish><fig-number>1</fig-number></figure-to-publish></srep-figure-to-publish><srep-info-admin><srep-office><addressbook><text>DH</text></addressbook></srep-office><date-search-report-mailed><date>20210317</date></date-search-report-mailed></srep-info-admin></srep-info><srep-for-pub><srep-fields-searched><minimum-documentation><classifications-ipcr><classification-ipcr><text>H04N</text></classification-ipcr><classification-ipcr><text>H04S</text></classification-ipcr><classification-ipcr><text>H04R</text></classification-ipcr></classifications-ipcr></minimum-documentation></srep-fields-searched><srep-citations><citation id="sr-cit0001"><patcit dnum="US2007116057A1" id="sr-pcit0001" url="http://v3.espacenet.com/textdoc?DB=EPODOC&amp;IDX=US2007116057&amp;CY=ep"><document-id><country>US</country><doc-number>2007116057</doc-number><kind>A1</kind><name>MURPHY LIAM [IE] ET AL</name><date>20070524</date></document-id></patcit><category>X</category><rel-claims>1-5,13,17,18</rel-claims><category>Y</category><rel-claims>6-12,14-16,19,20</rel-claims><rel-passage><passage>* alinéa [0018] - alinéa [0019] *</passage></rel-passage><rel-passage><passage>* alinéa [0026] - alinéa [0036] *</passage></rel-passage></citation><citation id="sr-cit0002"><patcit dnum="EP1815713A1" id="sr-pcit0002" url="http://v3.espacenet.com/textdoc?DB=EPODOC&amp;IDX=EP1815713&amp;CY=ep"><document-id><country>EP</country><doc-number>1815713</doc-number><kind>A1</kind><name>NAT UNIV IRELAND [IE]</name><date>20070808</date></document-id></patcit><category>Y</category><rel-claims>6-12,14-16,19,20</rel-claims><rel-passage><passage>* alinéa [0011] *</passage><passage>* alinéa [0014] *</passage><passage>* alinéa [0024] - alinéa [0028] *</passage><passage>* alinéa [0033] - alinéa [0036] *</passage><passage>* alinéa [0038] - alinéa [0044] *</passage><passage>* alinéa [0049] *</passage></rel-passage></citation></srep-citations><srep-admin><examiners><primary-examiner><name>Lefol, Damien</name></primary-examiner></examiners><srep-office><addressbook><text>The Hague</text></addressbook></srep-office><date-search-completed><date>20210309</date></date-search-completed></srep-admin><!--							The annex lists the patent family members relating to the patent documents cited in the above mentioned European search report.							The members are as contained in the European Patent Office EDP file on							The European Patent Office is in no way liable for these particulars which are merely given for the purpose of information.							For more details about this annex : see Official Journal of the European Patent Office, No 12/82						--><srep-patent-family><patent-family><priority-application><document-id><country>US</country><doc-number>2007116057</doc-number><kind>A1</kind><date>20070524</date></document-id></priority-application><family-member><document-id><country>US</country><doc-number>2007116057</doc-number><kind>A1</kind><date>20070524</date></document-id></family-member><family-member><document-id><country>WO</country><doc-number>2005006621</doc-number><kind>A1</kind><date>20050120</date></document-id></family-member></patent-family><patent-family><priority-application><document-id><country>EP</country><doc-number>1815713</doc-number><kind>A1</kind><date>20070808</date></document-id></priority-application><family-member><document-id><country>AT</country><doc-number>402587</doc-number><kind>T</kind><date>20080815</date></document-id></family-member><family-member><document-id><country>EP</country><doc-number>1815713</doc-number><kind>A1</kind><date>20070808</date></document-id></family-member><family-member><document-id><country>JP</country><doc-number>5149012</doc-number><kind>B2</kind><date>20130220</date></document-id></family-member><family-member><document-id><country>JP</country><doc-number>2008522468</doc-number><kind>A</kind><date>20080626</date></document-id></family-member><family-member><document-id><country>US</country><doc-number>2007297459</doc-number><kind>A1</kind><date>20071227</date></document-id></family-member><family-member><document-id><country>WO</country><doc-number>2006053704</doc-number><kind>A1</kind><date>20060526</date></document-id></family-member></patent-family></srep-patent-family></srep-for-pub></search-report-data>
</ep-patent-document>
