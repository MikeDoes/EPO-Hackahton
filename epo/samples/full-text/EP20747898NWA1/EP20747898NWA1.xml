<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP20747898A1" file="EP20747898NWA1.xml" lang="en" country="EP" doc-number="3890426" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890426</B110><B120><B121>EUROPEAN PATENT APPLICATION</B121><B121EP>published in accordance with Art. 153(4) EPC</B121EP></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>20747898.3</B210><B220><date>20200122</date></B220><B240><B241><date>20210701</date></B241></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>201910083857</B310><B320><date>20190129</date></B320><B330><ctry>CN</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04W  72/12        20090101AFI20200807BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04L   1/18        20130101 LI20200827BCEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04L   1/00        20130101 LI20200827BCEP        </text></classification-cpc><classification-cpc sequence="3"><text>H04B   7/185       20130101 LI20200827BCEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04W  72/12        20130101 LI20200827BCEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04L   1/16        20130101 LI20200827BCEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN, VORRICHTUNG UND SYSTEM ZUR ADAPTIVEN ÜBERTRAGUNG FÜR SATELLITENKOMMUNIKATION</B542><B541>en</B541><B542>ADAPTIVE TRANSMISSION METHOD, DEVICE AND SYSTEM FOR SATELLITE COMMUNICATION</B542><B541>fr</B541><B542>PROCÉDÉ, DISPOSITIF ET SYSTÈME DE TRANSMISSION ADAPTATIVE POUR COMMUNICATION PAR SATELLITE</B542></B540><B590><B598>4</B598></B590></B500><B700><B710><B711><snm>Huawei Technologies Co., Ltd.</snm><iid>101903059</iid><irf>219EP 2050 DL</irf><adr><str>Huawei Administration Building, 
Bantian, Longgang District</str><city>Shenzhen Guangdong 518129</city><ctry>CN</ctry></adr></B711></B710><B720><B721><snm>YU, Rongdao</snm><adr><str>Huawei Administration Building, 
Bantian, 
Longgang District</str><city>Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>CHEN, Jun</snm><adr><str>Huawei Administration Building, 
Bantian, 
Longgang District</str><city>Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B721></B720><B740><B741><snm>Pfenning, Meinig &amp; Partner mbB</snm><iid>100060642</iid><adr><str>Patent- und Rechtsanwälte 
Theresienhöhe 11a</str><city>80339 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP><B860><B861><dnum><anum>CN2020073911</anum></dnum><date>20200122</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2020156468</pnum></dnum><date>20200806</date><bnum>202032</bnum></B871></B870></B800></SDOBI>
<abstract id="abst" lang="en">
<p id="pa01" num="0001">This application discloses an adaptive transmission method for satellite communication. The method includes: First, a receive end determines a redundancy version index; second, the receive end feeds back a redundancy version index signal to a transmit end; then, the transmit end receives the redundancy version index fed back by the receive end, and performs operations such as demodulation and decoding on the redundancy version index signal, to obtain the redundancy version index; and then, the transmit end obtains a corresponding redundancy version combination based on the obtained redundancy version index; and finally, the transmit end selects a proper diversity mode for transmission based on the obtained redundancy version combination. According to the adaptive transmission method for satellite communication provided in this application, a hybrid automatic repeat request (hybrid automatic repeat request, HARQ) retransmission is not required. The receive end feeds back the redundancy version index, and the transmit end performs transmission in different diversity modes based on the redundancy version combination corresponding to the redundancy version index that is fed back by the receive end, to obtain a diversity transmission gain, thereby improving transmission reliability and reducing a transmission delay.<img id="iaf01" file="imgaf001.tif" wi="78" he="80" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001"><b>CROSS-REFERENCE TO RELATED APPLICATIONS</b></heading>
<p id="p0001" num="0001">This application claims priority to <patcit id="pcit0001" dnum="CN201910083857" dnum-type="L"><text>Chinese Patent Application No. 201910083857.7</text></patcit>, filed with the Chinese Patent Office on January 29, 2019 and entitled "ADAPTIVE TRANSMISSION METHOD FOR SATELLITE COMMUNICATION, APPARATUS, AND SYSTEM", which is incorporated herein by reference in its entirety.</p>
<heading id="h0002"><b>TECHNICAL FIELD</b></heading>
<p id="p0002" num="0002">This application relates to the field of satellite communication, and in particular, to an adaptive transmission method for satellite communication, an apparatus, and a system.</p>
<heading id="h0003"><b>BACKGROUND</b></heading>
<p id="p0003" num="0003">5G and 5G evolution networks need to meet service requirements of various industries and provide wider service coverage. Limited coverage capability of a current terrestrial mobile communication network cannot meet requirements of the people for obtaining information at any time and any place. In addition, providing ultra-wide coverage in a current base-station-based coverage mode poses great challenges in costs and feasibility in scenarios such as in a remote area, a desert, an ocean, and in the air. Compared with a conventional mobile communication system, satellite communication has a wider coverage and supports asymmetric transmission links. The communication costs are irrelevant to the transmission distance. The satellite communication can overcome natural geographical obstacles such as oceans, deserts, and mountains. In order to overcome the shortcomings of a conventional terrestrial mobile communication system, the satellite communication can be used as an effective supplement to the conventional communication system.</p>
<p id="p0004" num="0004">In the terrestrial mobile communication system, errors occur in data transmission due to a random characteristic of a wireless channel. A hybrid automatic repeat request (hybrid automatic repeat request, HARQ) technology is usually used to control the errors. The hybrid automatic repeat request is a technology that combines forward error correction (FEC) and automatic repeat request (ARQ). It has been widely used in 3G and 4G terrestrial<!-- EPO <DP n="2"> --> mobile communication systems.</p>
<p id="p0005" num="0005">In the conventional technology, a transmit end performs channel coding on to-be-transmitted data and then sends the data to a receive end, and the receive end decodes a received data packet and determines whether the data packet is correctly received. If the data packet is correctly received, a new data packet is requested; or if the data packet is incorrectly received, a retransmission is requested, and the transmit end selects a different redundancy version (redundancy version, RV) for transmission. Although a hierarchical gain can be obtained through a HARQ retransmission, in the HARQ, the transmit end needs to wait for an ACK/NACK feedback from the receive end, and needs to retransmit the data packet when receiving the NACK feedback. Consequently, a transmission delay is caused. For a satellite communication system, because a satellite is far away from the ground, a transmission delay between a satellite base station and a terrestrial user is relatively large compared with that of a terrestrial cellular system, and satellite coverage is much larger than that of a terrestrial base station. Considering integration of a satellite communication system and a 5G terrestrial mobile communication system, a relatively large transmission delay may be introduced by using an existing HARQ technology in the satellite communication system. Due to the relatively large transmission delay, the following problems may be caused: (1). Service quality is affected, especially for real-time services such as a video service or services that require low delay. (2). A size of a buffer of receiver is affected.</p>
<heading id="h0004"><b>SUMMARY</b></heading>
<p id="p0006" num="0006">This application provides an adaptive transmission method for satellite communication, in which a HARQ retransmission is not required. A receive end feeds back a redundancy version index, where one redundancy version index corresponds to different redundancy version combinations; and a transmit end performs transmission in different diversity modes based on a redundancy version combination corresponding to the redundancy version index that is fed back by the receive end, to obtain a diversity transmission gain, thereby improving transmission reliability and reducing a transmission delay.</p>
<p id="p0007" num="0007">According to a first aspect, an adaptive transmission method for satellite communication is provided. The method includes: A receive end determines a redundancy version index; and the receive end feeds back the redundancy version index to a transmit end.</p>
<p id="p0008" num="0008">In a first possible implementation of the first aspect, the receive end determines a redundancy version based on channel quality, and then determines the redundancy version index based on a correspondence between a redundancy version index and a redundancy version combination. Optionally, the receive end determines a redundancy version based on a signal-to-noise ratio and bit error rate curve, and then determines the redundancy version index<!-- EPO <DP n="3"> --> based on a correspondence between a redundancy version index and a redundancy version combination.</p>
<p id="p0009" num="0009">With reference to the first aspect or the first possible implementation of the first aspect, in a second possible implementation of the first aspect, the receive end feeds back the redundancy version index to the transmit end through an uplink control channel, and the method includes:
<ul id="ul0001" list-style="none" compact="compact">
<li>the receive end performs channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding;</li>
<li>the receive end performs quadrature phase shift keying modulation on the bit sequence obtained after the channel coding, to obtain a complex symbol sequence; and</li>
<li>the receive end maps the complex symbol sequence to a transmission resource of the uplink control channel for transmission, and finally transmits the complex symbol sequence to the transmit end.</li>
</ul></p>
<p id="p0010" num="0010">With reference to the first aspect or the foregoing possible implementations of the first aspect, in a third possible implementation of the first aspect, the receive end feeds back the redundancy version index to the transmit end through an uplink data channel, and the method includes:
<ul id="ul0002" list-style="none" compact="compact">
<li>the receive end performs the channel coding on the redundancy version index, to obtain the bit sequence obtained after the channel coding on the redundancy version index;</li>
<li>the receive end performs channel coding on uplink transmission data, to obtain a bit sequence obtained after the channel coding on the uplink transmission data;</li>
<li>the receive end multiplexes the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data; and</li>
<li>the receive end interleaves and modulates the multiplexed bit sequence, maps the multiplexed bit sequence to a transmission resource of the uplink data channel for transmission, and finally transmits the multiplexed bit sequence to the transmit end.</li>
</ul></p>
<p id="p0011" num="0011">With reference to the second possible implementation of the first aspect or the third possible implementation of the first aspect, in a fourth possible implementation of the first aspect, a scheme in which the receive end performs the channel coding on the redundancy version index includes a convolutional code, a polar code, or RM coding; and a scheme in which the receive end performs the channel coding on the uplink transmission data includes a convolutional code, a polar code, a turbo code, or an LDPC code.</p>
<p id="p0012" num="0012">With reference to the third or the fourth possible implementation of the first aspect, in a fifth possible implementation of the first aspect, a manner in which the receive end multiplexes the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data includes: The receive end directly attaches the bit sequence obtained after the channel coding on the<!-- EPO <DP n="4"> --> redundancy version index to the bit sequence obtained after the channel coding on the uplink transmission data; or the receive end directly inserts the bit sequence obtained after the channel coding on the redundancy version index into the bit sequence obtained after the channel coding on the uplink transmission data; or the receive end alternately interleaves, in a per-bit sequence, the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0013" num="0013">According to a second aspect, an adaptive transmission method for satellite communication is provided. The method includes: A transmit end receives a redundancy version index signal fed back by a receive end, and performs operations such as demodulation and decoding on the redundancy version index signal to obtain a redundancy version index; the transmit end obtains a corresponding redundancy version combination based on the obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination; and the transmit end selects a proper diversity mode for transmission based on the obtained redundancy version combination.</p>
<p id="p0014" num="0014">In a first possible implementation of the second aspect, a method in which the transmit end selects a proper diversity mode for transmission based on the obtained redundancy version combination includes: transmitting redundancy versions in the redundancy version combination on continuous resource blocks; and demodulating, by the receive end, different redundancy versions on the continuous resource blocks, and combining the redundancy versions to obtain a diversity gain. Optionally, redundancy versions in the redundancy version combination are transmitted on discontinuous resource blocks, and there is a mapping relationship or a function relationship between resource locations of the discontinuous resource blocks. The mapping relationship or the function relationship is known to the transmit end and the receive end, and the receive end demodulates, based on the resource positions of the discontinuous resource blocks, different redundancy versions on corresponding resource blocks, and combines the redundancy versions to obtain a diversity gain.</p>
<p id="p0015" num="0015">According to a third aspect, an adaptive transmission method for transmitting a redundancy version based on a signal-to-noise ratio is provided. The method includes: A satellite sends a data packet at a fixed rate R = Blog<sub>2</sub>(1+<i>γ</i>) at an initial moment t<sub>0</sub> , where the rate corresponds to a signal-to-noise ratio <i>γ</i> ; the satellite receives, through terrestrial user measurement, a signal-to-noise ratio SNR<sub>0</sub> fed back by a user at a moment t<sub>1</sub>; and the satellite compares the signal-to-noise ratio SNR<sub>0</sub> received at the moment t<sub>1</sub> with the signal-to-noise ratio <i>γ</i> used during sending at the moment t<sub>0</sub>. If SNR<sub>0</sub> &gt; <i>γ,</i> a transmission process at the moment t<sub>0</sub> is repeated at the moment t<sub>1</sub> ; or if SNR<sub>0</sub> &lt; <i>γ</i> , data with an RV0 version that is sent at the corresponding moment<!-- EPO <DP n="5"> --> t<sub>0</sub> and some new data are sent at the moment t<sub>1</sub> , and it is ensured that a transmission rate is still R. If SNR<sub>0</sub> &lt; <i>γ</i> , the satellite receives, through terrestrial user measurement, a signal-to-noise ratio SNR<sub>1</sub> fed back by a user at a moment t<sub>2</sub> ; and the satellite compares the signal-to-noise ratio SNR<sub>1</sub> received at the moment t<sub>2</sub> with the signal-to-noise ratio <i>γ</i> used during sending at the moment t<sub>1</sub> . If SNR<sub>1</sub> &gt; <i>γ</i> , the satellite repeats, at the moment t<sub>2</sub> , the transmission process at the moment t<sub>0</sub> ; or if SNR<sub>1</sub> &lt; <i>γ</i> , data with an RV1 version that is sent at the corresponding moment t<sub>1</sub> and some new data are still sent at the moment t<sub>2</sub> , and it is ensured that a transmission rate is still R. The rest may be deduced by analogy according to the foregoing steps, and until SNR<sub>x</sub> &gt; <i>γ</i> (where x is an integer, and x ≥ 1), it indicates that all previously sent data is normally received, and the satellite starts to repeat the transmission process at the moment t<sub>0</sub> .</p>
<p id="p0016" num="0016">According to a fourth aspect, a user terminal is provided, including a determining module and a sending module.</p>
<p id="p0017" num="0017">The determining module is configured to determine a redundancy version index; and the sending module is configured to feed back the redundancy version index to a satellite base station.</p>
<p id="p0018" num="0018">In a first possible implementation of the fourth aspect, the user terminal performs an operation at a receive end, and the user terminal further includes an encoding module. The encoding module is configured to perform channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding.</p>
<p id="p0019" num="0019">With reference to the fourth aspect or the first possible implementation of the fourth aspect, in a second possible implementation of the fourth aspect, the user terminal performs an operation at a receive end, and the user terminal further includes a modulation module and a mapping module. The modulation module is configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence obtained after the channel coding on the redundancy version index, to obtain a complex symbol sequence; and the mapping module is configured to: map the complex symbol sequence to a transmission resource of an uplink control channel for transmission, and finally transmit the complex symbol sequence to the satellite base station.</p>
<p id="p0020" num="0020">With reference to the fourth aspect, in a third possible implementation of the fourth aspect, the user terminal performs an operation at a receive end, and the user terminal further includes an encoding module. The encoding module is configured to perform channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding; and the encoding module is further configured to perform channel coding on uplink transmission data, to obtain a bit sequence obtained after the channel coding on the uplink transmission data.<!-- EPO <DP n="6"> --></p>
<p id="p0021" num="0021">With reference to the fourth aspect or the third possible implementation of the fourth aspect, in a fourth possible implementation of the fourth aspect, the user terminal performs an operation at a receive end, and the user terminal further includes a multiplexing module, a modulation module and a mapping module. The multiplexing module is configured to multiplex the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a multiplexed bit sequence; the modulation module is configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence multiplexed by the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a complex symbol sequence; and the mapping module is further configured to map the complex symbol sequence to a transmission resource of an uplink data channel for transmission, and finally transmit the complex symbol sequence to the satellite base station.</p>
<p id="p0022" num="0022">According to a fifth aspect, a user terminal is provided, including a processor and a memory. The processor is connected to the memory; and the memory is configured to store a computer program instruction, where when the user terminal runs, the processor executes the computer program instruction stored in the memory, so that the user terminal performs any one of the adaptive transmission methods for satellite communication.</p>
<p id="p0023" num="0023">According to a sixth aspect, a satellite base station is provided, including a receiving module, an obtaining module, and a diversity module. The receiving module is configured to receive a redundancy version index signal fed back by a user terminal; the obtaining module is configured to obtain a corresponding redundancy version combination based on an obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination; and the diversity module is configured to select a proper diversity mode for transmission based on the obtained redundancy version combination.</p>
<p id="p0024" num="0024">In a first possible implementation of the sixth aspect, the satellite base station further includes: a demodulation module, a decoding module, and a communications module. The demodulation module is configured to demodulate the received redundancy version index signal; the decoding module is configured to decode the demodulated redundancy version index signal; and the communications module is configured to implement service communication between the satellite base station and the user terminal.</p>
<p id="p0025" num="0025">According to a seventh aspect, a satellite base station is provided, including a processor and a memory. The processor is connected to the memory; and the memory is configured to store a computer program instruction, where when the satellite base station runs, the processor executes the computer program instruction stored in the memory, so that the satellite base station performs any one of the adaptive transmission methods for satellite communication.<!-- EPO <DP n="7"> --></p>
<p id="p0026" num="0026">According to an eighth aspect, a computer-readable storage medium is provided. The computer-readable storage medium stores an instruction, and when the instruction is run on a computer, the computer is enabled to perform the adaptive transmission method for satellite communication according to any one of the first aspect, the possible implementations of the first aspect, the second aspect, the possible implementations of the second aspect, and the third aspect.</p>
<p id="p0027" num="0027">According to a ninth aspect, a computer program product including an instruction is provided. When the computer program product runs on a computer, the computer is enabled to perform the adaptive transmission method for satellite communication according to any one of the first aspect, the possible implementations of the first aspect, the second aspect, the possible implementations of the second aspect, and the third aspect.</p>
<p id="p0028" num="0028">According to a tenth aspect, a satellite communication system is provided. The satellite communication system includes: the user terminal according to any one of the fourth aspect and the possible implementations of the fourth aspect of this application, and the satellite base station according to any one of the sixth aspect and the possible implementations of the sixth aspect of this application. Alternatively, the satellite communication system includes: the user terminal according to any one of the fifth aspect and the possible implementations of the fifth aspect of this application, and the satellite base station according to any one of the seventh aspect and the possible implementations of the seventh aspect of this application.</p>
<heading id="h0005"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading>
<p id="p0029" num="0029">
<ul id="ul0003" list-style="none" compact="compact">
<li><figref idref="f0001">FIG. 1</figref> shows a wireless communication system 100 applicable to this application;</li>
<li><figref idref="f0002">FIG. 2</figref> is a data transmission process using a hybrid automatic repeat request HARQ technology;</li>
<li><figref idref="f0003">FIG. 3</figref> is a process of generating a redundancy version of a data packet;</li>
<li><figref idref="f0004">FIG. 4</figref> is a schematic flowchart of an adaptive transmission method 400 for satellite communication according to this application;</li>
<li><figref idref="f0005">FIG. 5</figref> is a schematic flowchart of a method 500 according to Embodiment 1 of this application;</li>
<li><figref idref="f0005">FIG. 6</figref> is a schematic flowchart of a method 600 according to Embodiment 2 of this application;</li>
<li><figref idref="f0006">FIG. 7</figref> is a schematic flowchart of a method 700 for transmitting a redundancy version based on a signal-to-noise ratio according to this application;</li>
<li><figref idref="f0007">FIG. 8</figref> shows an analog transmission process of the method 700 for transmitting a redundancy version based on a signal-to-noise ratio according to this application;</li>
<li><figref idref="f0008">FIG. 9</figref> is a schematic structural diagram of a user terminal 900 according to this application;<!-- EPO <DP n="8"> --></li>
<li><figref idref="f0008">FIG. 10</figref> is a schematic structural diagram of a user terminal 1000 according to this application;</li>
<li><figref idref="f0009">FIG. 11</figref> is a schematic structural diagram of a satellite base station 1100 according to this application; and</li>
<li><figref idref="f0009">FIG. 12</figref> is a schematic structural diagram of a satellite base station 1200 according to this application.</li>
</ul></p>
<heading id="h0006"><b>DESCRIPTION OF EMBODIMENTS</b></heading>
<p id="p0030" num="0030">The following clearly describes the technical solutions of this application in detail with reference to the accompanying drawings.</p>
<p id="p0031" num="0031"><figref idref="f0001">FIG. 1</figref> shows a satellite communication system 100 applicable to this application. The satellite communication system 100 includes a satellite base station 101 and terminal-type network elements 102 and 103. The satellite base station 101 provides a communications service for the terminal devices 102 and 103. The terminal devices 102 and 103 may be devices such as smartphones, smart watches, and tablet computers. The satellite base station transmits downlink data to the terminal device, where the downlink data is encoded in a channel encoding scheme, and the encoded data is transmitted to the terminal device after constellation modulation. The terminal device transmits uplink data to the satellite base station, where the uplink data may also be encoded in a channel encoding scheme, and the encoded data is transmitted to the satellite base station after constellation modulation.</p>
<p id="p0032" num="0032">The satellite base station and the terminal device in <figref idref="f0001">FIG. 1</figref> communicate with each other by using a wireless technology. When the satellite base station sends a signal, the satellite base station is a transmit end, and when the satellite base station receives a signal, the satellite base station is a receive end. On the contrary, when the terminal device sends a signal, the terminal device is a transmit end, and when the terminal device receives a signal, the terminal device is a receive end.</p>
<p id="p0033" num="0033">A hybrid automatic repeat request (HARQ) is a technology that combines forward error correction (FEC) and automatic repeat request (ARQ). Forward error correction (FEC) enables a receive end to correct some errors by adding redundant information, thereby reducing a quantity of retransmissions. For an error that cannot be corrected by using forward error correction (FEC), the receive end requests, by using an automatic repeat request (ARQ) mechanism, a transmit end to retransmit data. The receive end uses an error detection code, which is usually a CRC check, to detect whether an error occurs in a received data packet. If there is no error, a positive acknowledgment (ACK) is sent. If an error occurs, the receive end discards the data packet, and sends a negative acknowledgment (NACK) to the transmit end; and after receiving the NACK, the transmit end retransmits same data. In the automatic repeat request (ARQ) mechanism described above, data packets are discarded and a retransmission is requested.<!-- EPO <DP n="9"> --> However, although the data packets cannot be correctly decoded, useful information is still included in the data packets. If the data packets are discarded, the useful information is lost. By using the HARQ technology and a chase combine technology, a received erroneous data packet is stored in a HARQ buffer, and is combined with a retransmitted data packet that is subsequently received, to obtain a more reliable data packet than a data packet that is obtained through separate decoding. Then, the combined data packet is decoded. If decoding still fails, a retransmission is requested again, and chase combine is performed again.</p>
<p id="p0034" num="0034">According to whether retransmitted bit information is the same as that in an original transmission, the hybrid automatic repeat request (HARQ) technology is classified into chase combine (chase combine, CC) and incremental redundancy (incremental redundancy, IR). The retransmitted bit information in chase combine (CC) is the same as that in the original transmission. The retransmitted bit information in the incremental redundancy does not need to be the same as that in the original transmission. Herein only incremental redundancy is described because the mechanism is used in LTE and 5G NR. In incremental redundancy, each retransmission does not need to be the same as an initial transmission. On the contrary, a plurality of coded bit sets are generated, and each set carries same information. Each time a retransmission is required, a different coded bit set from a previous coded bit set is usually transmitted, and the receive end combines retransmitted data with the previously transmitted data. A coded bit set in each retransmission is referred to as a redundancy version (redundancy version, RV). Because an additional parity bit (parity bit) that is not included in a previous transmission may be carried in the retransmission, a bit rate of the retransmission is reduced. Coded bits whose quantity is different from the quantity of initially transmitted coded bits may be included in each retransmission, and modulation schemes for different retransmissions may also be different.</p>
<p id="p0035" num="0035">After channel coding is performed on an information bit sequence, a systematic bit sequence (systematic bits), a first parity bit sequence (first parity bits), and a second parity bit sequence (second parity bits) are output. The output bit sequences are interleaved and then inserted into a circular buffer (circular buffer). The systematic bit sequence (systematic bits) is first inserted, and then the first parity bit sequence (first parity bits) and the second parity bit sequence (second parity bits) are alternately inserted.</p>
<p id="p0036" num="0036">That redundancy versions RVs are different means that bits to be sent are extracted from different starting positions of the circular buffer. For example, turbo coding is used for channel coding on a DL-SCH and a UL-SCH. Systematic bits (systematic bits) in the turbo coding are more important than parity bits (parity bit), and at least all systematic bits (systematic bits) and some parity bits (parity bit) need to be included in an initial transmission (initial transmission). However, in a retransmission (retransmission), parity bits (parity bit) that are not included in the initial transmission are included. If quality of the received bits in the initial transmission (that is, the first transmission) is very poor or the bits are not received at all in the initial transmission, performance of the retransmission of the<!-- EPO <DP n="10"> --> redundancy version RV carrying only the parity bit (parity bit) is not as good as that of the retransmission of the redundancy version RV including all (or some) systematic bits (systematic bits). In this case, there are two different negative acknowledgments: a NACK and a DTX. The NACK requires a retransmission of additional parity bits (parity bit), while the DTX requires a retransmission of the systematic bits (systematic bits). In conclusion, it is important to determine, based on signal quality in a previous transmission attempt, how many systematic bits (systematic bits) and parity bits (parity bit) are included in the retransmission.</p>
<p id="p0037" num="0037">In a HARQ protocol, a same HARQ process is classified into synchronous (synchronous) and asynchronous (asynchronous) in time domain, and is classified into adaptive (adaptive) and non-adaptive (non-adaptive) in frequency domain.</p>
<p id="p0038" num="0038">The asynchronous HARQ (asynchronous HARQ) means that a retransmission can occur at any time and that a HARQ process can be used in any order. The synchronous HARQ (synchronous HARQ) means that a retransmission can be performed only at a fixed moment after a previous transmission, and also means that only a specific HARQ process can be used for a specific subframe. The adaptive HARQ (synchronous HARQ) means that a physical resource block (PRB) resource and a modulation and coding scheme (MCS) used for a retransmission can be changed. The non-adaptive HARQ (non-adaptive HARQ) means that a physical resource block (PRB) resource and a modulation and coding scheme (MCS) that are used in a retransmission need to be the same as those in a previous transmission (a new transmission or a previous retransmission). In LTE and 5G NR, the asynchronous HARQ and the adaptive HARQ are used in downlink; the synchronous HARQ is used in uplink, but a retransmission can be adaptive or non-adaptive. It should be noted that, the asynchronous or synchronous HARQ, and the adaptive or non-adaptive HARQ are used for a relationship between the previous transmission (including the new transmission and the previous retransmission) and the retransmission, and are not used for a relationship between a physical uplink shared channel (PUSCH) transmission (including a new transmission and a retransmission) and an ACK/NACK.</p>
<p id="p0039" num="0039"><figref idref="f0002">FIG. 2</figref> is a data transmission process using a hybrid automatic repeat request HARQ technology. As shown in <figref idref="f0002">FIG. 2</figref>, a transmit end sends a redundancy version 1 of a data packet 1, and a receive end receives and decodes the redundancy version 1 of the data packet 1, to determine whether decoding is correct. If the decoding is incorrect, the receive end feeds back a NACK to the transmit end. After receiving the NACK, the transmit end learns that the receive end does not correctly receive the data packet 1, and the transmit end selects a redundancy version 2 of the data packet 1 for retransmission. The receive end receives and decodes the redundancy version 2 of the data packet 1, and determines whether decoding is correct. If the decoding performed by the receive end is correct, the receive end feeds back an ACK to the transmit end. After receiving the ACK sent by the receive end, the transmit end confirms that the receive end has correctly received the data packet 1, and then the transmit end selects a new data<!-- EPO <DP n="11"> --> packet 2 for transmission.</p>
<p id="p0040" num="0040"><figref idref="f0003">FIG. 3</figref> is a process of generating a redundancy version of a data packet. As shown in <figref idref="f0003">FIG. 3</figref>, channel coding is first performed on an information bit sequence. Optionally, a channel coding scheme may be a turbo code, an LDPC code, or another effective channel coding scheme in the conventional technology. This is not limited in this application. After the channel coding is performed on the information bit sequence, a systematic bit sequence and a parity bit sequence are obtained. Without loss of generality, that the parity bit sequence includes two types of sequences: a parity bit sequence 1 and a parity bit sequence 2 in <figref idref="f0003">FIG. 3</figref> is used as an example. A plurality of redundancy versions may be obtained by combining the systematic bit sequence and the parity bit sequence in a specific manner. Optionally, a combination manner of the systematic bit sequence and the parity bit sequence may be a combination of all bits in the systematic bit sequence and some bits in the parity bit sequence. Optionally, a combination manner of the systematic bit sequence and the parity bit sequence may alternatively be a combination of all bits in the systematic bit sequence and all bits in the parity bit sequence. Different redundancy versions RVs are used in each HARQ retransmission, and there are a maximum of eight different redundancy versions. Herein, each redundancy version corresponds to a different coded bit subset, where each subset includes different bits. For example, in <figref idref="f0003">FIG. 3</figref>, after all bits in the systematic bit sequence and/or all or some bits in the parity bit sequence 1 and/or the parity bit sequence 2 are combined in a specific manner, four redundancy versions: an RV0, an RV1, an RV2, and an RV3 are obtained. The redundancy version RV0 includes all bits in the systematic bit sequence and all or some bits in the parity bit sequence 1, the redundancy version RV1 includes all or some bits in the parity bit sequence 1 and all or some bits in the parity bit sequence 2; the redundancy version RV2 includes all or some bits in the parity bit sequence 1 and all or some bits in the parity bit sequence 2; and the redundancy version RV3 includes all or some bits in the parity bit sequence 1 and all or some bits in the parity bit sequence 2.</p>
<p id="p0041" num="0041">It can be learned from the foregoing descriptions that it is important to determine, based on signal quality in a previous transmission attempt, how many systematic bits and parity bits are included in the retransmission. In this application, the receive end may determine a redundancy version based on channel quality or a signal-to-noise ratio and bit error rate curve, and then determine a redundancy version index based on a correspondence between a redundancy version index and a redundancy version combination. Different redundancy version indexes may correspond to different redundancy version combinations. Table 1 shows a correspondence between a redundancy version (RV) index and a redundancy version combination according to this application. Four redundancy versions in <figref idref="f0002">FIG. 2</figref> are used below as examples for description. The correspondence is used in the adaptive transmission method for satellite communication provided in this application.<!-- EPO <DP n="12"> -->
<tables id="tabl0001" num="0001">
<table frame="all">
<title><b>Table 1</b></title>
<tgroup cols="2">
<colspec colnum="1" colname="col1" colwidth="43mm"/>
<colspec colnum="2" colname="col2" colwidth="74mm"/>
<thead>
<row>
<entry valign="middle">Redundancy version index</entry>
<entry valign="middle">Corresponding redundancy version combination</entry></row></thead>
<tbody>
<row>
<entry valign="middle">0</entry>
<entry valign="middle">RV0</entry></row>
<row>
<entry valign="middle">1</entry>
<entry valign="middle">RV0+RV1</entry></row>
<row>
<entry valign="middle">2</entry>
<entry valign="middle">RV0+RV1 +RV2</entry></row>
<row>
<entry valign="middle">3</entry>
<entry valign="middle">RV0+RV1 +RV2+RV3</entry></row></tbody></tgroup>
</table>
</tables></p>
<p id="p0042" num="0042">In Table 1, the redundancy version (RV) index may be represented by a regular integer sequence, for example, 0, 1, 2, and 3. Optionally, the redundancy version index may also be represented by a regular binary sequence, for example, 00, 01, 10, and 11. Optionally, the redundancy version index may alternatively be represented in another effective manner. This is not limited in this application. For example, the redundancy version indexes described in Table 1 correspond to four redundancy version combinations, where the redundancy version index value 0 corresponds to the redundancy version RV0, the redundancy version index value 1 corresponds to a combination of the redundancy versions RV0 and RV1; the redundancy version index value 2 corresponds to a combination of the redundancy versions RV0, RV1, and RV2; and the redundancy version index value 3 corresponds to a combination of the redundancy versions RV0, RV1, RV2, and RV3.</p>
<p id="p0043" num="0043">In addition to the correspondence between a redundancy version index and a redundancy version combination described in Table 1, four redundancy versions in <figref idref="f0002">FIG. 2</figref> are used as examples, and more redundancy version index values may be further used to represent more types of redundancy version combinations. As shown in Table 2, seven redundancy version index values may be used to represent seven different redundancy version combinations. In Table 1, each of the redundancy version combinations corresponding to the redundancy version index value 0 to the index value 3 is obtained by adding another redundancy version on the basis of the redundancy version combination corresponding to a previous redundancy version index value. In Table 2, a redundancy version index value 0 corresponds to a redundancy version RV0, redundancy version index values 1, 2, and 3 each correspond to a combination of two redundancy versions; redundancy version index values 4, 5, and 6 each correspond to a combination of three redundancy versions; and a redundancy version index value 7 corresponds to a combination of four redundancy versions. Optionally, the redundancy version index values may also be represented by using three binary bits or in another effective representation manner. The Table 1 and Table 2 are merely examples, and are intended to describe the correspondence between a redundancy version index and a redundancy version combination. This application is not limited to the correspondences shown in Table 1 and Table 2.<!-- EPO <DP n="13"> -->
<tables id="tabl0002" num="0002">
<table frame="all">
<title><b>Table 2</b></title>
<tgroup cols="2">
<colspec colnum="1" colname="col1" colwidth="33mm"/>
<colspec colnum="2" colname="col2" colwidth="60mm"/>
<thead>
<row>
<entry valign="middle">RV index (RV index)</entry>
<entry valign="middle">Corresponding redundancy version RV</entry></row></thead>
<tbody>
<row>
<entry valign="middle">0</entry>
<entry valign="middle">RV0</entry></row>
<row>
<entry valign="middle">1</entry>
<entry valign="middle">RV0+RV1</entry></row>
<row>
<entry valign="middle">2</entry>
<entry valign="middle">RV0+RV2</entry></row>
<row>
<entry valign="middle">3</entry>
<entry valign="middle">RV0+RV3</entry></row>
<row>
<entry valign="middle">4</entry>
<entry valign="middle">RV0+RV1 +RV2</entry></row>
<row>
<entry valign="middle">5</entry>
<entry valign="middle">RV0+RV1 +RV3</entry></row>
<row>
<entry valign="middle">6</entry>
<entry valign="middle">RV0+RV2+RV3</entry></row>
<row>
<entry valign="middle">7</entry>
<entry valign="middle">RV0+RV1 +RV2+RV3</entry></row></tbody></tgroup>
</table>
</tables></p>
<p id="p0044" num="0044">This application includes but is not limited to the correspondences between a redundancy version index and a redundancy version combination described in Table 1 and Table 2. Optionally, more redundancy version index values may be used to represent more types of redundancy version combinations. The correspondence between a redundancy version index and a redundancy version combination may be defined based on a requirement. However, generally, at least all systematic bits and some parity bits need to be included in an initial transmission (that is, the first transmission) process. Therefore, the foregoing correspondence between a redundancy version index and a redundancy version combination needs to meet at least the following condition: A redundancy version corresponding to at least one redundancy version index value includes all bits in a systematic bit sequence. For example, the redundancy version combinations corresponding to the redundancy version indexes in Table 1 and Table 2 each include the redundancy version RV0 that includes all systematic bits.</p>
<p id="p0045" num="0045"><figref idref="f0004">FIG. 4</figref> is a schematic flowchart of an adaptive transmission method 400 for satellite communication according to this application. As shown in <figref idref="f0004">FIG. 4</figref>, a receive end mainly performs the following processing procedure.</p>
<p id="p0046" num="0046">401. The receive end determines a redundancy version index. One redundancy version index may include a plurality of redundancy version index values, and different redundancy version index values correspond to different redundancy version combinations.</p>
<p id="p0047" num="0047">A plurality of redundancy versions may be obtained by combining a systematic bit sequence and a parity bit sequence in a specific manner. Optionally, the plurality of redundancy versions may be a combination of all systematic bits and all or some parity bits. Optionally, the plurality of redundancy versions may alternatively be a combination of all or some bits in first parity bits and all or some bits in second parity bits.</p>
<p id="p0048" num="0048">The receive end may determine a redundancy version based on channel quality, and then determines the<!-- EPO <DP n="14"> --> redundancy version index based on a correspondence between a redundancy version combination and a redundancy version index. Optionally, the receive end may alternatively determine a redundancy version based on a signal-to-noise ratio and bit error rate curve, and then determines the redundancy version index based on a correspondence between a redundancy version combination and a redundancy version index.</p>
<p id="p0049" num="0049">The redundancy version index may be represented by a regular integer sequence, for example, 0, 1, 2, 3, and so on.</p>
<p id="p0050" num="0050">Optionally, the redundancy version index may also be represented by a regular binary sequence, for example, 00, 01, 10, 11, and so on.</p>
<p id="p0051" num="0051">Optionally, the redundancy version index may alternatively be represented in another effective manner. This is not limited in this application.</p>
<p id="p0052" num="0052">A correspondence between a redundancy version index value and a redundancy version combination may be defined based on a requirement, but at least the following condition needs to be met: A redundancy version combination corresponding to at least one redundancy version index value includes all bits in a systematic bit sequence.</p>
<p id="p0053" num="0053">402. The receive end feeds back the redundancy version index to a transmit end.</p>
<p id="p0054" num="0054">Optionally, the receive end may feed back the redundancy version index to the transmit end through an uplink control channel or an uplink data channel.</p>
<p id="p0055" num="0055">In an embodiment provided in this application, the receive end feeds back the redundancy version index to the transmit end through the uplink control channel. <figref idref="f0005">FIG. 5</figref> is a schematic flowchart of the method 500 according to this embodiment. A specific procedure is as follows.</p>
<p id="p0056" num="0056">501. The receive end performs channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding.</p>
<p id="p0057" num="0057">Optionally, the channel coding scheme may be a convolutional code, a polar code, RM coding, or another effective coding scheme in the conventional technology. This is not limited in this application.
<ul id="ul0004" list-style="none" compact="compact">
<li>502. The receive end performs quadrature phase shift keying (quadrature phase shift keying, QPSK) modulation on the bit sequence obtained after the channel coding, to obtain a complex symbol sequence.</li>
<li>503. The receive end maps the complex symbol sequence to a transmission resource of the uplink control channel for transmission, and finally transmits the complex symbol sequence to the transmit end.</li>
</ul></p>
<p id="p0058" num="0058">In another embodiment provided in this application, the receive end feeds back the redundancy version index to the transmit end through the uplink data channel. <figref idref="f0005">FIG. 6</figref> is a schematic flowchart of the method 600 according to this embodiment. A specific procedure is as follows.</p>
<p id="p0059" num="0059">601. The receive end performs channel coding on the redundancy version index, to obtain a bit sequence<!-- EPO <DP n="15"> --> obtained after the channel coding on the redundancy version index.</p>
<p id="p0060" num="0060">Optionally, the channel coding scheme may be a convolutional code, a polar code, RM coding, or another effective coding scheme in the conventional technology. This is not limited in this application.</p>
<p id="p0061" num="0061">602. The receive end performs channel coding on uplink transmission data, to obtain a bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0062" num="0062">Optionally, the channel coding scheme may be a convolutional code, a polar code, a turbo code, a low-density parity-check (low density parity check, LDPC) code, or another effective coding scheme in the conventional technology. This is not limited in this application.</p>
<p id="p0063" num="0063">603. The receive end multiplexes the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a multiplexed bit sequence.</p>
<p id="p0064" num="0064">Optionally, the multiplexing manner includes: directly attaching the bit sequence obtained after the channel coding on the redundancy version index to the bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0065" num="0065">Optionally, the multiplexing manner further includes: directly inserting the bit sequence obtained after the channel coding on the redundancy version index into the bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0066" num="0066">Optionally, the multiplexing manner further includes: alternately interleaving, in a per-bit sequence, the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0067" num="0067">Optionally, the multiplexing manner further includes: multiplexing the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data in another effective manner in the conventional technology. This is not limited in this application.</p>
<p id="p0068" num="0068">604. The receive end interleaves and modulates the multiplexed bit sequence, maps the multiplexed bit sequence to a transmission resource of the uplink data channel for transmission, and finally transmits the multiplexed bit sequence to the transmit end.</p>
<p id="p0069" num="0069">Correspondingly, operations performed by the transmit end in the adaptive transmission method 400 for satellite communication provided in this application mainly include the following procedure.</p>
<p id="p0070" num="0070">403. The transmit end receives a redundancy version index signal fed back by the receive end, and performs operations such as demodulation and decoding on the redundancy version index signal, to obtain the redundancy version index.<!-- EPO <DP n="16"> --></p>
<p id="p0071" num="0071">404. The transmit end obtains, based on the obtained redundancy version index and the correspondence between a redundancy version index and a redundancy version combination, a corresponding redundancy version combination.</p>
<p id="p0072" num="0072">The correspondence between a redundancy version index and a redundancy version combination may be that shown in the foregoing Table 1 or Table 2, but is not limited to the correspondence shown in Table 1 or Table 2. As shown in Table 1, there are four redundancy version index values. If an obtained redundancy version index value is 2, the corresponding redundancy version combinations are RV0, RV1, and RV2. As shown in Table 2, there are seven redundancy version index values. If an obtained redundancy version index value is 2, the corresponding redundancy version combinations are RV0 and RV2.</p>
<p id="p0073" num="0073">405. The transmit end selects a proper diversity mode for transmission based on the obtained redundancy version combination.</p>
<p id="p0074" num="0074">Redundancy versions in the redundancy version combination may be transmitted on continuous resource blocks or discontinuous resource blocks.</p>
<p id="p0075" num="0075">In a possible implementation, the redundancy versions in the redundancy version combination are transmitted on continuous resource blocks (resource block, RB for short).</p>
<p id="p0076" num="0076">For example, for the redundancy version index value 2 in Table 1, the corresponding redundancy version combinations are RV0, RV1, and RV2. The redundancy version RV0 is transmitted on a resource block RB<sub>x</sub> , the redundancy version RV1 is transmitted on a resource block RB<sub>x+1</sub>, and the redundancy version RV2 is transmitted on a resource block RB<sub>x+2</sub>. The receive end demodulates different redundancy versions on continuous resource blocks, and performs combination to obtain a diversity gain.</p>
<p id="p0077" num="0077">In Embodiment 4 of this application, redundancy versions in the redundancy version combination are transmitted on discontinuous resource blocks.</p>
<p id="p0078" num="0078">Still, for example, for the redundancy version index 2 in Table 1, the corresponding redundancy version combinations are RV0, RV1, and RV2. The redundancy version RV0 is transmitted on a resource block RB<sub>x</sub>, the redundancy version RV1 is transmitted on a resource block RB<sub>y</sub> , and the redundancy version RV2 is transmitted on a resource block RB<sub>z</sub>. There is a mapping relationship between resource locations of the resource blocks RB<sub>x</sub>, RB<sub>y</sub>, and RB<sub>z</sub>. Optionally, the resource locations of the resource blocks RB<sub>x</sub>, RB<sub>y</sub>, and RB<sub>z</sub> have a specific offset. The offset is known to the transmit end and the receive end, and the receive end may learn of the resource<!-- EPO <DP n="17"> --> locations of the resource blocks RB<sub>y</sub>and RB<sub>z</sub> based on the location of the resource block RB<sub>x</sub> and the offset. Optionally, there is a specific function relationship between the resource locations of the resource blocks RB<sub>x</sub>, RB<sub>y</sub>, and RB<sub>z</sub>. The function relationship is known to the transmit end and the receive end, and the receive end may learn of the resource locations of the resource blocks RB<sub>y</sub> and RB<sub>z</sub> based on the location of the resource block RB<sub>x</sub> and the function relationship. The receive end demodulates different redundancy versions on corresponding resource blocks based on the resource locations of the resource blocks RB<sub>x</sub>, RB<sub>y</sub>, and RB<sub>z</sub>, and performs combination, to obtain a diversity gain.</p>
<p id="p0079" num="0079">In addition to the foregoing adaptive transmission method 400 for satellite communication, this application further provides a method 700 for transmitting a redundancy version based on a signal-to-noise ratio (signal-noise ratio, SNR). In the method 700, there is no need to perform a HARQ retransmission, and the transmit end does not need to wait for an ACK/NACK feedback from the receive end. For a specific method procedure, refer to <figref idref="f0006">FIG. 7</figref>. For a simulated transmission process, refer to <figref idref="f0007">FIG. 8</figref>.</p>
<p id="p0080" num="0080"><figref idref="f0006">FIG. 7</figref> is a schematic flowchart of a method 700 for transmitting a redundancy version based on a signal-to-noise ratio according to this application. A specific procedure of the method is as follows:
<ul id="ul0005" list-style="none" compact="compact">
<li>701. A satellite sends a data packet at a fixed rate R = Blog<sub>2</sub>(1+<i>γ</i>) at an initial moment t<sub>0</sub>, where the rate corresponds to a signal-to-noise ratio <i>γ</i>.</li>
<li>702. The satellite receives, through terrestrial user measurement, a signal-to-noise ratio SNR<sub>0</sub> fed back by a user at a moment t<sub>1</sub>.
<br/>
Because of a transmission delay of the satellite, the signal-to-noise ratio SNR<sub>0</sub> is a signal-to-noise ratio received by the satellite at the moment t<sub>1</sub> after the transmission delay from the moment t<sub>0</sub>.
</li>
<li>703. The satellite compares the signal-to-noise ratio SNR<sub>0</sub> received at the moment t<sub>1</sub> with the signal-to-noise ratio <i>γ</i> used during sending at the moment t<sub>0</sub>. If SNR<sub>0</sub> &gt; <i>γ</i> , a transmission process at the moment t<sub>0</sub> is repeated at the moment t<sub>1</sub> ; or if SNR<sub>0</sub> &lt; <i>γ</i> , data with an RV0 version that is sent at the corresponding moment t<sub>0</sub> and some new data are sent at the moment t<sub>1</sub> , and it is ensured that a transmission rate is still R.
<br/>
If SNR<sub>0</sub> &gt; <i>γ</i>, it indicates that actual channel quality is better than expected channel quality when the<!-- EPO <DP n="18"> --> data is sent at the fixed rate R, and it is considered that the previous data is normally received, and the satellite repeats, at the moment t<sub>1</sub> , the transmission process at the moment t<sub>0</sub>.
<br/>
If SNR<sub>0</sub> &lt; <i>γ</i>, it indicates that actual channel quality is worse than expected channel quality when the data is sent at the fixed rate R, it is considered that the previous data is not normally received, and the data with the RV0 version that is sent at the corresponding moment t<sub>0</sub> and some new data are sent at the moment t<sub>1</sub> , and it is ensured that the transmission rate is still R, that is, the signal-to-noise ratio is still <i>γ</i>.
</li>
<li>704. If SNR<sub>0</sub> &lt; <i>γ ,</i> the satellite receives, through terrestrial user measurement, a signal-to-noise ratio SNR<sub>1</sub> fed back by a user at a moment t<sub>2</sub>.
<br/>
Because of a transmission delay, the signal-to-noise ratio SNR<sub>1</sub> is a signal-to-noise ratio received by the satellite at the moment t<sub>2</sub> after the transmission delay from the moment t<sub>1</sub>.
</li>
<li>705. The satellite compares the signal-to-noise ratio SNR<sub>1</sub> received at the moment t<sub>2</sub> with the signal-to-noise ratio <i>γ</i> used during sending at the moment t<sub>1</sub> . If SNR<sub>1</sub> &gt; <i>γ</i> , the satellite repeats, at the moment t<sub>2</sub> , the transmission process at the moment t<sub>0</sub> ; or if SNR<sub>1</sub> &lt; <i>γ</i> , data with an RV1 version that is sent at the corresponding moment t<sub>1</sub> and some new data are still sent at the moment t<sub>2</sub>, and it is ensured that a transmission rate is still R.
<br/>
If SNR<sub>1</sub> &gt; <i>γ</i> , it indicates that actual channel quality is better than expected channel quality when the data is sent at the fixed rate R, it is considered that all previous data is normally received, and a next data packet is continuously transmitted at the moment t<sub>2</sub>.
<br/>
If SNR<sub>1</sub> &lt; <i>γ</i> , it indicates that actual channel quality is worse than expected channel quality when the data is sent at the fixed rate R, it is considered that the previous data is not normally received, and the data with an RV1 version that is sent at the corresponding moment t<sub>1</sub> and some new data are sent at the moment t<sub>2</sub> , and it is ensured that the transmission rate is still R.
</li>
<li>706. The rest may be deduced by analogy according to the foregoing steps, and until SNR<sub>x</sub> &gt; <i>γ</i> (where x is an integer, and x ≥ 1), it indicates that all previously sent data is normally received, and the satellite starts to repeat the transmission process at the moment t<sub>0</sub>.</li>
</ul><!-- EPO <DP n="19"> --></p>
<p id="p0081" num="0081">This application provides two adaptive transmission methods for satellite communication in which a HARQ retransmission technology is not required.
<ul id="ul0006" list-style="none" compact="compact">
<li>Method 1: A receive end feeds back a redundancy version index, and a transmit end performs transmission in different diversity modes based on a redundancy version corresponding to the redundancy version index fed back by the receive end. In the method, the HARQ retransmission is not required, and a transmission delay of a satellite communication system is reduced. In addition, diversity transmission can be used to obtain a diversity transmission gain and a coding gain, thereby improving data transmission reliability.</li>
<li>Method 2: A proper redundancy version is selected for transmission based on a signal-to-noise ratio measured and fed back by a terrestrial user, and a HARQ retransmission is not required, thereby reducing a transmission delay of a satellite communication system and ensuring data transmission reliability.</li>
</ul></p>
<p id="p0082" num="0082">A satellite base station and a terminal device communicate with each other by using a wireless technology. When the satellite base station sends a redundancy version of a data packet, the satellite base station is a transmit end, and when the satellite base station receives the redundancy version of the data packet, the satellite base station is a receive end. On the contrary, when the terminal device sends a redundancy version of a data packet, the terminal device is a transmit end, and when the terminal device receives the redundancy version of the data packet, the terminal device is a receive end.</p>
<p id="p0083" num="0083"><figref idref="f0008">FIG. 9</figref> is a schematic structural diagram of a user terminal 900 according to this application. The user terminal 900 performs an operation at a receive end, and the user terminal 900 includes:
<ul id="ul0007" list-style="none" compact="compact">
<li>a determining module 901, configured to determine a redundancy version index; and</li>
<li>a sending module 902, configured to feed back the redundancy version index to a satellite base station.</li>
</ul></p>
<p id="p0084" num="0084">Optionally, the user terminal 900 further includes an encoding module 906, configured to perform channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding.</p>
<p id="p0085" num="0085">Optionally, the user terminal 900 further includes a modulation module 907, configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence obtained after the channel coding on the redundancy version index, to obtain a complex symbol sequence.</p>
<p id="p0086" num="0086">Optionally, the user terminal 900 further includes a mapping module 908, configured to map the complex symbol sequence to a transmission resource of an uplink control channel for transmission, and finally transmit the complex symbol sequence to the satellite base station.</p>
<p id="p0087" num="0087">Optionally, the encoding module 906 is further configured to perform channel coding on uplink transmission data, to obtain a bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0088" num="0088">Optionally, the user terminal 900 further includes a multiplexing module 909, configured to multiplex<!-- EPO <DP n="20"> --> the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a multiplexed bit sequence.</p>
<p id="p0089" num="0089">Optionally, the modulation module 907 is further configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence multiplexed by the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a complex symbol sequence.</p>
<p id="p0090" num="0090">Optionally, the mapping module 908 is further configured to map the complex symbol sequence to a transmission resource of an uplink data channel for transmission, and finally transmit the complex symbol sequence to the satellite base station.</p>
<p id="p0091" num="0091">The user terminal may further perform an operation at a transmit end. If the user terminal performs the operation at the transmit end, the user terminal includes:
<ul id="ul0008" list-style="none" compact="compact">
<li>a receiving module 903, configured to receive a redundancy version index signal fed back by a satellite base station;</li>
<li>an obtaining module 904, configured to obtain, based on an obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination, a corresponding redundancy version combination; and</li>
<li>a diversity module 905, configured to select a proper diversity mode for transmission based on the obtained redundancy version combination.</li>
</ul></p>
<p id="p0092" num="0092">Optionally, the user terminal further includes a demodulation module 910, configured to demodulate the received redundancy version index signal.</p>
<p id="p0093" num="0093">Optionally, the user terminal further includes a decoding module 911, configured to decode the demodulated redundancy version index signal.</p>
<p id="p0094" num="0094">Optionally, the user terminal further includes a communications module 912, configured to implement service communication between the user terminal and the satellite base station.</p>
<p id="p0095" num="0095"><figref idref="f0008">FIG. 10</figref> is a schematic structural diagram of a user terminal 1000 according to this application. The user terminal 1000 includes:
<ul id="ul0009" list-style="none" compact="compact">
<li>a memory 1001, configured to store a computer program instruction; and</li>
<li>a processor 1002, configured to execute the program stored in the memory.</li>
</ul></p>
<p id="p0096" num="0096">When the program is executed, the processor executes the computer program instruction stored in the memory, so that the user terminal implements the processing operation performed by the user terminal in any one of the foregoing embodiments.<!-- EPO <DP n="21"> --></p>
<p id="p0097" num="0097">Optionally, the user terminal 1000 further includes a transceiver 1003. When the program is executed, the processor executes the computer program instruction stored in the memory, so that the transceiver 1003 of the user terminal 1000 implements the receiving and sending steps performed by the user terminal in any one of the foregoing embodiments.</p>
<p id="p0098" num="0098"><figref idref="f0009">FIG. 11</figref> is a schematic structural diagram of a satellite base station 1100 according to this application. The satellite base station 1100 performs an operation at a transmit end, and the satellite base station 1100 includes:
<ul id="ul0010" list-style="none" compact="compact">
<li>a receiving module 1101, configured to receive a redundancy version index signal fed back by a user terminal;</li>
<li>an obtaining module 1102, configured to obtain, based on an obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination, a corresponding redundancy version combination; and</li>
<li>a diversity module 1103, configured to select a proper diversity mode for transmission based on the obtained redundancy version combination.</li>
</ul></p>
<p id="p0099" num="0099">Optionally, the satellite base station 1100 further includes a demodulation module 1106, configured to demodulate the received redundancy version index signal.</p>
<p id="p0100" num="0100">Optionally, the satellite base station 1100 further includes a decoding module 1107, configured to decode the demodulated redundancy version index signal.</p>
<p id="p0101" num="0101">Optionally, the satellite base station 1100 further includes a communications module 1108, configured to implement service communication between the satellite base station 1100 and the user terminal.</p>
<p id="p0102" num="0102">The satellite base station 1100 may further perform an operation at a receive end. If the satellite base station performs the operation at the receive end, the satellite base station includes:
<ul id="ul0011" list-style="none" compact="compact">
<li>a determining module 1104, configured to determine a redundancy version index; and</li>
<li>a sending module 1105, configured to transmit a redundancy version in a proper diversity mode.</li>
</ul></p>
<p id="p0103" num="0103">Optionally, the satellite base station 1100 further includes an encoding module 1109, configured to perform channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding.</p>
<p id="p0104" num="0104">Optionally, the satellite base station 1100 further includes a modulation module 1110, configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence obtained after the channel coding on the redundancy version index, to obtain a complex symbol sequence.</p>
<p id="p0105" num="0105">Optionally, the satellite base station 1100 further includes a mapping module 1111, configured to map the complex symbol sequence to a transmission resource of an uplink control channel for transmission, and finally transmit the complex symbol sequence to the user terminal.<!-- EPO <DP n="22"> --></p>
<p id="p0106" num="0106">Optionally, the encoding module 1109 is further configured to perform channel coding on uplink transmission data, to obtain a bit sequence obtained after the channel coding on the uplink transmission data.</p>
<p id="p0107" num="0107">Optionally, the satellite base station further includes a multiplexing module 1112, configured to multiplex the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a multiplexed bit sequence.</p>
<p id="p0108" num="0108">Optionally, the modulation module 1110 is further configured to perform quadrature phase shift keying (QPSK) modulation on the bit sequence multiplexed by the bit sequence obtained after the channel coding on the redundancy version index and the bit sequence obtained after the channel coding on the uplink transmission data, to obtain a complex symbol sequence.</p>
<p id="p0109" num="0109">Optionally, the mapping module 1111 is further configured to map the complex symbol sequence to a transmission resource of an uplink data channel for transmission, and finally transmit the complex symbol sequence to the user terminal.</p>
<p id="p0110" num="0110"><figref idref="f0009">FIG. 12</figref> is a schematic structural diagram of a satellite base station 1200 according to this application. The satellite base station 1200 includes:
<ul id="ul0012" list-style="none" compact="compact">
<li>a memory 1201, configured to store a computer program instruction; and</li>
<li>a processor 1202, configured to execute the program stored in the memory.</li>
</ul></p>
<p id="p0111" num="0111">When the program is executed, the processor executes the computer program instruction stored in the memory, so that the satellite base station 1200 implements the processing operation performed by the satellite base station in any one of the foregoing embodiments.</p>
<p id="p0112" num="0112">Optionally, the satellite base station further includes a transceiver 1203. When the program is executed, the processor executes the computer program instruction stored in the memory, so that the transceiver 1203 of the satellite base station 1200 implements the receiving and sending steps performed by the satellite base station in any one of the foregoing embodiments.</p>
<p id="p0113" num="0113">An embodiment of this application further provides a computer-readable medium. The computer-readable medium stores a computer program instruction, and when the computer program instruction is executed by a computer, the method performed by the user terminal or the satellite base station in any one of the foregoing embodiments is implemented.</p>
<p id="p0114" num="0114">An embodiment of this application further provides a computer program product. When the computer program product is executed by a computer, the method performed by the user terminal or the satellite base station in any one of the foregoing embodiments is implemented.</p>
<p id="p0115" num="0115">An embodiment of this application further provides a satellite communication system. The satellite<!-- EPO <DP n="23"> --> communication system includes a user terminal and a satellite base station. For example, the user terminal may be the user terminal 900 provided in the foregoing embodiment, and the satellite base station may be the satellite base station 1100 provided in the foregoing embodiment. Alternatively, the user terminal may be the user terminal 1000 provided in the foregoing embodiment, and the satellite base station may be the satellite base station 1200 provided in the foregoing embodiment.</p>
<p id="p0116" num="0116">An embodiment of this application further provides a system chip. The system chip includes a processing unit and a communications unit. The processing unit may be, for example, a processor. The communications unit may be, for example, an input/output interface, a pin, a circuit, or the like. The processing unit may execute a computer instruction, so that a chip in the communications apparatus performs the method performed by the user terminal or the satellite base station according to any one of the foregoing embodiments.</p>
<p id="p0117" num="0117">In the examples described in the embodiments of this application, units and method processes may be implemented by electronic hardware or a combination of computer software and electronic hardware. Whether the functions are performed by hardware or software depends on a particular application and a design constraint condition of the technical solutions. Persons skilled in the art may use different methods to implement the described functions for each particular application.</p>
<p id="p0118" num="0118">In the several embodiments provided in this application, it should be understood that the disclosed apparatus and method may be implemented in other manners. The described apparatus embodiments are merely examples. For example, the unit division is merely logical function division and may be other division in actual implementation. For example, a plurality of units or components may be combined or may be integrated into another system. Some steps in the method may be ignored or not performed. In addition, couplings or direct couplings or communication connections between the units may be implemented by using some interfaces, and the interfaces may be implemented in electronic, mechanical, or other forms.</p>
<p id="p0119" num="0119">The units described as separate parts may or may not be physically separate, and may be located in one location or may be distributed on a plurality of network units. In addition, functional units in the embodiments of this application may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit.</p>
<p id="p0120" num="0120">All or some of the foregoing embodiments may be implemented by software, hardware, firmware, or any combination thereof. When software is used to implement the embodiments, all or some of the embodiments may be implemented in a form of a computer program product. The computer program product includes one or more computer instructions. When the computer program instructions are loaded and executed on a computer, all or some of the procedures or functions according to the embodiments of this application are generated. The computer may be<!-- EPO <DP n="24"> --> a general-purpose computer, a special-purpose computer, a computer network, or another programmable apparatus. The computer instruction may be stored in a computer-readable storage medium, or may be transmitted by using the computer-readable storage medium. The computer instruction may be transmitted from a website, computer, server, or data center to another website, computer, server, or data center in a wired (for example, a coaxial cable, an optical fiber, or a digital subscriber line (DSL)) or wireless (for example, infrared, radio, or microwave) manner. The computer-readable storage medium may be any usable medium accessible by a computer, or a data storage device, such as a server or a data center, integrating one or more usable media. The usable medium may be a magnetic medium (for example, a floppy disk, a hard disk, a magnetic tape, a USB flash drive, a read-only memory (read-only memory, ROM), or a random-access memory (random-access memory, RAM)), an optical medium (for example, a CD or a digital versatile disc (digital video disc, DVD)), a semiconductor medium (for example, a solid-state drive (solid state disk, SSD)), or the like.</p>
<p id="p0121" num="0121">The foregoing embodiments are merely intended to describe the technical solutions of this application, but not to limit this application. Although this application is described in detail with reference to the foregoing embodiments, persons of ordinary skill in the art should understand that they may still make modifications to the technical solutions described in the foregoing embodiments or make equivalent replacements to some technical features thereof, without departing from the scope of the technical solutions of the embodiments of this application. Although this application is described herein with reference to the embodiments, in a procedure of implementing this application that claims protection, persons skilled in the art may understand and implement another variation of the disclosed embodiments by viewing the accompanying drawings, disclosed content, and the appended claims. In the claims, "comprising" (comprising) does not exclude another component or another step, and "a" or "one" does not exclude a case of a plurality. A single processor or another unit may implement several functions enumerated in the claims. Some measures are described in dependent claims that are different from each other, but this does not mean that these measures cannot be combined to produce a better effect.</p>
<p id="p0122" num="0122">Although this application is described with reference to specific features and the embodiments thereof, it is clear that various modifications and combinations may be made to them without departing from the protection scope of this application. Correspondingly, this specification and the accompanying drawings are merely example descriptions of this application defined by the appended claims, and are considered as any of or all modifications, variations, combinations, or equivalents that cover the scope of this application. Certainly, persons skilled in the art can make various modifications and variations to this application without departing from the protection scope of this application. This application is intended to cover these modifications and variations of this application provided that they fall within the scope of the claims of this application and equivalent technologies thereof.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="25"> -->
<claim id="c-en-0001" num="0001">
<claim-text>An adaptive transmission method for satellite communication, wherein the method comprises:
<claim-text>determining, by a receive end, a redundancy version index;</claim-text>
<claim-text>determining, by the receive end, a redundancy version based on channel quality or a signal-to-noise ratio and bit error rate curve, and then determining the redundancy version index based on a correspondence between a redundancy version index and a redundancy version combination; and</claim-text>
<claim-text>feeding back, by the receive end, the redundancy version index to a transmit end.</claim-text></claim-text></claim>
<claim id="c-en-0002" num="0002">
<claim-text>The method according to claim 1, wherein the feeding back, by the receive end, the redundancy version index to a transmit end comprises:
<claim-text>performing, by the receive end, channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding;</claim-text>
<claim-text>performing, by the receive end, quadrature phase shift keying QPSK modulation on the bit sequence obtained after the channel coding, to obtain a complex symbol sequence; and</claim-text>
<claim-text>mapping, by the receive end, the complex symbol sequence to a transmission resource of an uplink control channel for transmission, and finally transmitting the complex symbol sequence to the transmit end.</claim-text></claim-text></claim>
<claim id="c-en-0003" num="0003">
<claim-text>The method according to claim 1, wherein the feeding back, by the receive end, the redundancy version index to a transmit end comprises:
<claim-text>performing, by the receive end, channel coding on the redundancy version index, to obtain a first bit sequence obtained after the channel coding;</claim-text>
<claim-text>performing, by the receive end, channel coding on uplink transmission data, to obtain a second bit sequence obtained after the channel coding;</claim-text>
<claim-text>multiplexing, by the receive end, the first bit sequence and the second bit sequence, to obtain a multiplexed sequence; and</claim-text>
<claim-text>interleaving and modulating, by the receive end, the multiplexed third bit sequence, mapping the third bit sequence to a transmission resource of an uplink data channel for transmission, and finally transmitting the third bit sequence to the transmit end.</claim-text></claim-text></claim>
<claim id="c-en-0004" num="0004">
<claim-text>The method according to claim 3, wherein a scheme in which the receive end performs the channel coding on the redundancy version index comprises: a convolutional code, a polar code, or RM coding.</claim-text></claim>
<claim id="c-en-0005" num="0005">
<claim-text>The method according to claim 3 or 4, wherein the multiplexing, by the receive end, the first bit sequence and<!-- EPO <DP n="26"> --> the second bit sequence, to obtain a third bit sequence comprises:<br/>
attaching, by the receive end, the first bit sequence to the second bit sequence, to obtain the third bit sequence.</claim-text></claim>
<claim id="c-en-0006" num="0006">
<claim-text>The method according to claim 3 or 4, wherein the multiplexing, by the receive end, the first bit sequence and the second bit sequence, to obtain a third bit sequence comprises:<br/>
inserting, by the receive end, the first bit sequence into the second bit sequence, to obtain the third bit sequence.</claim-text></claim>
<claim id="c-en-0007" num="0007">
<claim-text>The method according to claim 3 or 4, wherein the multiplexing, by the receive end, the first bit sequence and the second bit sequence, to obtain a third bit sequence comprises:<br/>
alternately interleaving, by the receive end, the first bit sequence and the second bit sequence in a per-bit sequence, to obtain the third bit sequence.</claim-text></claim>
<claim id="c-en-0008" num="0008">
<claim-text>The method according to any one of claims 1 to 7, wherein the correspondence between a redundancy version index and a redundancy version combination meets at least the following condition:<br/>
a redundancy version in the redundancy version combination corresponding to at least one redundancy version index value in the redundancy version index comprises all bits in a systematic bit sequence.</claim-text></claim>
<claim id="c-en-0009" num="0009">
<claim-text>An adaptive transmission method for satellite communication, wherein the method comprises:
<claim-text>obtaining, by a transmit end, a redundancy version index signal;</claim-text>
<claim-text>obtaining, by the transmit end, a redundancy version index based on the redundancy version index signal;</claim-text>
<claim-text>obtaining, by the transmit end based on the obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination, a redundancy version combination corresponding to the redundancy version index; and</claim-text>
<claim-text>selecting, by the transmit end based on the obtained redundancy version combination, a diversity mode to transmit data.</claim-text></claim-text></claim>
<claim id="c-en-0010" num="0010">
<claim-text>The method according to claim 9, wherein the selecting, by the transmit end based on the obtained redundancy version combination, a diversity mode to transmit data comprises:<br/>
transmitting redundancy versions comprised in the redundancy version combination on continuous resource blocks.</claim-text></claim>
<claim id="c-en-0011" num="0011">
<claim-text>The method according to claim 10, wherein the selecting, by the transmit end based on the obtained redundancy version combination, a diversity mode to transmit data comprises:<br/>
transmitting redundancy versions comprised in the redundancy version combination on discontinuous resource blocks, wherein there is a mapping relationship or a function relationship between resource locations of the discontinuous resource blocks.</claim-text></claim>
<claim id="c-en-0012" num="0012">
<claim-text>A terminal device, comprising:<!-- EPO <DP n="27"> -->
<claim-text>a determining module, configured to determine a redundancy version index; and</claim-text>
<claim-text>determine, by a receive end, a redundancy version based on channel quality or a signal-to-noise ratio and bit error rate curve, and then determine the redundancy version index based on a correspondence between a redundancy version index and a redundancy version combination; and</claim-text>
<claim-text>a sending module, configured to feed back the redundancy version index to a satellite base station, wherein the terminal device feeds back the redundancy version index to the satellite base station through an uplink control channel or an uplink data channel.</claim-text></claim-text></claim>
<claim id="c-en-0013" num="0013">
<claim-text>The terminal device according to claim 12, wherein the terminal device further comprises:<br/>
an encoding module, wherein the encoding module is configured to perform channel coding on the redundancy version index, to obtain a bit sequence obtained after the channel coding.</claim-text></claim>
<claim id="c-en-0014" num="0014">
<claim-text>The terminal device according to claim 12 or 13, wherein the terminal device further comprises:
<claim-text>a modulation module, wherein the modulation module is configured to perform quadrature phase shift keying QPSK modulation on the bit sequence obtained after the channel coding, to obtain a complex symbol sequence; and</claim-text>
<claim-text>the mapping module, configured to map the complex symbol sequence to a transmission resource of the uplink control channel for transmission, and finally transmit the complex symbol sequence to the satellite base station.</claim-text></claim-text></claim>
<claim id="c-en-0015" num="0015">
<claim-text>The terminal device according to claim 12, wherein the terminal device further comprises:<br/>
an encoding module, wherein the encoding module is configured to perform channel coding on the redundancy version index, to obtain a first bit sequence obtained after the channel coding; and further configured to perform channel coding on uplink transmission data, to obtain a second bit sequence obtained after the channel coding.</claim-text></claim>
<claim id="c-en-0016" num="0016">
<claim-text>The user terminal according to claim 15, wherein the terminal device further comprises:
<claim-text>a multiplexing module, wherein the multiplexing module is configured to multiplex the first bit sequence and the second bit sequence, to obtain a multiplexed third bit sequence;</claim-text>
<claim-text>an interleaving module, wherein the interleaving module is configured to interleave the multiplexed third bit sequence, to obtain an interleaved fourth bit sequence;</claim-text>
<claim-text>a modulation module, wherein the modulation module is configured to perform quadrature phase shift keying QPSK modulation on the interleaved fourth bit sequence, to obtain a modulated fifth bit sequence; and</claim-text>
<claim-text>a mapping module, wherein the mapping module is configured to map the modulated fifth bit sequence to a transmission resource of the uplink data channel for transmission, and finally transmit the modulated fifth bit sequence to the satellite base station.</claim-text></claim-text></claim>
<claim id="c-en-0017" num="0017">
<claim-text>A terminal device, wherein the terminal device comprises:
<claim-text>a memory, configured to store a program; and<!-- EPO <DP n="28"> --></claim-text>
<claim-text>a processor, configured to execute the program stored in the memory, wherein when the program is executed, the processor is configured to perform the method according to any one of claims 1 to 8.</claim-text></claim-text></claim>
<claim id="c-en-0018" num="0018">
<claim-text>A satellite base station, wherein the satellite base station comprises:
<claim-text>a receiving module, configured to receive a redundancy version index signal fed back by a terminal device;</claim-text>
<claim-text>an obtaining module, configured to obtain, based on an obtained redundancy version index and a correspondence between a redundancy version index and a redundancy version combination, a redundancy version combination corresponding to the redundancy version index; and/or</claim-text>
<claim-text>a diversity module, configured to select a diversity mode for transmission based on the obtained redundancy version combination, wherein</claim-text>
<claim-text>the diversity mode comprises that redundancy versions comprised in the redundancy version combination are transmitted in the diversity mode on continuous or discontinuous resource blocks.</claim-text></claim-text></claim>
<claim id="c-en-0019" num="0019">
<claim-text>The satellite base station according to claim 18, wherein the satellite base station further comprises:
<claim-text>a demodulation module, configured to demodulate the received redundancy version index signal; and/or</claim-text>
<claim-text>a decoding module, configured to decode the demodulated redundancy version index signal; and/or</claim-text>
<claim-text>a communications module, configured to implement service communication between the satellite base station and the terminal device.</claim-text></claim-text></claim>
<claim id="c-en-0020" num="0020">
<claim-text>A satellite base station, wherein the satellite base station comprises:
<claim-text>a memory, configured to store a program; and</claim-text>
<claim-text>a processor, configured to execute the program stored in the memory, wherein when the program is executed, the processor is configured to perform the method according to any one of claims 9 to 11.</claim-text></claim-text></claim>
<claim id="c-en-0021" num="0021">
<claim-text>A computer-readable storage medium, comprising an instruction, wherein when the instruction is run on a computer, the computer is enabled to perform the method according to any one of claims 1 to 8 or any one of claims 9 to 11.</claim-text></claim>
<claim id="c-en-0022" num="0022">
<claim-text>A computer program product, wherein the computer program product comprises computer program code, and when the computer program code is run on a computer, the computer is enabled to perform the method according to any one of claims 1 to 8 or any one of claims 9 to 11.</claim-text></claim>
<claim id="c-en-0023" num="0023">
<claim-text>A chip, comprising a processor and/or a memory, wherein the memory is configured to store a computer program, and the processor is configured to invoke the computer program from the memory and run the computer program, so that the processor performs the method according to any one of claims 1 to 8 or any one of claims 9 to 11.</claim-text></claim>
<claim id="c-en-0024" num="0024">
<claim-text>A satellite communication system, comprising the terminal device according to claim 17 and the satellite base<!-- EPO <DP n="29"> --> station according to claim 20.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="30"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="114" he="104" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="80" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="138" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> -->
<figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="144" he="147" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> -->
<figure id="f0005" num="5,6"><img id="if0005" file="imgf0005.tif" wi="150" he="213" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> -->
<figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="149" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> -->
<figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="142" he="140" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> -->
<figure id="f0008" num="9,10"><img id="if0008" file="imgf0008.tif" wi="148" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> -->
<figure id="f0009" num="11,12"><img id="if0009" file="imgf0009.tif" wi="148" he="217" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="en" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="152" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="152" he="233" type="tif"/></search-report-data>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="CN201910083857" dnum-type="L"><document-id><country>CN</country><doc-number>201910083857</doc-number><date>20190129</date></document-id></patcit><crossref idref="pcit0001">[0001]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
