<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP19909030A1" file="EP19909030NWA1.xml" lang="en" country="EP" doc-number="3890415" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890415</B110><B120><B121>EUROPEAN PATENT APPLICATION</B121><B121EP>published in accordance with Art. 153(4) EPC</B121EP></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>19909030.9</B210><B220><date>20190111</date></B220><B240><B241><date>20210628</date></B241></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04W  72/02        20090101AFI20200718BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04W  72/02        20130101 LI20200807BCEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN UND ENDGERÄTEVORRICHTUNG FÜR SIDELINK-KOMMUNIKATION</B542><B541>en</B541><B542>SIDELINK COMMUNICATION METHOD AND TERMINAL DEVICE</B542><B541>fr</B541><B542>PROCÉDÉ DE COMMUNICATION EN LIAISON LATÉRALE ET DISPOSITIF TERMINAL</B542></B540><B590><B598>3</B598></B590></B500><B700><B710><B711><snm>GUANGDONG OPPO MOBILE TELECOMMUNICATIONS 
CORP., LTD.</snm><iid>101896723</iid><irf>27A9014O12EP271W</irf><adr><str>No. 18 Haibin Road 
Wusha, Chang'an</str><city>Dongguan, Guangdong 523860</city><ctry>CN</ctry></adr></B711></B710><B720><B721><snm>ZHAO, Zhenshan</snm><adr><str>NO.18 Haibin Road, Wusha, 
Chang'an</str><city>Dongguan, Guangdong 523860</city><ctry>CN</ctry></adr></B721><B721><snm>LU, Qianxi</snm><adr><str>NO.18 Haibin Road, Wusha, 
Chang'an</str><city>Dongguan, Guangdong 523860</city><ctry>CN</ctry></adr></B721><B721><snm>LIN, Huei-Ming</snm><adr><str>52 Tyrone Street</str><city>South Yarra, Victoria 3141</city><ctry>AU</ctry></adr></B721></B720><B740><B741><snm>Penza, Giancarlo</snm><iid>101616752</iid><adr><str>Bugnion S.p.A. 
Viale Lancetti, 17</str><city>20158 Milano</city><ctry>IT</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP><B860><B861><dnum><anum>CN2019071486</anum></dnum><date>20190111</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2020143059</pnum></dnum><date>20200716</date><bnum>202029</bnum></B871></B870></B800></SDOBI>
<abstract id="abst" lang="en">
<p id="pa01" num="0001">Disclosed are a sidelink communication method and a terminal device. The method comprises: a first terminal device receives a sidelink channel sent by a second terminal device; and the first terminal device determines a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel. According to the method and the terminal device of embodiments of the present application, signaling overheads are benefited to reduce, and the complexity of detecting the sidelink reference signal is also reduced.<img id="iaf01" file="imgaf001.tif" wi="157" he="47" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">Technical Field</heading>
<p id="p0001" num="0001">Embodiments of the present application relate to the field of communications, and in particular to a sidelink communication method and a terminal device.</p>
<heading id="h0002">Background</heading>
<p id="p0002" num="0002">In order to improve a throughput of a system, a terminal may measure a channel based on some reference signals, and select appropriate a transmission parameter according to a measurement result. For example, the terminal may measure the channel according to a Channel State Information-Reference Signal (CSI-RS), select various types of quality information, and feed the quality information back to a sending terminal, thus improving the throughput of the system.</p>
<p id="p0003" num="0003">In a Vehicle to Everything (V2X) system, various sidelink reference signals are also introduced. How to send a sidelink reference signal on a sidelink is a problem to be solved.</p>
<heading id="h0003">Summary</heading>
<p id="p0004" num="0004">Embodiments of the present application provide a sidelink communication method and a terminal device, which may reduce complexity of detecting a sidelink reference signal, and also be beneficial to reducing signaling overhead.</p>
<p id="p0005" num="0005">In a first aspect, a sidelink communication method is provided, which includes: receiving, by a first terminal device, a sidelink channel sent by a second terminal device, and determining, by the first terminal device, a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel.</p>
<p id="p0006" num="0006">In a second aspect, a sidelink communication method is provided, which includes: determining, by a second terminal device, a transmission resource of a sidelink reference signal according to a transmission resource of a sidelink channel, and receiving, by the second<!-- EPO <DP n="2"> --> terminal device, the sidelink reference signal on the transmission resource of the sidelink reference signal.</p>
<p id="p0007" num="0007">In a third aspect, a terminal device is provided, which is configured to perform the method in the first aspect or various implementations thereof.</p>
<p id="p0008" num="0008">Specifically, the terminal device includes function modules for performing the method in the above first aspect or various implementations thereof.</p>
<p id="p0009" num="0009">In a fourth aspect, a terminal device is provided, which is configured to perform the method in the second aspect or various implementations thereof.</p>
<p id="p0010" num="0010">Specifically, the terminal device includes function modules for performing the method in the above second aspect or various implementations thereof.</p>
<p id="p0011" num="0011">In a fifth aspect, a terminal device is provided, which includes a processor and a memory. The memory is configured to store a computer program, and the processor is configured to call and run the computer program stored in the memory to perform the method in any one of the above first aspect and second aspect or various implementations thereof.</p>
<p id="p0012" num="0012">In a sixth aspect, a chip is provided, which is configured to perform the method in any one of the above first aspect and second aspect or in various implementations thereof.</p>
<p id="p0013" num="0013">Specifically, the chip includes a processor, which is configured to call and run a computer program from a memory to enable a device in which the chip is installed to perform the method in any one of the above first aspect and second aspect or in various implementations thereof.</p>
<p id="p0014" num="0014">In a seventh aspect, a computer-readable storage medium is provided, which is configured to store a computer program, when the computer program is run on a computer, the computer is enabled to perform the method in any one of the above first aspect and second aspect or in various implementations thereof.</p>
<p id="p0015" num="0015">In an eighth aspect, a computer program product is provided, which includes computer program instructions, when the computer program instructions are executed by a computer, the computer is enabled to perform the method in any one of the above first aspect and second aspect or in various implementations thereof.</p>
<p id="p0016" num="0016">In a ninth aspect, a computer program is provided, when being run on a computer, the<!-- EPO <DP n="3"> --> computer is enabled to perform the method in any one of the above first aspect and second aspect or in various implementations thereof.</p>
<p id="p0017" num="0017">According to the above technical solutions, a first terminal device determines a transmission resource of a sidelink reference signal to be transmitted based on a transmission resource of a sidelink channel sent by a second terminal device. The first terminal device is enabled to transmit the sidelink reference signal on a determined transmission resource, while the second terminal device can also detect the sidelink reference signal on the determined transmission resource, thus complexity of detecting the sidelink reference signal is reduced and signaling overhead is also reduced by implicitly indicating the transmission resource of the sidelink reference signal through the transmission resource of the sidelink channel.</p>
<heading id="h0004">Brief Description of Drawings</heading>
<p id="p0018" num="0018">
<ul id="ul0001" list-style="none">
<li><figref idref="f0001">FIG. 1</figref> is a schematic diagram of a sidelink communication system according to an embodiment of the present application.</li>
<li><figref idref="f0001">FIG. 2</figref> is a schematic diagram of a sidelink communication system according to an embodiment of the present application.</li>
<li><figref idref="f0001">FIG. 3</figref> is a schematic block diagram of a sidelink communication method according to an embodiment of the present application.</li>
<li><figref idref="f0002">FIG. 4</figref> is a schematic timing diagram of a sidelink communication method according to an embodiment of the present application.</li>
<li><figref idref="f0002">FIG. 5</figref> is another schematic block diagram of a sidelink communication method according to an embodiment of the present application.</li>
<li><figref idref="f0002">FIG. 6</figref> is a schematic block diagram of a terminal device according to an embodiment of the present application.</li>
<li><figref idref="f0002">FIG. 7</figref> is another schematic block diagram of a terminal device according to an embodiment of the present application.</li>
<li><figref idref="f0003">FIG. 8</figref> is another schematic block diagram of a terminal device according to an embodiment of the present application.<!-- EPO <DP n="4"> --></li>
<li><figref idref="f0003">FIG. 9</figref> is a schematic block diagram of a chip according to an embodiment of the present application.</li>
<li><figref idref="f0003">FIG. 10</figref> is a schematic block diagram of a communication system according to an embodiment of the present application.</li>
</ul></p>
<heading id="h0005">Detailed Description</heading>
<p id="p0019" num="0019">Technical solutions in embodiments of the present application will be described below with reference to the drawings in embodiments of the present application. It is apparent that the embodiments described are just a part of embodiments of the present application, but not all embodiments of the present application. Base on the embodiments of the present application, all other embodiments obtained by a person of ordinary skill in the art without paying an inventive effort belong to the protection scope of the present application.</p>
<p id="p0020" num="0020">It should be understood that the technical solutions of the embodiments of the present application may be applied to various communication systems, such as, a Global System of Mobile communication (GSM) system, a Code Division Multiple Access (CDMA) system, a Wideband Code Division Multiple Access (WCDMA) system, a General Packet Radio Service (GPRS) system, a Long Term Evolution (LTE) system, a LTE Frequency Division Duplex (FDD) system, a LTE Time Division Duplex (TDD) system, a Universal Mobile Telecommunication System (UMTS) system, a Worldwide Interoperability for Microwave Access (WiMAX) communication system, a New Radio (NR) or future 5G System.</p>
<p id="p0021" num="0021">In particular, the technical solutions of the embodiments of the present application can be applied to various communication systems based on non-orthogonal multiple access technologies, such as a Sparse Code Multiple Access (SCMA) system, and a Low Density Signature (LDS) system, etc. Of course, the SCMA system and the LDS system may also be referred to as other names in the communication field. Further, the technical solutions of the embodiments of the present application can be applied to a multicarrier transmission system employing non-orthogonal multiple access technology, such as an Orthogonal Frequency Division Multiplexing (OFDM) system, a Filter Bank Multi-Carrier (FBMC) system, a Generalized Frequency Division Multiplexing (GFDM) system, and a Filtered OFDM<!-- EPO <DP n="5"> --> (F-OFDM) system, etc., based on the non-orthogonal multiple access technology.</p>
<p id="p0022" num="0022">A terminal device in the embodiments of the present application may be referred to a user equipment (UE), an access terminal, a subscriber unit, a subscriber station, a mobile station, a mobile platform, a remote station, a remote terminal, a mobile device, a user terminal, a terminal, a wireless communication device, a user agent, or a user apparatus. An access terminal may be a cellular phone, a cordless phone, a session initiation protocol (SIP) phone, a wireless local loop (WLL) station, a personal digital assistant (PDA), a handheld device or a computing device with a wireless communication function, or other processing device connected to a wireless modem, an on-board device, a wearable device, a terminal device in a future 5G network, or a terminal device in a future evolved Public Land Mobile Network (PLMN), etc., which is not limited in the embodiments of the present application.</p>
<p id="p0023" num="0023">A network device in the embodiments of the present application may be a device for communicating with a terminal device, and the network device may be a Base Transceiver station (BTS) in GSM or CDMA, a NodeB (NB) in a WCDMA system, an evolutional NodeB (eNB or eNodeB) in an LTE system, or a wireless controller in a scenario of a Cloud Radio Access Network (CRAN), or the network device may be a relay station, an access point, an on-board device, a wearable device, a network device in a future 5G network, or a network device in a future evolved Public Land Mobile Network (PLMN), etc., which is not limited in the embodiments of the present application.</p>
<p id="p0024" num="0024"><figref idref="f0001">FIG. 1 and FIG. 2</figref> are schematic diagrams of an application scenario according to embodiments of the present application. <figref idref="f0001">FIG. 1</figref> illustratively shows one network device and two terminal devices. Optionally, the wireless communication system may include multiple network devices, and other quantity of terminal devices may be included within a coverage area of each network device, which is not limited in the embodiments of the present application. In addition, the wireless communication system may include other network entities, such as a Mobile Management Entity (MME), a Serving Gateway (S-GW), a Packet Data Network Gateway (P-GW), and the embodiments of the present application are not limited thereto.</p>
<p id="p0025" num="0025">Specifically, a terminal device 20 and a terminal device 30 may communicate through a Device to Device (D2D) communication mode. During the D2D communication, the terminal<!-- EPO <DP n="6"> --> device 20 and the terminal device 30 directly communicate through a D2D link, i.e., a sidelink (SL). For example, as shown in <figref idref="f0001">FIG. 1 or FIG. 2</figref>, the terminal device 20 and the terminal device 30 communicate directly through the sidelink. In <figref idref="f0001">FIG. 1</figref>, the terminal device 20 and the terminal device 30 communicate through a sidelink, and transmission resources of the terminal devices are allocated by a network device. In <figref idref="f0001">FIG. 2</figref>, the terminal device 20 and the terminal device 30 communicate through a sidelink, and transmission resources of the terminal devices are independently selected by the terminal devices, no network device is required to allocate the transmission resources.</p>
<p id="p0026" num="0026">D2D communication mode may be applied to Vehicle to Vehicle (V2V) communication or Vehicle to Everything (V2X) communication. In the V2X communication, X may generally refer to any device with wireless receiving and sending capabilities, such as, but not limited to, a wireless device that moves slowly, a vehicle-mounted device that moves fast, or a network control node with wireless transmitting and receiving capabilities. It should be understood that the embodiments of the present application are mainly applied to V2X communication scenarios, but they may also be applied to any other D2D communication scenarios, and the embodiments of the present application are not limited thereto.</p>
<p id="p0027" num="0027">LTE-V2X is standardized in Release-14 of 3GPP protocol. Two transmission modes are defined, namely, transmission mode 3 (mode 3) and transmission mode 4 (mode 4). A transmission resource of a terminal device in the transmission mode 3 is allocated by a base station. The terminal device sends data on a sidelink according to the resource allocated by the base station. The base station may allocate, to the terminal device, a resource for a single transmission or resource for a semi-static transmission. A terminal device in the transmission mode 4 transmits data by means of sensing and reservation if the terminal device has a sensing capability. And the terminal device randomly selects a transmission resource from a resource pool if the terminal device does not have the sensing capability. The terminal device having the sensing capability obtains a set of available transmission resources from a resource pool by sensing, and the terminal device randomly selects one resource from the set for data transmission. As services in a vehicle to everything system have a periodicity feature, the terminal device usually adopts a semi-static transmission mode, that is, after selecting one<!-- EPO <DP n="7"> --> transmission resource, the terminal device will continuously use the resource in multiple transmission periods, thus reducing probabilities of resource re-selection and resource conflicts. The terminal device will carry, in control information for a current transmission, information about a resource reserved for a next transmission, so that other terminal device may determine whether this block of resource is reserved and used by the terminal device through detecting control information of the terminal device, thus achieving a purpose of reducing resource conflicts.</p>
<p id="p0028" num="0028">In an NR-V2X system, multiple transmission modes are introduced, for example, mode 1 and mode 2. Mode 1 refers to a network allocating transmission resource for a terminal (similar to mode 3 in LTE-V2X), and mode 2 refers to a terminal selecting transmission resource. Mode 2 includes but is not limited to the following modes:
<ul id="ul0002" list-style="none">
<li>In Mode 2a: the terminal selects a transmission resource independently (similar to mode 4 in LTE-V2X). For example, the terminal selects a resource independently in a pre-configured or network-configured resource pool (the resource may be selected randomly or by sensing).</li>
<li>In Mode 2b: the terminal assists other terminals in selecting resources. For example, a first terminal sends auxiliary information to a second terminal, the auxiliary information may include but is not limited to available time-frequency resource information, available transmission resource set information, channel measurement information and channel quality information (such as Channel State Information (CSI), a Channel Quality Indicator (CQI), a Precoding Matrix Indicator (PMI), a Rank Indication (RI), Reference Signal Receiving Power (RSRP), reference signal receiving quality (RSRQ), a received signal strength indicator (RSSI), path loss information, etc.)</li>
<li>In Mode 2c: the terminal selects a resource in transmission resources configured for the terminal. For example, the network configures multiple transmission resources for each terminal, and when having sidelink data transmission, the terminal selects a transmission resource from the multiple transmission resources configured by the network to perform data transmission.</li>
<li>In Mode 2d: a first terminal allocates a transmission resource for a second terminal. For example, the first terminal is a group head of group communication, and the second terminal is<!-- EPO <DP n="8"> --> a group member of the group. The first terminal directly allocates a time-frequency resource for the second terminal for sidelink transmission.</li>
</ul></p>
<p id="p0029" num="0029">In the NR-V2X, automatic driving needs to be supported, thus higher requirements are made for data interaction between vehicles, such as greater throughput, lower latency, higher reliability, larger coverage range and more flexible resource allocation, etc.</p>
<p id="p0030" num="0030">In order to improve throughput of the system, a terminal may measure a channel and select appropriate transmission parameters according to a measurement result. For example, the channel is measured according to a CSI-RS, and information such as CQI, PMI and RI is selected and fed back to a sending terminal, and the sending terminal selects appropriate transmission parameters according to the feedback information, thus improving the throughput of the system.</p>
<p id="p0031" num="0031">Various sidelink reference signals are also introduced on the sidelink of NR-V2X. How to send a sidelink reference signal on the sidelink is a problem to be solved.</p>
<p id="p0032" num="0032"><figref idref="f0001">FIG. 3</figref> is a schematic block diagram of a sidelink communication method 100 according to an embodiment of the present application. The method may be performed by a terminal device as a receiving terminal in <figref idref="f0001">FIG. 1 or FIG. 2</figref>. As shown in <figref idref="f0001">FIG. 3</figref>, the method 100 includes some or all of the following acts S110 and S120.</p>
<p id="p0033" num="0033">In S110, a first terminal device receives a sidelink channel sent by a second terminal device.</p>
<p id="p0034" num="0034">In S120, the first terminal device determines a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel.</p>
<p id="p0035" num="0035">Specifically, the second terminal device may determine the transmission resource of the sidelink channel and send the sidelink channel to the first terminal device on the determined transmission resource. The second terminal device may indicate the transmission resource of sidelink reference signal to the first terminal device through the transmission resource of the sidelink channel. That is, after obtaining the transmission resource of the sidelink channel, the first terminal device may determine the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel. Then the first terminal device may transmit the sidelink reference signal on the determined transmission resource. Similarly,<!-- EPO <DP n="9"> --> the second terminal device may also firstly determine the transmission resource of the sidelink reference signal sent by the first terminal device based on the transmission resource of the sidelink channel, and receive the sidelink reference signal on the determined receiving resource. Herein, the transmission resource may be a time-frequency resource.</p>
<p id="p0036" num="0036">It should be noted that for the sidelink channel, the first terminal device is a receiving terminal, and the transmission resource of the sidelink channel is a receiving resource of the sidelink channel, while the second terminal device is a sending terminal, and the transmission resource of the sidelink channel is a sending resource of the sidelink channel. Similarly, for the sidelink reference signal, the first terminal device is a sending terminal, and the transmission resource of the sidelink reference signal is a sending resource of the sidelink reference signal, while the second terminal device is a receiving terminal, and the transmission resource of the sidelink reference signal is a receiving resource of the sidelink reference signal.</p>
<p id="p0037" num="0037">Optionally, the sidelink channel in the embodiment of the present application may include at least one of the following channels: a Physical Sidelink Control Channel (PSCCH), a Physical Sidelink Share Channel (PSSCH), a Physical Sidelink Broadcast Channel (PSBCH) and a Physical Sidelink Feedback Channel (PSFCH), etc.</p>
<p id="p0038" num="0038">Optionally, the sidelink reference signal in the embodiment of the present application may be any one of the following signals: a sidelink CSI-RS, a sidelink Sounding Reference Signal (SRS), a sidelink Phase Tracking Reference Signal (PT-RS), and a sidelink Demodulation Reference Signal (DMRS).</p>
<p id="p0039" num="0039">It should be understood that although the following document is described mostly by taking the sidelink channel be a PSCCH and/or a PSSCH and the sidelink reference signal be a CSI-RS as an example, the following various embodiments are applicable to the sidelink channels and sidelink reference signals listed above.</p>
<p id="p0040" num="0040">Optionally, the first terminal device may determine a time domain resource of a sidelink reference signal according to a time domain resource of a sidelink channel. The time domain resource may include a slot in which the sidelink reference signal is located and/or a symbol position occupied by the sidelink reference signal in a slot. Or, the time domain unit may include a subframe in which the sidelink reference signal is located and/or a symbol position<!-- EPO <DP n="10"> --> occupied by the sidelink reference signal in a subframe.</p>
<p id="p0041" num="0041">Optionally, the first terminal device may determine a slot in which a sidelink reference signal is located according to a slot in which a sidelink channel is located. For example, the first terminal device determines that a slot in which the sidelink reference signal is located is a slot (N+k) according to a slot N in which the sidelink channel is located, herein the parameter k is an integer and may be determined according to pre-configuration information of a protocol (for example, pre-defined by a protocol), configuration information of a network device (for example, configured by the network device with a broadcast channel, Radio Resource Control (RRC) signaling or control information, etc.) or configuration information of other terminal device. For example, if the first terminal device receives a PSCCH and/or a PSSCH in a slot N, the first terminal device may determine that a transmission resource of a sidelink CSI-RS is in a slot (N+k). If the parameter k is configured by other terminal device, the other terminal device may be a second terminal device, that is, a terminal device that sends the PSCCH and/or the PSSCH to the first terminal device. The other terminal device may be a third terminal device. For example, the first terminal device, the second terminal device and the third terminal device form a communication group, and the third terminal device is a group head and has functions of resource management, allocation, control, etc. The first terminal device and the second terminal device are group members, and the third terminal device may configure transmission parameters of sidelink communication in the group. It should be understood that when the parameter k is configured by the second terminal device, the second terminal device may also be a group head of a communication group in which the first terminal device and the second terminal device are. When the parameter k is configured by other terminal device, the other terminal device may configure the parameter through the sidelink. For example, other terminal device may configure the parameter k to the first terminal device through channels such as a PSCCH, a PSSCH, a PSBCH, a PSFCH, or through sidelink RRC signaling.</p>
<p id="p0042" num="0042">Optionally, the first terminal device may determine a time domain symbol occupied by a sidelink reference signal in a slot according to one of time domain symbols occupied by a sidelink channel in a slot. For example, the first terminal device determines that a time domain symbol occupied by the sidelink reference signal is (M+i) in a slot according to an initial time<!-- EPO <DP n="11"> --> domain symbol M occupied by the sidelink channel in the slot, the parameter i is an integer. A slot usually may include 14 time domain symbols, so (M+i) may not be greater than 14. Similarly, the parameter i may be determined by pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device. For example, the first terminal device initially receives a PSCCH and/or a PSSCH on a time domain symbol M in a slot, the first terminal device may send a sidelink CSI-RS on a time domain symbol (M+i) of a slot. At this time, the PSCCH and/or the PSSCH may or may not be in one slot with the sidelink CSI-RS. For example, the first terminal device receives the PSCCH and/or the PSSCH on the symbol M in a slot N, the first terminal device may send the sidelink CSI-RS on the symbol (M+i) in the slot N, or the first terminal device may send the sidelink CSI-RS on the symbol (M+i) in the slot (N+k).</p>
<p id="p0043" num="0043">After determining the slot in which the sidelink reference signal is located according to the slot in which the sidelink channel is located, the first terminal device may further determine a symbol position occupied by the sidelink reference signal in a slot according to pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device. For example, the network device and the terminal device may make an agreement in advance to transmit the sidelink CSI-RS on a last symbol or a last second symbol in a slot. After determining the slot in which the sidelink CSI-RS is located, the first terminal device may determine to transmit the sidelink CSI-RS in the last symbol or the last second symbol of a corresponding slot.</p>
<p id="p0044" num="0044">Or, after determining the symbol position occupied by tthe sidelink reference signal in a slot according to the symbol position occupied by tthe sidelink channel in a slot, the first terminal device may further determine a slot in which the sidelink reference signal is located according to pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device. For example, the network device may configure the first terminal device to send the sidelink CSI-RS in a next slot of a slot in which the PSCCH and/or the PSSCH are located through RRC signaling. After determining the symbol position occupied by the sidelink CSI-RS in a slot, the first terminal device may send the sidelink CSI-RS at a determined symbol position in a next slot of the slot<!-- EPO <DP n="12"> --> in which the PSCCH and/or PSSCH are located.</p>
<p id="p0045" num="0045">Or, the first terminal device may determine a slot in which a sidelink reference signal is located according to a slot in which a sidelink channel is located, and determine a symbol position occupied by the sidelink reference signal in a slot according to a symbol position occupied by the sidelink channel in a slot, respectively, so that the first terminal device may determine a time-frequency resource of the sidelink reference signal.</p>
<p id="p0046" num="0046">Optionally, the first terminal device may determine a frequency domain resource of a sidelink reference signal according to a frequency domain resource of a sidelink channel. The frequency domain resource may include at least one type of the following information: a frequency domain starting position of the sidelink reference signal, a frequency domain resource length of the sidelink reference signal, and a frequency domain ending position of the sidelink reference signal.</p>
<p id="p0047" num="0047">Optionally, the first terminal device may determine a frequency domain starting position of a sidelink reference signal according to a frequency domain starting position of a sidelink channel. For example, the first terminal device determines that a frequency domain starting position of the sidelink reference signal is at a resource block (L+j) according to a resource block L in which the frequency domain starting position of the sidelink channel is located, the parameter j is an integer and may be determined by pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device. For example, the first terminal device receives a PSCCH and/or a PSSCH on a frequency domain resource whose frequency domain starting position is a Resource Block (RB) L, and the first terminal device may transmit a sidelink CSI-RS on a frequency domain resource whose frequency domain starting position is (L+j). When j is 0, the frequency domain starting position of the CSI-RS is the same as the frequency domain starting position of the PSCCH and/or the PSSCH. The frequency domain starting position may be represented by a RB index value or a subband index value. Similarly, the first terminal device may determine a frequency domain ending position of a sidelink CSI-RS according to a frequency domain ending position of a PSCCH and/or a PSSCH. For example, the frequency domain ending position of the sidelink CSI-RS is the same as or an offset from the frequency domain ending position of the<!-- EPO <DP n="13"> --> PSCCH and/or the PSSCH. Optionally, the frequency domain starting position and/or frequency domain ending position of the sidelink CSI-RS may be the same as or an offset from a specific RB in a frequency domain resource occupied by the received PSCCH and/or PSSCH. The offset may be predefined by a protocol, configured by a network or configured by other terminal.</p>
<p id="p0048" num="0048">Optionally, the first terminal device may determine a frequency domain resource length of a sidelink reference signal according to a frequency domain resource length of a sidelink channel. For example, the first terminal device may determine the frequency domain resource length of the sidelink channel as the frequency domain resource length of the sidelink reference signal. For example, the first terminal device may determine the frequency domain resource length of the CSI-RS according to the frequency domain resource length of the PSCCH and/or the PSSCH. If a frequency domain resource length of a received PSCCH and/or PSSCH is Q Physical Resource Blocks (PRBs), the first terminal device may determine that a frequency domain resource length of a CSI-RS is also Q PRBs (i.e., the same as the frequency domain resource length of the PSCCH and/or the PSSCH), or (Q/a) PRBs, or has other operational relationship with Q. Parameter a is a positive integer and may be determined according to pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device.</p>
<p id="p0049" num="0049">After determining the frequency domain starting position and/or the frequency domain ending position of the sidelink reference signal according to the frequency domain resource of the sidelink channel, the first terminal device may further determine a frequency domain resource length of the sidelink reference signal according to pre-configuration information of a protocol, configuration information of a network device or configuration information of other terminal device. For example, the first terminal device may determine a frequency domain starting position of the PSCCH as a frequency domain starting position of the sidelink CSI-RS, and a frequency domain resource of the sidelink CSI-RS may be determined in combination with the frequency domain length of the sidelink CSI-RS being 16 PRBs pre-configured by the protocol.</p>
<p id="p0050" num="0050">Or, after determining the frequency domain starting position and/or the frequency domain<!-- EPO <DP n="14"> --> ending position of the sidelink reference signal according to the frequency domain resource of the sidelink channel, the first terminal device may further determine a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel. For example, the first terminal device may determine a frequency domain starting position of a PSSCH as a frequency domain starting position of a sidelink CSI-RS, and determine a frequency domain resource length of the PSSCH as a frequency domain resource length of the sidelink CSI-RS, thereby determining a frequency domain resource of the sidelink CSI-RS.</p>
<p id="p0051" num="0051">After receiving multiple types of sidelink channels, the first terminal device may determine a frequency domain transmission resource of a sidelink reference signal according to transmission resources of the multiple types of sidelink channels. For example, a frequency domain starting position may be determined according to a part of the multiple types of channels, and a frequency domain resource length may be determined according to another part of the multiple types of channels. Specifically, when the first terminal device receives both a PSCCH and a PSSCH, the first terminal device may determine a frequency domain starting position of a sidelink CSI-RS according to a frequency domain starting position of the PSCCH, and determine a frequency domain resource length of the sidelink CSI-RS according to a frequency domain resource length of the PSSCH.</p>
<p id="p0052" num="0052">After receiving multiple types of sidelink channels, the first terminal device may determine a transmission resource of a sidelink reference signal according to transmission resources of the multiple types of sidelink channels. For example, a time-domain resource may be determined according to a part of the multiple types of channels and a frequency-domain resource may be determined according to another part of the multiple types of channels. For another example, a slot in which the sidelink reference signal is located may be determined according to one type of channel, and a frequency domain starting position may be determined according to another type of channel. For example, when receiving both a PSCCH and a PSSCH, the first terminal device may determine a slot of a sidelink CSI-RS according to a slot in which the PSCCH is located, and determine a frequency domain starting position of the sidelink CSI-RS according to a frequency domain starting position of the PSSCH. For another<!-- EPO <DP n="15"> --> example, when receiving both a PSCCH and a PSSCH, the first terminal device may determine a slot of a sidelink CSI-RS according to a slot in which the PSCCH is located, and determine a frequency domain starting position and a frequency domain resource length of the sidelink CSI-RS according to a frequency domain starting position and a frequency domain resource length of the PSSCH.</p>
<p id="p0053" num="0053">After receiving multiple types of sidelink channels, the first terminal device may determine a transmission resource of a sidelink reference signal according to transmission resources of the multiple types of sidelink channels, pre-configuration information of a protocol or network configuration information. For example, when the first terminal device receives both a PSCCH and a PSSCH, the first terminal device receives the PSCCH in a slot P, determines a slot of a sidelink CSI-RS as a slot P+1 according to the pre-configuration information, determines the sidelink CSI-RS is in a last symbol of a slot according to the pre-configuration information, determines a frequency-domain starting position of the sidelink CSI-RS according to a frequency-domain starting position of the PSSCH, and determines a frequency-domain resource length of the sidelink CSI-RS to be 16 RBs according to the pre-configuration information.</p>
<p id="p0054" num="0054">Below, a flow of a sidelink communication according to an embodiment of the present application is described with reference to <figref idref="f0002">FIG. 4</figref>.</p>
<p id="p0055" num="0055">At first, a first terminal device performs sidelink communication with a second terminal device, and the second terminal device sends sidelink data to the first terminal device, including sidelink control information (SCI) and sidelink data, herein the SCI is used for carrying control information required for demodulating the data, such as a transmission resource, a Modulation and Coding Scheme (MCS) and other information of the data. The SCI is carried in a PSCCH, and the data is carried in a PSSCH. A transmission resource for the second terminal device to transmit the SCI or the data may be allocated according to a network as described above, or may be selected by a terminal independently. The first terminal device sends a sidelink CSI-RS to the second terminal device. Here, it is assumed that the sidelink CSI-RS occupies one time domain symbol in a time domain.</p>
<p id="p0056" num="0056"><figref idref="f0002">FIG. 4</figref> is a schematic timing diagram of a sidelink communication method according to an<!-- EPO <DP n="16"> --> embodiment of the present application. Specifically, the schematic timing is as follows:
<ul id="ul0003" list-style="none">
<li>Step 1:a second terminal device sends sidelink data including a PSCCH and a PSSCH to a first terminal device in slot 0.</li>
<li>Step 2: the first terminal device sends a sidelink CSI-RS to the second terminal device in slot 1.</li>
<li>Step 3: the second terminal device receives the sidelink CSI-RS sent by the first terminal device, and performs channel measurement and other processing according to the sidelink CSI-RS.</li>
<li>Step 4: the second terminal device sends sidelink data in slot 3, and selects corresponding transmission parameters, such as a MCS level, a PMI, transmission power, etc., according to a measurement result acquired based on the sidelink CSI-RS.</li>
</ul></p>
<p id="p0057" num="0057">Optionally, in an embodiment of the present application, a transmission resource of the sidelink reference signal may also be determined according to the SCI carried in the PSCCH. That is, the second terminal device may indicate the transmission resource of the sidelink reference signal to the first terminal device through the SCI.</p>
<p id="p0058" num="0058">Herein, the SCI may be used for carrying control information of a PSSCH scheduled by the SCI, such as indication information of a time-frequency resource, priority information, a MCS level, etc. At the same time, the SCI may carry resource indication information of the sidelink reference signal, which is used for the first terminal device to determine a time-frequency resource for sending the sidelink reference signal according to the indication of the SCI. Specifically, the SCI may indicate a time domain resource and/or a frequency domain resource of the sidelink reference signal.</p>
<p id="p0059" num="0059">Optionally, the resource indication information of the sidelink CSI-RS may include indication information of a time domain resource of the sidelink CSI-RS, specifically including indication information of a slot of the sidelink CSI-RS and/or indication information of a time domain symbol of the sidelink CSI-RS.</p>
<p id="p0060" num="0060">For example, the resource indication information of the sidelink CSI-RS may only include indication information of the time domain symbol, so after obtaining indication information of<!-- EPO <DP n="17"> --> the time domain symbol of the sidelink CSI-RS according to the SCI, the first terminal device may determine a time domain symbol occupied by the sidelink CSI-RS in a slot. For example, the indication information of the time domain symbol indicates that the sidelink CSI-RS occupies a last symbol in a slot. Specifically, the indication information of the time domain symbol may include 4 bits (which may be used for indicating 16 time domain symbols) for indicating time domain symbols occupied in one slot. Or, a protocol may predefine that the sidelink CSI-RS may only be sent in a last time domain symbol or a last second time domain symbol in a slot, so the indication information of the time domain symbol may include 1 bit, that is, whether the sidelink CSI-RS is sent in the last time domain symbol or the last second time domain symbol is indicated by a value of 1 bit. At this time, a slot in which the sidelink CSI-RS is located may be determined by pre-configuration information of a protocol, configuration information of a network device, configuration information of a terminal device or a transmission resource of a sidelink channel. For example, the network device may configure that the slot in which the sidelink CSI-RS is located may be determined by a slot in which the PSCCH carrying the SCI is located. Specifically, the slot in which the sidelink CSI-RS is located may be a next slot of the slot in which the PSCCH carrying the SCI is located, or may be in the same slot as the PSCCH carrying the SCI, or may be in the same slot as the PSSCH scheduled by the SCI.</p>
<p id="p0061" num="0061">For another example, the resource indication information of the sidelink CSI-RS may only include indication information of a slot, so after obtaining the indication information of a slot of the sidelink CSI-RS from the SCI, the first terminal device may determine the slot in which the sidelink CSI-RS is located. At this time, a time domain symbols occupied by the sidelink CSI-RS in a slot may be determined by pre-configuration information of a protocol, configuration information of a network device, configuration information of a terminal device or a transmission resource of a sidelink channel. For example, the network device may configure a last or a last second symbol of the sidelink CSI-RS in a slot. The indication information of the slot may be represented by a slot index, the slot index may be used for determining a slot. Or the indication information of the slot may be represented by indication information of a slot offset, the indication information of the slot offset may be used for indicating a slot offset value of the slot in which the sidelink CSI-RS is located relative to a<!-- EPO <DP n="18"> --> time domain position (such as a slot in which the PSCCH carrying the SCI is located, or a position of slot 0 in a wireless frame). For example, if the offset value indicated by the indication information of the slot offset relative to the slot in which the PSCCH carrying the SCI is located is 2, then the first terminal device may send the sidelink CSI-RS in a slot (N+2) after receiving the SCI in a slot N.</p>
<p id="p0062" num="0062">For another example, the resource indication information of the sidelink CSI-RS may include both indication information of a slot and indication information of a time domain symbol. The first terminal device may determine a slot in which the sidelink CSI-RS is located according to the indication information of the slot, and determine a symbol occupied by the sidelink CSI-RS in the slot indicated by the indication information of the slot according to the indication information of the slot, thereby determining a time domain resource of the sidelink CSI-RS.</p>
<p id="p0063" num="0063">Optionally, the resource indication information of the sidelink CSI-RS may include indication information of a frequency domain resource of the sidelink CSI-RS, specifically including at least one type of the following information: indication information of a frequency domain starting position of the sidelink CSI-RS, indication information of a frequency domain ending position of the sidelink CSI-RS, and information of a frequency domain length of the sidelink CSI-RS.</p>
<p id="p0064" num="0064">For example, the resource indication information of the sidelink CSI-RS may only include indication information of a frequency domain starting position and/or indication information of a frequency domain ending position. At this time, a frequency domain resource length of the sidelink CSI-RS may be determined by pre-configuration information of a protocol, configuration information of a network device, configuration information of a terminal device or a transmission resource of a sidelink channel. For example, the network device may configure the sidelink CSI-RS to occupy two PRBs in the frequency domain. The first terminal device may determine a frequency domain resource of the sidelink CSI-RS according to a frequency domain starting position indicated by the indication information of the frequency domain starting position, or a frequency domain ending position indicated by the indication information of the frequency domain ending position, and a frequency domain resource length<!-- EPO <DP n="19"> --> occupied by the sidelink CSI-RS configured by the network device. For another example, the first terminal device may determine a frequency domain starting position or a frequency domain ending position of the sidelink CSI-RS according to the indication information of the frequency domain starting position or the indication information of the frequency domain ending position, and determine a frequency domain resource length of the sidelink CSI-RS according to a frequency domain resource length of the PSSCH scheduled by SCI.</p>
<p id="p0065" num="0065">Specifically, the indication information of the frequency domain starting position or the indication information of the frequency domain ending position may be a directly indicated RB of a frequency domain position or an index value of a subband, etc. Or the indication information of the frequency domain starting position or the indication information of the frequency domain ending position may be an offset value relative to a frequency domain position, the frequency domain position may be a frequency domain position corresponding to a lowest resource block/a highest resource block or a subband of the PSCCH carrying the SCI, or a bandwidth start/ending position of a carrier, or a start/ending position of a bandwidth part, or a frequency domain position corresponding to an index of a lowest resource block/a highest resource block or a subband of a synchronization signal. For example, the indication information of the frequency domain starting position indicates an offset value of the frequency domain starting position of the sidelink CSI-RS relative to the frequency domain starting position of the PSCCH carrying the SCI. Or the indication information of the frequency domain starting position indicates an offset value of the frequency domain starting position of the sidelink CSI-RS relative to the frequency domain resource starting position of the PSSCH scheduled by the SCI.</p>
<p id="p0066" num="0066">For another example, the resource indication information of the sidelink CSI-RS may only include frequency domain length information, and the frequency domain length information may include information on a number of RBs or subbands occupied by the sidelink CSI-RS. At this time, a frequency domain starting position or a frequency domain ending position of the sidelink CSI-RS may be determined by pre-configuration information of a protocol, configuration information of a network device, configuration information of a terminal device or a transmission resource of a sidelink channel. For example, the frequency domain starting<!-- EPO <DP n="20"> --> position of the sidelink CSI-RS may be configured as an offset of a frequency domain position, the frequency domain position may be a predetermined resource. Or the frequency domain starting position of the sidelink CSI-RS may be the same as the frequency domain starting position of the PSCCH carrying the SCI.</p>
<p id="p0067" num="0067">For another example, the resource indication information of the sidelink CSI-RS may include indication information of a frequency domain starting position and indication information of a frequency domain ending position. Or the resource indication information of the sidelink CSI-RS may include any one type of indication information of a frequency domain starting position and indication information of a frequency domain ending position, and frequency domain length information.</p>
<p id="p0068" num="0068">It should be noted that, in the embodiments of the present application, a slot may be replaced by a subframe, that is, indication information of a slot may be replaced by indication information of a subframe. Or, that the first terminal device determines a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located may be replaced by that the first terminal device determines a subframe in whcih the sidelink reference signal is located according to a subframe in which the sidelink channel is located.</p>
<p id="p0069" num="0069">Optionally, the second terminal device may also indicate a transmission resource of a sidelink reference signal to the first terminal device through a combination of SCI and a transmission resource of a sidelink channel. For example, the second terminal device may indicate a time domain resource of the sidelink reference signal to the first terminal device through the SCI, and indicate a frequency domain resource of the sidelink reference signal to the first terminal device through the transmission resource of the sidelink channel. Or, the second terminal device may indicate a slot in which the sidelink reference signal is located to the first terminal device through the SCI, and indicate a time domain symbol occupied by the sidelink reference signal in a slot to the first terminal device through the transmission resource of the sidelink channel. It should be understood that various possible joint indication modes are within the protection scope of the embodiments of the present application.</p>
<p id="p0070" num="0070">Optionally, after obtaining the transmission resource of the sidelink reference signal, the first terminal device may also obtain a transmission period of the sidelink reference signal, the<!-- EPO <DP n="21"> --> transmission period may be predefined by protocol, configured by a network device, configured by a terminal device or indicated by the SCI. After obtaining the transmission resource and transmission period of the sidelink reference signal, the first terminal device may periodically send the sidelink reference signal on a determined fixed resource. For example, a transmission period of the sidelink CSI-RS is 2ms, if the first terminal device transmits the sidelink CSI-RS for a first time in a next slot (N+1) of a slot N in which the PSCCH is received, the first terminal device will transmit the sidelink CSI-RS for a second time in a slot which is 2 ms after the slot (N+1), and so on.</p>
<p id="p0071" num="0071">Optionally, the second terminal device may also indicate the first terminal device whether to send the sidelink reference signal through carrying indication information in the SCI.</p>
<p id="p0072" num="0072">A sidelink reference signal does not need to be transmitted at all times, and the first terminal device may send the sidelink reference signal according to indication information of the second terminal device. Specifically, the second terminal device may indicate the first terminal device to send the sidelink reference signal through carrying indication information in the SCI. Further combined with the above method for determining the transmission resource of the sidelink reference signal, the first terminal device may send the sidelink reference signal on a determined time-frequency resource. Similarly, the second terminal device may receive the sidelink reference signal on the time-frequency resource, so as to perform channel measurement.</p>
<p id="p0073" num="0073">Optionally, the second terminal device may explicitly indicate the first terminal device whether to send a sidelink reference signal through including an indication field in the SCI. For example, the indication field is 1 bit, in which value 1 represents to send, and value 0 represents not to send.</p>
<p id="p0074" num="0074">Optionally, the second terminal device may also implicitly indicate the first terminal device whether to send a sidelink reference signal through the SCI. For example, whether to send the sidelink reference signal may be implicitly indicated by a scrambling code sequence of the SCI or a format of the SCI. For example, when the SCI is scrambled with a first scrambling code sequence, the SCI indicates to send, when the SCI is scrambled with a second scrambling code sequence, the SCI indicates not to send. For another example, when a first SCI format is<!-- EPO <DP n="22"> --> adopted, the SCI indicates to send, and when a second SCI format is adopted, the SCI indicates not to send.</p>
<p id="p0075" num="0075">For example, the indication information is implicitly carried by scrambling a bit sequence of a coded SCI. For example, the bit sequence of the coded SCI is: b (0), ..., b (<i>M<sub>bit</sub></i> -1), wherein <i>M<sub>bit</sub></i> indicates a bit length of the coded SCI. The sequence is scrambled as follows: <i>b</i>(<i>i</i>) = (<i>b</i>(<i>i</i>) + <i>c</i>(<i>i</i>)) mod 2, where <i>c</i>(<i>i</i>) represents a scrambled sequence. Different scrambling code sequences are used for representing different indication information. By using different scrambling code sequences to descramble, the first terminal device may determine the indication information.</p>
<p id="p0076" num="0076">For another example, information bits of the SCI are used to calculate a Cyclic Redundancy Check (CRC) sequence, and the CRC sequence is appended to the information bits of the SCI. Part bits of the CRC sequence is scrambled, and different indication information is carried by using different scrambling sequences. For example, an information bit sequence of the SCI is <i>a</i><sub>0</sub>,<i>a</i><sub>1</sub>,......,<i>a</i><sub><i>A</i>-1</sub>, a CRC sequence generated based on the information bit sequence is <i>p</i><sub>0</sub>,<i>p</i><sub>1</sub>,......., <i>p</i><sub><i>L</i>-1</sub>, and the CRC sequence is appended to the information bit sequence to generate a new sequence, which is <i>b</i><sub>0</sub>,<i>b</i><sub>1,</sub><i>....,b</i><sub><i>k</i>-1</sub><i>.</i> A specific operation is: <maths id="math0001" num=""><math display="block"><msub><mi>b</mi><mi>k</mi></msub><mo>=</mo><msub><mi>a</mi><mi>k</mi></msub><mo>,</mo><mi>k</mi><mo>=</mo><mn>0,1</mn><mo>,</mo><mo>......</mo><mo>,</mo><mi>A</mi><mo>−</mo><mn>1</mn></math><img id="ib0001" file="imgb0001.tif" wi="44" he="5" img-content="math" img-format="tif"/></maths> <maths id="math0002" num=""><math display="block"><msub><mi>b</mi><mi>k</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>k</mi><mo>−</mo><mi>A</mi></mrow></msub><mo>,</mo><mi>k</mi><mo>=</mo><mi>A</mi><mo>,</mo><mi>A</mi><mo>+</mo><mn>1</mn><mo>,</mo><mo>......</mo><mo>,</mo><mi>A</mi><mo>+</mo><mi>L</mi><mo>−</mo><mn>1</mn></math><img id="ib0002" file="imgb0002.tif" wi="61" he="5" img-content="math" img-format="tif"/></maths></p>
<p id="p0077" num="0077">Where <i>K</i> = <i>A</i> + <i>L.</i> A represents an information bit length of the SCI, and L represents a check bit length of the CRC.</p>
<p id="p0078" num="0078">Part of CRC is scrambled with an RNTI value of 16-bit to generate a sequence <i>c</i><sub>0</sub>,<i>c</i><sub>1</sub>,......,c<sub><i>k-</i>1</sub> : <maths id="math0003" num=""><math display="block"><msub><mi>c</mi><mi>k</mi></msub><mo>=</mo><msub><mi>b</mi><mi>k</mi></msub><mo>,</mo><mi>k</mi><mo>=</mo><mn>0,1</mn><mo>,</mo><mo>......</mo><mo>,</mo><mi>A</mi><mo>+</mo><mn>7</mn></math><img id="ib0003" file="imgb0003.tif" wi="44" he="5" img-content="math" img-format="tif"/></maths> <maths id="math0004" num=""><math display="block"><msub><mi>c</mi><mi>k</mi></msub><mo>=</mo><mfenced separators=""><msub><mi>b</mi><mi>k</mi></msub><mo>+</mo><msub><mi>x</mi><mrow><mi mathvariant="italic">rnti</mi><mo>,</mo><mi>k</mi><mo>−</mo><mi>A</mi><mo>−</mo><mn>8</mn></mrow></msub></mfenced><mi>mod</mi><mspace width="1ex"/><mn>2</mn><mo>,</mo><mi>k</mi><mo>=</mo><mi>A</mi><mo>+</mo><mn>8</mn><mo>,</mo><mi>A</mi><mo>+</mo><mn>9</mn><mo>,</mo><mi>A</mi><mo>+</mo><mn>10</mn><mo>,</mo><mo>......</mo><mo>,</mo><mi>A</mi><mo>+</mo><mn>23</mn></math><img id="ib0004" file="imgb0004.tif" wi="105" he="6" img-content="math" img-format="tif"/></maths></p>
<p id="p0079" num="0079">In this process, different scrambling sequences (i.e., different RNTIs) may be used to scramble the sequence, and different scrambling sequences correspond to different indication information.</p>
<p id="p0080" num="0080">Optionally, when scrambling code sequences of the SCI or formats of the SCI are used to<!-- EPO <DP n="23"> --> implicitly indicate whether to send a sidelink reference signal, a protocol may predefine or a network device may preconfigure a mapping relationship between the scrambling code sequences of the SCI and the indication information or a mapping relationship between the formats of the SCI and the indication information.</p>
<p id="p0081" num="0081"><figref idref="f0002">FIG. 5</figref> is a schematic block diagram of a sidelink communication method 200 according to an embodiment of the present application. The method may be performed by a terminal device as a sending terminal in <figref idref="f0001">FIG. 1 or FIG. 2</figref>. As shown in <figref idref="f0002">FIG. 5</figref>, the method 200 includes some or all of the following contents of acts S210 and S220.</p>
<p id="p0082" num="0082">In S210, a second terminal device determines a transmission resource of a sidelink reference signal according to transmission resource of a sidelink channel.</p>
<p id="p0083" num="0083">In S220, the second terminal device receives the sidelink reference signal on the transmission resource of the sidelink reference signal.</p>
<p id="p0084" num="0084">Optionally, in an embodiment of the present application, that the second terminal device determines the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel includes that the second terminal device determines a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or the second terminal device determines a frequency domain resource of the sidelink reference signal according to the frequency domain resource of the sidelink channel.</p>
<p id="p0085" num="0085">Optionally, in an embodiment of the present application, that the second terminal device determines the time domain resource of the sidelink reference signal according to the time domain resource of the sidelink channel includes that the second terminal device determines a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located.</p>
<p id="p0086" num="0086">Optionally, in an embodiment of the present application, that the second terminal device determines the frequency domain resource of the sidelink reference signal according to the frequency domain resource of the sidelink channel includes that the second terminal device determines a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or the second terminal device<!-- EPO <DP n="24"> --> determines a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</p>
<p id="p0087" num="0087">Optionally, in an embodiment of the present application, the method further includes: the second terminal device determines at least one type of the following information: a time domain symbol occupied by the sidelink reference signal in the slot, a frequency domain starting position of the sidelink reference signal, and a frequency domain resource length of the sidelink reference signal according to pre-configuration information of a protocol, configuration information of a network device or configuration information of a terminal device other than the first terminal device.</p>
<p id="p0088" num="0088">Optionally, in an embodiment of the present application, the method further includes: the second terminal device sends sidelink control information (SCI) to the first terminal device, and the SCI is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0089" num="0089">Optionally, in an embodiment of the present application, the SCI includes an indication field, and the indication field is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0090" num="0090">Optionally, in an embodiment of the present application, a scrambling code sequence used by the SCI is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0091" num="0091">Optionally, in an embodiment of the present application, the sidelink channel includes at least one of the following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</p>
<p id="p0092" num="0092">Optionally, in an embodiment, the sidelink reference signal includes a sidelink CSI-RS, a sidelink SRS, a sidelink PT-RS or a sidelink DMRS.</p>
<p id="p0093" num="0093">It should be understood that an interaction between the second terminal device and the first terminal device, related features and functions etc. described by the second terminal device correspond to related features and functions of the first terminal device. That is to say, if the first terminal device sends a message to the second terminal device, the second terminal device will receive a corresponding message from the first terminal device.</p>
<p id="p0094" num="0094">It should be understood that sequence numbers of the foregoing processes do not mean<!-- EPO <DP n="25"> --> execution orders in various embodiments of the present application. The execution orders of the processes should be determined according to functions and internal logic of the processes, which should not be construed as any limitation on implementations of the embodiments of the present application.</p>
<p id="p0095" num="0095">The sidelink communication methods according to the embodiments of the present application have been described in detail above. A sidelink communication device according to an embodiment of the present application will be described below with reference to <figref idref="f0002 f0003">FIGS. 6 to FIGS. 8</figref>. Technical features described in the method embodiments are applicable to following device embodiments.</p>
<p id="p0096" num="0096"><figref idref="f0002">FIG. 6</figref> shows a schematic block diagram of a terminal device 300 according to an embodiment of the present application. The terminal device 300 is a first terminal device. As shown in <figref idref="f0002">FIG. 6</figref>, the terminal device 300 includes a transceiving unit 310 and a processing unit 320.</p>
<p id="p0097" num="0097">The transceiving unit 310 is configured to receive a sidelink channel sent by a second terminal device; and<br/>
the processing unit 320 is configured to determine a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel.</p>
<p id="p0098" num="0098">Optionally, in an embodiment of the present application, the processing unit 320 is specifically configured to determine a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or determine a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</p>
<p id="p0099" num="0099">Optionally, in an embodiment of the present application, the processing unit 320 is specifically configured to determine a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located.</p>
<p id="p0100" num="0100">Optionally, in an embodiment of the present application, the processing unit 320 is specifically configured to determine a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or determine a frequency domain resource length of the sidelink reference signal according<!-- EPO <DP n="26"> --> to a frequency domain resource length of the sidelink channel.</p>
<p id="p0101" num="0101">Optionally, in an embodiment of the present application, the processing unit 320 is further configured to determine at least one type of the following information: a time domain symbol occupied by the sidelink reference signal in the slot, the frequency domain starting position of the sidelink reference signal, and the frequency domain resource length of the sidelink reference signal according to pre-configuration information of a protocol, configuration information of a network device or configuration information of a terminal device other than the first terminal device.</p>
<p id="p0102" num="0102">Optionally, in an embodiment of the present application, the processing unit 320 is further configured to obtain sidelink control information (SCI) sent by the second terminal device. The processing unit 320 is specifically configured to determine the transmission resource of the sidelink reference signal according to the SCI and the transmission resource of the sidelink channel.</p>
<p id="p0103" num="0103">Optionally, in an embodiment of the present application, the SCI is used for indicating the time domain resource of the sidelink reference signal and/or the frequency domain resource of the sidelink reference signal.</p>
<p id="p0104" num="0104">Optionally, in an embodiment of the present application, the processing unit 320 is specifically configured to determine the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel when the SCI indicates to send the sidelink reference signal.</p>
<p id="p0105" num="0105">Optionally, in an embodiment of the present application, the SCI includes an indication field, and the processing unit 320 is specifically configured to determine to send the sidelink reference signal according to the indication field.</p>
<p id="p0106" num="0106">Optionally, in an embodiment of the present application, the processing unit 320 is specifically configured to determine to send the sidelink reference signal according to a scrambling code sequence used by the SCI.</p>
<p id="p0107" num="0107">Optionally, in an embodiment of the present application, the processing unit 320 is further configured to obtain a transmission period of the sidelink reference signal from at least one type of the following information: pre configuration information of a protocol, configuration<!-- EPO <DP n="27"> --> information of a network device, and sidelink control information (SCI).</p>
<p id="p0108" num="0108">Optionally, in an embodiment of the present application, the sidelink channel includes at least one of the following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</p>
<p id="p0109" num="0109">Optionally, in an embodiment of the present application, the sidelink reference signal includes a sidelink CSI-RS, a sidelink SRS, a sidelink PT-RS or a sidelink DMRS.</p>
<p id="p0110" num="0110">It should be understood that the terminal device 300 according to the embodiment of the present application may correspond to the first terminal device in the method embodiment of the present application, and the above-mentioned and other operations and/or functions of various units in the terminal device 300 are respectively for implementing corresponding processes of the first terminal device in the method shown in <figref idref="f0001">FIG. 3</figref>, which will not be repeated here for brevity.</p>
<p id="p0111" num="0111"><figref idref="f0002">FIG. 7</figref> shows a schematic block diagram of a terminal device 400 according to an embodiment of the present application. The terminal device 400 is a second terminal device. As shown in <figref idref="f0002">FIG. 7</figref>, the terminal device 400 includes a processing unit 410 and a transceiver 420.</p>
<p id="p0112" num="0112">The processing unit 410 is configured to determine a transmission resource of a sidelink reference signal according to a transmission resource of a sidelink channel; and<br/>
the transceiver unit 420 is configured to receive the sidelink reference signal on the transmission resource of the sidelink reference signal.</p>
<p id="p0113" num="0113">Optionally, in an embodiment of the present application, the processing unit 410 is specifically configured to determine a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or determine a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</p>
<p id="p0114" num="0114">Optionally, in an embodiment of the present application, the processing unit 410 is specifically configured to determine a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located.</p>
<p id="p0115" num="0115">Optionally, in an embodiment of the present application, the processing unit 410 is<!-- EPO <DP n="28"> --> specifically configured to determine a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or determine a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</p>
<p id="p0116" num="0116">Optionally, in an embodiment of the present application, the processing unit 410 is further configured to determine at least one type of the following information: a time domain symbol occupied by the sidelink reference signal in the slot, the frequency domain starting position of the sidelink reference signal, and the frequency domain resource length of the sidelink reference signal according to pre configuration information of a protocol, configuration information of a network device or configuration information of a terminal device other than the first terminal device.</p>
<p id="p0117" num="0117">Optionally, in an embodiment of the present application, the transceiver unit 420 is further configured to send sidelink control information (SCI) to the first terminal device, and the SCI is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0118" num="0118">Optionally, in an embodiment of the present application, the SCI includes an indication field, and the indication field is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0119" num="0119">Optionally, in an embodiment of the present application, a scrambling code sequence used by the SCI is used for indicating the first terminal device to send the sidelink reference signal.</p>
<p id="p0120" num="0120">Optionally, in an embodiment of the present application, the sidelink channel includes at least one of the following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</p>
<p id="p0121" num="0121">Optionally, in an embodiment of the present application, the sidelink reference signal includes a sidelink CSI-RS, a sidelink SRS, a sidelink PT-RS or a sidelink DMRS.</p>
<p id="p0122" num="0122">It should be understood that the terminal device 400 according to the embodiment of the present application may correspond to the second terminal device in the method embodiment of the present application, and the above-mentioned and other operations and/or functions of various units in the terminal device 400 are respectively for implementing corresponding processes of the second terminal device in the method shown in <figref idref="f0002">FIG. 5</figref>, which will not be<!-- EPO <DP n="29"> --> repeated here for brevity.</p>
<p id="p0123" num="0123">As shown in <figref idref="f0003">FIG. 8</figref>, an embodiment of the present application further provides a terminal device 500, which may be the terminal device 300 in <figref idref="f0002">FIG. 6</figref> and can be used for executing contents of the first terminal device corresponding to the method 100 in <figref idref="f0001">FIG. 3</figref>. The terminal device 500 may be the terminal device 400 in <figref idref="f0002">FIG. 7</figref> and can be used for executing contents of the second terminal device corresponding to the method 200 in <figref idref="f0002">FIG. 5</figref>. The terminal device 500 shown in <figref idref="f0003">FIG. 8</figref> includes a processor 510. The processor 510 may call and run a computer program from a memory to implement the method in embodiments of the present application.</p>
<p id="p0124" num="0124">Optionally, as shown in <figref idref="f0003">FIG. 8</figref>, the terminal device 500 may further include a memory 520. Herein, the processor 510 may call and run a computer program from the memory 520 to implement the method in the embodiments of the present application.</p>
<p id="p0125" num="0125">Herein, the memory 520 may be a separate device independent of the processor 510 or may be integrated in the processor 510.</p>
<p id="p0126" num="0126">Optionally, as shown in <figref idref="f0003">FIG. 8</figref>, the terminal device 500 may further include a transceiver 530, and the processor 510 may control the transceiver 530 to communicate with other devices. Specifically, the transceiver 630 may send information or data to other devices or receive information or data sent by other devices.</p>
<p id="p0127" num="0127">Herein, the transceiver 530 may include a transmitter and a receiver. The transceiver 530 may also further include an antenna, and a quantity of antennas may be one or more.</p>
<p id="p0128" num="0128">Optionally, the terminal device 500 may be specifically a terminal device of an embodiment of the present application, and the terminal device 500 may implement corresponding processes implemented by the first terminal device in the various methods of embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0129" num="0129">In a specific implementation, the processing unit in the terminal device 300/ terminal device 400 may be implemented by the processor 510 in <figref idref="f0003">FIG. 8</figref>. The transceiver unit in the terminal device 300/ terminal device 400 may be implemented by the transceiver 530 in <figref idref="f0003">FIG. 8</figref>.</p>
<p id="p0130" num="0130"><figref idref="f0003">FIG. 9</figref> is a schematic diagram of structure of a chip according to an embodiment of the present application. A chip 600 shown in <figref idref="f0003">FIG. 9</figref> includes a processor 610. The processor 610<!-- EPO <DP n="30"> --> may call and run a computer program from a memory to implement the methods in the embodiments of the present application.</p>
<p id="p0131" num="0131">Optionally, as shown in <figref idref="f0003">FIG. 9</figref>, the chip 600 may further include a memory 620. Herein, the processor 610 may call and run a computer program from the memory 620 to implement the methods in the embodiments of the present application.</p>
<p id="p0132" num="0132">Herein, the memory 620 may be a separate device independent of the processor 610 or may be integrated in the processor 610.</p>
<p id="p0133" num="0133">Optionally, the chip 600 may further include an input interface 630. Herein, the processor 610 may control the input interface 630 to communicate with other device or chip. Specifically, information or data sent by other device or chip may be acquired.</p>
<p id="p0134" num="0134">Optionally, the chip 600 may further include an output interface 640. Herein, the processor 610 may control the output interface 640 to communicate with other device or chip. Specifically, information or data may be outputted to other device or chip.</p>
<p id="p0135" num="0135">Optionally, the chip may be applied to a terminal device in an embodiment of the present application, and the chip may implement corresponding processes implemented by the terminal device in various methods of the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0136" num="0136">It should be understood that the chip mentioned in the embodiment of the present application may also be referred to as a system-level chip, a system chip, a chip system or a system chip-on-chip, etc.</p>
<p id="p0137" num="0137"><figref idref="f0003">FIG. 10</figref> is a schematic block diagram of a communication system 700 according to an embodiment of the present application. As shown in <figref idref="f0003">FIG. 10</figref>, the communication system 700 includes a first terminal device 710 and a second terminal device 720.</p>
<p id="p0138" num="0138">The first terminal device 710 may be configured to implement corresponding functions implemented by the first terminal device in the above-mentioned methods, and the second terminal device 720 may be configured to implement corresponding functions implemented by the second terminal device in the above-mentioned methods, which will not be repeated here for brevity.<!-- EPO <DP n="31"> --></p>
<p id="p0139" num="0139">It should be understood that the terms "system" and "network" herein are often used interchangeably in this document. The term "and/or" in this document is merely an association relationship describing associated objects, indicating that there may be three relationships, for example, A and/or B may indicate three cases: A alone, both of A and B, and B alone. In addition, the symbol "/" in this document generally indicates that objects before and after the symbol "/" have an "or" relationship.</p>
<p id="p0140" num="0140">It should be understood that, the processor in the embodiments of the present application may be an integrated circuit chip having a signal processing capability. In an implementation process, the acts of the foregoing method embodiments may be accomplished by an integrated logic circuit of hardware in the processor or instructions in a form of software. The above processor may be a general purpose processor, a Digital Signal Processor (DSP), an Application Specific Integrated Circuit (ASIC), a Field Programmable Gate Array (FPGA) or other programmable logic device, a discrete gate or a transistor logic device, or a discrete hardware component, which can implement or perform the methods, acts and logical block diagrams disclosed in the embodiments of the present application. The general purpose processor may be a microprocessor, or the processor may also be any conventional processor or the like. The acts of the methods disclosed with reference to the embodiments of the present application may be directly embodied as being executed and accomplished by a hardware decoding processor, or being executed and accomplished by a combination of hardware and software modules in a decoding processor. The software modules may be located in a storage medium commonly used in the art, such as a random access memory, a flash memory, a read-only memory, a programmable read-only memory or an electrically erasable programmable memory, or a register, etc. The storage medium is located in a memory, and the processor reads information in the memory and accomplishes the acts of the above methods in combination with hardware thereof.</p>
<p id="p0141" num="0141">It may be understood that, the memory in the embodiments of the present application may be a volatile memory or a non-volatile memory, or may include both of a volatile memory and a non-volatile memory. Herein, the non-volatile memory may be a Read-Only Memory (ROM), a Programmable ROM (PROM), an Erasable PROM (EPROM), an Electrically EPROM<!-- EPO <DP n="32"> --> (EEPROM), or a flash memory. The volatile memory may be a Random Access Memory (RAM), which is used as an external cache. Through illustrative but not limitative description, many forms of RAMs are available, for example, a Static RAM (SRAM), a Dynamic RAM (DRAM), a Synchronous DRAM (SDRAM), a Double Data Rate SDRAM (DDR SDRAM), an Enhanced SDRAM (ESDRAM), a Synchlink DRAM (SLDRAM), and a Direct Rambus RAM (DR RAM). It should be noted that memories in the systems and methods described in this specification are intended to include, but are not limited to, these and any other suitable types of memories.</p>
<p id="p0142" num="0142">It should be understood that, the foregoing memory is illustrative but not limitative description. For example, the memory in the embodiments of the present application may also be a Static RAM (SRAM), a Dynamic RAM (DRAM), a Synchronous DRAM (SDRAM), a double data rate SDRAM (DDR SDRAM), an enhanced SDRAM (ESDRAM), or a synchlink DRAM (SLDRAM), a Direct Rambus RAM (DR RAM), or the like. That is, memories in the embodiments of the present application are intended to include, but are not limited to, these and any other suitable types of memories.</p>
<p id="p0143" num="0143">An embodiment of the present application further provides a computer readable storage medium, configured to store a computer program.</p>
<p id="p0144" num="0144">Optionally, the computer readable storage medium may be applied in a network device of the embodiments of the present application, and when the computer program is run on a computer, the computer is enabled to perform corresponding processes implemented by the network device in various methods of the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0145" num="0145">Optionally, the computer readable storage medium may be applied in a terminal device of the embodiments of the present application, and when the computer program is run on a computer, the computer is enabled to perform corresponding processes implemented by the mobile terminal/terminal device in various methods of the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0146" num="0146">An embodiment of the present application further provides a computer program product, including computer program instructions.<!-- EPO <DP n="33"> --></p>
<p id="p0147" num="0147">Optionally, the computer program product may be applied in a network device of the embodiments of the present application, and when the computer program instructions are executed by a computer, the computer is enabled to perform corresponding processes implemented by the network device in various methods of the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0148" num="0148">Optionally, the computer program product may be applied in a terminal device of the embodiments of the present application, and when the computer program instructions are executed by a computer, the computer is enabled to perform corresponding processes implemented by the mobile terminal/terminal device in various methods according to the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0149" num="0149">An embodiment of the present application further provides a computer program.</p>
<p id="p0150" num="0150">Optionally, the computer program may be applied in a network device of the embodiments of the present application. When the computer program is run on a computer, the computer is enabled to perform corresponding processes implemented by the network device in various methods of the embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0151" num="0151">Optionally, the computer program may be applied in a terminal device of the embodiments of the present application. When the computer program is run on the computer, the computer is enabled to perform corresponding processes implemented by the terminal device in various methods of embodiments of the present application, which will not be repeated here for brevity.</p>
<p id="p0152" num="0152">Those of ordinary skill in the art will recognize that the example units and algorithm acts described in combination with the embodiments disclosed herein can be implemented in electronic hardware, or a combination of computer software and electronic hardware. Whether these functions being executed in a hardware or software mode depend on a specific application and design constraint condition of the technical solution. Skilled artisans may use different methods to implement the described functions in respect to each particular application, but such implementation should not be considered to be beyond the scope of the present application.</p>
<p id="p0153" num="0153">Those skilled in the art may clearly understand that for convenience and conciseness of description, specific working processes of the systems, the apparatuses and the units described<!-- EPO <DP n="34"> --> above may refer to the corresponding processes in the method embodiments, which will not be repeated here.</p>
<p id="p0154" num="0154">In several embodiments provided by the present application, it should be understood that the disclosed systems, apparatuses and methods may be implemented in other ways. For example, the apparatus embodiments described above are only illustrative, for example, the division of the units is only a logical function division, and there may be other division modes in an actual implementation, for example, multiple units or components may be combined or integrated into another system, or some features may be ignored or not executed. On the other hand, the displayed or discussed mutual coupling or direct coupling or communication connection may be indirect coupling or communication connection through some interface, apparatuses or units. The indirect couplings or communication connections between apparatuses or units may be in electrical, mechanical or other forms.</p>
<p id="p0155" num="0155">The unit described as a separate component may or may not be physically separated, and the component shown as a unit may or may not be a physical unit, i.e., it may be located in one place or may be distributed over multiple network units. Some or all of the units therein may be selected according to an actual need to achieve the purpose of the solutions of the present embodiments.</p>
<p id="p0156" num="0156">In addition, various functional units in various embodiments of the present application may be integrated in one processing unit, or the various units may be physically present separately, or two or more units may be integrated in one unit.</p>
<p id="p0157" num="0157">When the functions are implemented in the form of software functional units and sold or used as an independent product, the software functional units may be stored in a computer-readable storage medium. Based on such an understanding, the technical solution of the present application, in essence, or the part contributing to the prior art, or the part of the technical solution, may be embodied in the form of a software product stored in a storage medium. The computer software product includes several instructions for instructing a computer device (which may be a personal computer, a server, or a network device, or the like) to perform all or part of the acts of the method described in various embodiments of the present application. The foregoing storage medium includes: any medium that can store program codes,<!-- EPO <DP n="35"> --> such as a USB flash drive, a removable hard disk, a Read-Only Memory (ROM), a Random Access Memory (RAM), a magnetic disk, or an optical disc.</p>
<p id="p0158" num="0158">The foregoing descriptions are merely specific implementations of the present application, but the protection scope of the present application is not limited thereto. Any variation or substitution that may be readily conceived by a person skilled in the art within the technical scope disclosed by the present application shall fall within the protection scope of the present application. Therefore, the protection scope of the present application shall be subjected to the protection scope of the claims.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="36"> -->
<claim id="c-en-0001" num="0001">
<claim-text>A sidelink communication method, comprising:
<claim-text>receiving, by a first terminal device, a sidelink channel sent by a second terminal device; and</claim-text>
<claim-text>determining, by the first terminal device, a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0002" num="0002">
<claim-text>The method of claim 1, wherein determining, by the first terminal device, the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel, comprises:
<claim-text>determining, by the first terminal device, a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or</claim-text>
<claim-text>determining, by the first terminal device, a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0003" num="0003">
<claim-text>The method of claim 2, wherein determining, by the first terminal device, the time domain resource of the sidelink reference signal according to the time domain resource of the sidelink channel, comprises:<br/>
determining, by the first terminal device, a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located.</claim-text></claim>
<claim id="c-en-0004" num="0004">
<claim-text>The method of claim 2 or 3, wherein determining, by the first terminal device, the frequency domain resource of the sidelink reference signal according to the frequency domain resource of the sidelink channel, comprises:
<claim-text>determining, by the first terminal device, a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or</claim-text>
<claim-text>determining, by the first terminal device, a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</claim-text><!-- EPO <DP n="37"> --></claim-text></claim>
<claim id="c-en-0005" num="0005">
<claim-text>The method of any one of claims 2 to 4, further comprising:<br/>
determining, by the first terminal device, at least one type of following information: a time domain symbol occupied by the sidelink reference signal in a slot, a frequency domain starting position of the sidelink reference signal, and a frequency domain resource length of the sidelink reference signal, according to pre-configuration information of a protocol, configuration information of a network device or configuration information of a terminal device except for the first terminal device.</claim-text></claim>
<claim id="c-en-0006" num="0006">
<claim-text>The method of any one of claims 1 to 5, further comprising:
<claim-text>obtaining, by the first terminal device, sidelink control information (SCI) sent by the second terminal device;</claim-text>
<claim-text>determining, by the first terminal device, the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel, comprises:<br/>
determining, by the first terminal device, the transmission resource of the sidelink reference signal according to the SCI and the transmission resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0007" num="0007">
<claim-text>The method of claim 6, wherein the SCI is used for indicating a time domain resource of the sidelink reference signal and/or a frequency domain resource of the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0008" num="0008">
<claim-text>The method of claim 6, wherein determining, by the first terminal device, the transmission resource of the sidelink reference signal according to the SCI and the transmission resource of the sidelink channel, comprises:<br/>
determining, by the first terminal device, the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel when the SCI indicates to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0009" num="0009">
<claim-text>The method of claim 8, wherein the SCI comprises an indication field, and the method further comprises:<br/>
determining, by the first terminal device, to send the sidelink reference signal according to the indication field.</claim-text></claim>
<claim id="c-en-0010" num="0010">
<claim-text>The method of claim 8, further comprising:<br/>
<!-- EPO <DP n="38"> -->determining, by the first terminal device, to send the sidelink reference signal according to a scrambling code sequence used by the SCI.</claim-text></claim>
<claim id="c-en-0011" num="0011">
<claim-text>The method of any one of claims 1 to 10, further comprising:<br/>
obtaining, by the first terminal device, a transmission period of the sidelink reference signal from at least one type of following information: protocol pre-configuration information, configuration information of a network device, and sidelink control information (SCI).</claim-text></claim>
<claim id="c-en-0012" num="0012">
<claim-text>The method of any one of claims 1 to 11, wherein the sidelink channel comprises at least one of following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</claim-text></claim>
<claim id="c-en-0013" num="0013">
<claim-text>The method of any one of claims 1 to 12, wherein the sidelink reference signal comprises a sidelink channel state information reference signal (CSI-RS) or a sidelink phase tracking reference signal (PT-RS).</claim-text></claim>
<claim id="c-en-0014" num="0014">
<claim-text>A sidelink communication method, comprising:
<claim-text>determining, by a second terminal device, a transmission resource of a sidelink reference signal according to a transmission resource of a sidelink channel; and</claim-text>
<claim-text>receiving, by the second terminal device, the sidelink reference signal on the transmission resource of the sidelink reference signal.</claim-text></claim-text></claim>
<claim id="c-en-0015" num="0015">
<claim-text>The method of claim 14, wherein determining, by the second terminal device, the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel, comprises:
<claim-text>determining, by the second terminal device, a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or</claim-text>
<claim-text>determining, by the second terminal device, a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0016" num="0016">
<claim-text>The method of claim 15, wherein determining, by the second terminal device, the time domain resource of the sidelink reference signal according to the time domain resource of the sidelink channel, comprises:<br/>
determining, by the second terminal device, a slot in which the sidelink reference signal is<!-- EPO <DP n="39"> --> located according to a slot in which the sidelink channel is located.</claim-text></claim>
<claim id="c-en-0017" num="0017">
<claim-text>The method of claim 15 or 16, wherein determining, by the second terminal device, the frequency domain resource of the sidelink reference signal according to the frequency domain resource of the sidelink channel, comprises:
<claim-text>determining, by the second terminal device, a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or</claim-text>
<claim-text>determining, by the second terminal device, a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0018" num="0018">
<claim-text>The method of any one of claims 15 to 17, further comprising:<br/>
determining, by the second terminal device, at least one type of following information: a time domain symbol occupied by the sidelink reference signal in a slot, a frequency domain starting position of the sidelink reference signal, and a frequency domain resource length of the sidelink reference signal, according to protocol pre-configuration information, configuration information of a network device or configuration information of a terminal device except for the first terminal device.</claim-text></claim>
<claim id="c-en-0019" num="0019">
<claim-text>The method of any one of claims 14 to 18, further comprising:<br/>
sending, by the second terminal device, sidelink control information (SCI) to the first terminal device, wherein the SCI is used for indicating the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0020" num="0020">
<claim-text>The method of claim 19, wherein the SCI comprises an indication field, wherein the indication field is used for indicting the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0021" num="0021">
<claim-text>The method of claim 19, wherein a scrambling code sequence used by the SCI is used for indicating the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0022" num="0022">
<claim-text>The method of any one of claims 14 to 21, wherein the sidelink channel comprises at least one of the following channels: a physical sidelink control channel (PSCCH), a physical<!-- EPO <DP n="40"> --> sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</claim-text></claim>
<claim id="c-en-0023" num="0023">
<claim-text>The method of any one of claims 14 to 22, wherein the sidelink reference signal comprises a sidelink channel state information reference signal (CSI-RS) or a sidelink phase tracking reference signal (PT-RS).</claim-text></claim>
<claim id="c-en-0024" num="0024">
<claim-text>A terminal device, wherein the terminal device is a first terminal device, comprising:
<claim-text>a transceiving unit, configured to receive a sidelink channel sent by a second terminal device; and</claim-text>
<claim-text>a processing unit, configured to determine a transmission resource of a sidelink reference signal according to a transmission resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0025" num="0025">
<claim-text>The terminal device of claim 24, wherein the processing unit is specifically configured to:
<claim-text>determine a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or</claim-text>
<claim-text>determine a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0026" num="0026">
<claim-text>The terminal device of claim 25, wherein the processing unit is specifically configured to:<br/>
determine a slot in which the sidelink reference signal is located according to a slot in which the sidelink channel is located.</claim-text></claim>
<claim id="c-en-0027" num="0027">
<claim-text>The terminal device of claim 25 or 26, wherein the processing unit is specifically configured to:
<claim-text>determine a frequency domain starting position of the sidelink reference signal according to a frequency domain starting position of the sidelink channel; and/or</claim-text>
<claim-text>determine a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0028" num="0028">
<claim-text>The terminal device of any one of claims 25 to 27, wherein the processing unit is further configured to:<br/>
<!-- EPO <DP n="41"> -->determine at least one type of the following information: a time domain symbol occupied by the sidelink reference signal in a slot, a frequency domain starting position of the sidelink reference signal, and a frequency domain resource length of the sidelink reference signal, according to protocol pre-configuration information, configuration information of a network device or configuration information of a terminal device except for the first terminal device.</claim-text></claim>
<claim id="c-en-0029" num="0029">
<claim-text>The terminal device of any one of claims 24 to 28, wherein the processing unit is further configured to:
<claim-text>obtain sidelink control information (SCI) sent by the second terminal device; and</claim-text>
<claim-text>the processing unit is specifically configured to:<br/>
determine the transmission resource of the sidelink reference signal according to the SCI and the transmission resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0030" num="0030">
<claim-text>The terminal device of claim 29, wherein the SCI is used for indicating a time domain resource of the sidelink reference signal and/or a frequency domain resource of the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0031" num="0031">
<claim-text>The terminal device of claim 29, wherein the processing unit is specifically configured to:<br/>
determine the transmission resource of the sidelink reference signal according to the transmission resource of the sidelink channel when the SCI indicates to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0032" num="0032">
<claim-text>The terminal device of claim 31, wherein the SCI comprises an indication field, the processing unit is specifically configured to:<br/>
determine to send the sidelink reference signal according to the indication field.</claim-text></claim>
<claim id="c-en-0033" num="0033">
<claim-text>The terminal device of claim 31, wherein the processing unit is further configured to:<br/>
determine to send the sidelink reference signal according to a scrambling code sequence used by the SCI.</claim-text></claim>
<claim id="c-en-0034" num="0034">
<claim-text>The terminal device of any one of claims 24 to 33, wherein the processing unit is further configured to:<br/>
<!-- EPO <DP n="42"> -->obtain a transmission period of the sidelink reference signal from at least one type of following information: protocol pre-configuration information, configuration information of a network device, and sidelink control information (SCI).</claim-text></claim>
<claim id="c-en-0035" num="0035">
<claim-text>The terminal device of any one of claims 24 to 34, wherein the sidelink channel comprises at least one of following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</claim-text></claim>
<claim id="c-en-0036" num="0036">
<claim-text>The terminal device of any one of claims 24 to 35, wherein the sidelink reference signal comprises a sidelink channel state information reference signal (CSI-RS) or a sidelink phase tracking reference signal (PT-RS).</claim-text></claim>
<claim id="c-en-0037" num="0037">
<claim-text>A terminal device, wherein the terminal device is a second terminal device, comprising:
<claim-text>a processing unit, configured to determine a transmission resource of a sidelink reference signal according to a transmission resource of a sidelink channel;</claim-text>
<claim-text>a transceiving unit, configured to receive the sidelink reference signal on the transmission resource of the sidelink reference signal.</claim-text></claim-text></claim>
<claim id="c-en-0038" num="0038">
<claim-text>The terminal device of claim 37, wherein the processing unit is specifically configured to:
<claim-text>determine a time domain resource of the sidelink reference signal according to a time domain resource of the sidelink channel; and/or</claim-text>
<claim-text>determine a frequency domain resource of the sidelink reference signal according to a frequency domain resource of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0039" num="0039">
<claim-text>The terminal device of claim 38, wherein the processing unit is specifically configured to:<br/>
determine a slot in which the sidelink reference signal is located according to the slot in which the sidelink channel is located.</claim-text></claim>
<claim id="c-en-0040" num="0040">
<claim-text>The terminal device of claim 38 or 39, wherein the processing unit is specifically configured to:
<claim-text>determine a frequency domain starting position of the sidelink reference signal according<!-- EPO <DP n="43"> --> to a frequency domain starting position of the sidelink channel; and/or</claim-text>
<claim-text>determine a frequency domain resource length of the sidelink reference signal according to a frequency domain resource length of the sidelink channel.</claim-text></claim-text></claim>
<claim id="c-en-0041" num="0041">
<claim-text>The terminal device of any one of claims 38 to 40, wherein the processing unit is further configured to:<br/>
determine at least one type of the following information: a time domain symbol occupied by the sidelink reference signal in a slot, a frequency domain starting position of the sidelink reference signal, and a frequency domain resource length of the sidelink reference signal, according to protocol pre-configuration information, configuration information of a network device or configuration information of a terminal device except for the first terminal device.</claim-text></claim>
<claim id="c-en-0042" num="0042">
<claim-text>The terminal device of any one of claims 37 to 41, wherein the transceiving unit is further configured to:<br/>
send sidelink control information (SCI) to the first terminal device, wherein the SCI is used for indicating the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0043" num="0043">
<claim-text>The terminal device of claim 42, wherein the SCI comprises an indication field, the indication field is used for indicating the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0044" num="0044">
<claim-text>The terminal device of claim 42, wherein a scrambling code sequence used by the SCI is used for indicating the first terminal device to send the sidelink reference signal.</claim-text></claim>
<claim id="c-en-0045" num="0045">
<claim-text>The terminal device of any one of claims 37 to 44, wherein the sidelink channel comprises at least one of following channels: a physical sidelink control channel (PSCCH), a physical sidelink shared channel (PSSCH), and a physical sidelink feedback channel (PSFCH).</claim-text></claim>
<claim id="c-en-0046" num="0046">
<claim-text>The terminal device of any one of claims 37 to 45, wherein the sidelink reference signal comprises a sidelink channel state information reference signal (CSI-RS) or a sidelink phase tracking reference signal (PT-RS).</claim-text></claim>
<claim id="c-en-0047" num="0047">
<claim-text>A terminal device, comprising: a processor and a memory, wherein the memory is configured to store a computer program, and the processor is configured to call and run the computer program stored in the memory to perform the method of any one of claims 1 to 13.<!-- EPO <DP n="44"> --></claim-text></claim>
<claim id="c-en-0048" num="0048">
<claim-text>A terminal device, comprising: a processor and a memory, wherein the memory is configured to store a computer program, and the processor is configured to call and run the computer program stored in the memory to perform the method of any one of claims 14 to 23.</claim-text></claim>
<claim id="c-en-0049" num="0049">
<claim-text>A chip, comprising: a processor, configured to call and run a computer program from a memory to enable a device in which the chip is installed to perform the method of any one of claims 1 to 13.</claim-text></claim>
<claim id="c-en-0050" num="0050">
<claim-text>A chip, comprising: a processor, configured to call and run a computer program from a memory to enable a device in which the chip is installed to perform the method of any one of claims 14 to 23.</claim-text></claim>
<claim id="c-en-0051" num="0051">
<claim-text>A computer-readable storage medium, configured to store a computer program, wherein when the computer program is run on a computer, the computer is enabled to perform the method of any one of claims 1 to 13.</claim-text></claim>
<claim id="c-en-0052" num="0052">
<claim-text>A computer-readable storage medium, configured to store a computer program, wherein when the computer program is run on a computer, the computer is enabled to perform the method of any one of claims 14 to 23.</claim-text></claim>
<claim id="c-en-0053" num="0053">
<claim-text>A computer program product, comprising computer program instructions, wherein when the computer program instructions are executed by a computer, the computer is enabled to perform the method of any one of claims 1 to 13.</claim-text></claim>
<claim id="c-en-0054" num="0054">
<claim-text>A computer program product, comprising computer program instructions, wherein when the computer program instructions are executed by a computer, the computer is enabled to perform the method of any one of claims 14 to 23.</claim-text></claim>
<claim id="c-en-0055" num="0055">
<claim-text>A computer program, when being run on a computer, the computer is enabled to perform the method of any one of claims 1 to 13.</claim-text></claim>
<claim id="c-en-0056" num="0056">
<claim-text>A computer program, when being run on a computer, the computer is enabled to perform the method of any one of claims 14 to 23.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="45"> -->
<figure id="f0001" num="1,2,3"><img id="if0001" file="imgf0001.tif" wi="155" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> -->
<figure id="f0002" num="4,5,6,7"><img id="if0002" file="imgf0002.tif" wi="152" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> -->
<figure id="f0003" num="8,9,10"><img id="if0003" file="imgf0003.tif" wi="118" he="230" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="en" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="151" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="153" he="233" type="tif"/></search-report-data>
</ep-patent-document>
