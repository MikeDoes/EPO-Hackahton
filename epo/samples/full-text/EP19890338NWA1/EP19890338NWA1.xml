<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP19890338A1" file="EP19890338NWA1.xml" lang="en" country="EP" doc-number="3890288" kind="A1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSKBAHRIS..MTNORSMESMMAKHTNMD..........</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  1100000/0</B007EP></eptags></B000><B100><B110>3890288</B110><B120><B121>EUROPEAN PATENT APPLICATION</B121><B121EP>published in accordance with Art. 153(4) EPC</B121EP></B120><B130>A1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>19890338.7</B210><B220><date>20191118</date></B220><B240><B241><date>20210511</date></B241></B240><B250>ja</B250><B251EP>en</B251EP><B260>en</B260></B200><B300><B310>2018225215</B310><B320><date>20181130</date></B320><B330><ctry>JP</ctry></B330></B300><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20211006</date><bnum>202140</bnum></B430></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04M   1/58        20060101AFI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04R   3/02        20060101ALI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>G10L  13/00        20060101ALI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>G06F   3/16        20060101ALI20200605BHEP        </text></classification-ipcr><classification-ipcr sequence="5"><text>G10L  15/00        20130101ALI20200605BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>G06F   3/16        20130101 LI20200625BCEP        </text></classification-cpc><classification-cpc sequence="2"><text>G10L  15/00        20130101 LI20200625BCEP        </text></classification-cpc><classification-cpc sequence="3"><text>G10L  13/00        20130101 LI20200625BCEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04M   1/58        20130101 LI20200625BCEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04R   3/02        20130101 LI20200625BCEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>ÜBERSETZUNGSVORRICHTUNG UND ÜBERSETZUNGSVERFAHREN</B542><B541>en</B541><B542>TRANSLATION DEVICE AND TRANSLATION METHOD</B542><B541>fr</B541><B542>DISPOSITIF DE TRADUCTION ET PROCÉDÉ DE TRADUCTION</B542></B540><B590><B598>2</B598></B590></B500><B700><B710><B711><snm>Panasonic Intellectual Property 
Management Co., Ltd.</snm><iid>101483884</iid><irf>BBS160072EP</irf><adr><str>1-61, Shiromi 2-chome 
Chuo-ku</str><city>Osaka-shi, Osaka 540-6207</city><ctry>JP</ctry></adr></B711></B710><B720><B721><snm>SUZUKI, Ryoji</snm><adr><str>c/o Appliances &amp; Digital Solution Co., Ltd. 
1-30, 2-chome-kita Tenjinbashi,
Kita-ku</str><city>Osaka-shi, Osaka 530-0041</city><ctry>JP</ctry></adr></B721><B721><snm>INAGAKI, Hiroki</snm><adr><str>Panasonic Intellectual Property
Management Co., Ltd.
1-61, Shiromi 2-chome, Chuo-ku</str><city>Osaka-shi, Osaka 540-6207</city><ctry>JP</ctry></adr></B721></B720><B740><B741><snm>Vigand, Philippe</snm><sfx>et al</sfx><iid>101298357</iid><adr><str>Novagraaf International SA 
Chemin de l'Echo 3</str><city>1213 Onex - Genève</city><ctry>CH</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B844EP><B845EP><ctry>BA</ctry></B845EP><B845EP><ctry>ME</ctry></B845EP></B844EP><B848EP><B849EP><ctry>KH</ctry></B849EP><B849EP><ctry>MA</ctry></B849EP><B849EP><ctry>MD</ctry></B849EP><B849EP><ctry>TN</ctry></B849EP></B848EP><B860><B861><dnum><anum>JP2019045118</anum></dnum><date>20191118</date></B861><B862>ja</B862></B860><B870><B871><dnum><pnum>WO2020110808</pnum></dnum><date>20200604</date><bnum>202023</bnum></B871></B870></B800></SDOBI>
<abstract id="abst" lang="en">
<p id="pa01" num="0001">Translation device (20) includes first microphone (21), first voice recognition circuit (31), first translation circuit (33), first voice synthesis circuit (35), first loudspeaker (22), second microphone (23), second voice recognition circuit (32), second translation circuit (34), second voice synthesis circuit (36), second loudspeaker (24), first echo canceller (40), second echo canceller (50), and control circuit (37). Control circuit (37) causes first echo canceller (40) to update a first transfer function used to estimate a first echo signal during a period in which a first translated voice is being output, and causes second echo canceller (50) to update a second transfer function used to estimate a second echo signal during a period in which a second translated voice is being output.<img id="iaf01" file="imgaf001.tif" wi="104" he="71" img-content="drawing" img-format="tif"/></p>
</abstract>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001">[Technical Field]</heading>
<p id="p0001" num="0001">The present disclosure relates to a translation device and a translation method for, in a conversation between a first speaker and a second speaker, translating the language of one speaker into the language of the other speaker and outputting a synthesized voice after amplifying the sound level of the synthesized voice.</p>
<heading id="h0002">[Background Art]</heading>
<p id="p0002" num="0002">Patent Literature (PTL) 1 discloses a conversation assisting device useful for assisting two-way conversations between two speakers by amplifying the sound levels of voices while removing acoustic noise. The conversation assisting device includes echo/crosstalk cancellers that remove interfering signals indicating echo and crosstalk from output signals of microphones. This conversation assisting device is capable of assisting two-way conversations between two speakers by amplifying the sound levels of voices while removing acoustic noise including echo and crosstalk.</p>
<heading id="h0003">[Citation List]</heading>
<heading id="h0004">[Patent Literature]</heading>
<p id="p0003" num="0003">[PTL 1] <patcit id="pcit0001" dnum="JP6311136B"><text>Japanese Patent No. 6311136</text></patcit></p>
<heading id="h0005">[Summary of Invention]</heading>
<heading id="h0006">[Technical Problem]</heading>
<p id="p0004" num="0004">The present disclosure provides a translation device and a translation method for assisting conversations between two or more speakers while stably recognizing voices by suppressing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being<!-- EPO <DP n="2"> --> output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices.</p>
<heading id="h0007">[Solution to Problem]</heading>
<p id="p0005" num="0005">A translation device according to the present disclosure is a translation device which, in a conversation between a first speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice. The translation device includes a first microphone that receives input of a first voice of the first speaker, a first voice recognition circuit that recognizes the first voice to output a first character string, a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string, first voice synthesis circuit that converts the third character string output from the first translation circuit into a first translated voice, a first loudspeaker that amplifies a sound level of the first translated voice, a second microphone that receives input of a second voice of the second speaker, a second voice recognition circuit that recognizes the second voice to output a second character string, a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string, a second voice synthesis circuit that converts the fourth character string output from the second translation circuit into a second translated voice, a second loudspeaker that amplifies a sound level of the second translated voice, a first echo canceller that, when first echo refers to a phenomenon in which the first translated voice whose sound level has been amplified by the first loudspeaker enters into the second microphone, estimates a first echo signal indicating the first echo from the first translated voice and a first transfer function corresponding to the first echo, and removes the first echo signal from an output signal of the second microphone, a second echo canceller that, when second echo refers to a phenomenon in which<!-- EPO <DP n="3"> --> the second translated voice whose sound level has been amplified by the second loudspeaker enters into the first microphone, estimates a second echo signal indicating the second echo from the second translated voice and a second transfer function corresponding to the second echo, and removes the second echo signal from an output signal of the first microphone, and a control circuit. The control circuit causes the first echo canceller to update the first transfer function used to estimate the first echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice, and the second echo canceller to update the second transfer function used to estimate the second echo signal during a period in which the second voice synthesis circuit is outputting the second translated voice.</p>
<p id="p0006" num="0006">Another translation device according to the present disclosure is a translation device which, in a conversation between a first speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice. The translation device includes a first microphone that receives input of a first voice of the first speaker, a first voice recognition circuit that recognizes the first voice to output a first character string, a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string, a first voice synthesis circuit that converts the third character string output from the first translation circuit into a first translated voice, a first loudspeaker that amplifies a sound level of the first translated voice, a second microphone that receives input of a second voice of the second speaker, a second voice recognition circuit that recognizes the second voice to output a second character string, a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string, a second voice synthesis circuit that converts the fourth character string output from the second<!-- EPO <DP n="4"> --> translation circuit into a second translated voice, a second loudspeaker that amplifies a sound level of the second translated voice, a third echo canceller that, when third echo refers to a phenomenon in which the first translated voice whose sound level has been amplified by the first loudspeaker enters into the first microphone, estimates a third echo signal indicating the third echo from the first translated voice and a third transfer function corresponding to the third echo, and removes the third echo signal from an output signal of the first microphone, a fourth echo canceller that, when fourth echo refers to a phenomenon in which the second translated voice whose sound level has been amplified by the second loudspeaker enters into the second microphone, estimates a fourth echo signal indicating the fourth echo from the second translated voice and a fourth transfer function corresponding to the fourth echo, and removes the fourth echo signal from an output signal of the second microphone, and a control circuit. The control circuit causes the third echo canceller to update the third transfer function used to estimate the third echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice, and the fourth echo canceller to update the fourth transfer function used to estimate the fourth echo signal during a period in which the second voice synthesis circuit is outputting the second translated voice.</p>
<p id="p0007" num="0007">Another translation device according to the present disclosure is a translation device which, in a conversation between a first speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice. The translation device includes a first microphone that receives input of a first voice of the first speaker, a first voice recognition circuit that recognizes the first voice to output a first character string, a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string, a first voice synthesis circuit that converts the third character string output from the first<!-- EPO <DP n="5"> --> translation circuit into a first translated voice, a second microphone that receives input of a second voice of the second speaker, a second voice recognition circuit that recognizes the second voice to output a second character string, a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string, a second voice synthesis circuit that converts the fourth character string output from the second translation circuit into a second translated voice, a summing circuit that sums the first translated voice output from the first voice synthesis circuit and the second translated voice output from the second voice synthesis circuit to output a sum translated voice, a loudspeaker that amplifies a sound level of the sum translated voice output from the summing circuit, a fifth echo canceller that, when fifth echo refers to a phenomenon in which the sum translated voice whose sound level has been amplified by the loudspeaker enters into the second microphone, emirates a fifth echo signal indicating the fifth echo from the sum translated voice and a fifth transfer function corresponding to the fifth echo, and removes the fifth echo signal from an output signal of the second microphone, a sixth echo canceller that, when sixth echo refers to a phenomenon in which the sum translated voice whose sound level has been amplified by the loudspeaker enters into the first microphone, estimates a sixth echo signal indicating the sixth echo from the sum translated voice and a sixth transfer function corresponding to the sixth echo, and removes the sixth echo signal from an output signal of the first microphone, and a control circuit. The control circuit causes the fifth echo canceller to update the fifth transfer function used to emirate the fifth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice, and the sixth echo canceller to update the sixth transfer function used to estimate the sixth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice.<!-- EPO <DP n="6"> --></p>
<p id="p0008" num="0008">A translation method according to the present disclosure is a translation method for, in a conversation between a first speaker and a second speaker, translating a language of one speaker into a language of the other speaker and outputting a synthesized voice after amplifying a sound level of the synthesized voice. The translation method includes receiving input of a first voice of the first speaker, recognizing the first voice to output a first character string, translating the first character string output in the recognizing of the first voice into a language of the second speaker to output a third character string, converting the third character string output in the translating of the first character string into a first translated voice, amplifying a sound level of the first translated voice, receiving input of a second voice of the second speaker, recognizing the second voice to output a second character string, translating the second character string output in the recognizing of the second voice into a language of the first speaker to output a fourth character string, converting the fourth character string output in the translating of the second character string into a second translated voice, amplifying a sound level of the second translated voice, when first echo refers to a phenomenon in which the first translated voice whose sound level has been amplified in the amplifying of the sound level of the first translated voice is received in the receiving of input of the second voice, estimating a first echo signal indicating the first echo from the first translated voice and a first transfer function corresponding to the first echo, and removing the first echo signal from an output signal output in the receiving of input of the second voice, when second echo refers to a phenomenon in which the second translated voice whose sound level has been amplified in the amplifying of the sound level of the second translated voice is received in the receiving of input of the first voice, estimating a second echo signal indicating the second echo from the second translated voice and a second transfer function corresponding to the second echo, and removing the second echo signal from an output signal output in the receiving of input of the first voice, and giving an instruction to update the first transfer<!-- EPO <DP n="7"> --> function used to estimate the first echo signal in the estimating of the first echo signal during a period in which the first translated voice is being output in the converting of the third character string, and to update the second transfer function used to estimate the second echo signal in the estimating of the second echo signal during a period in which the second translated voice is being output in the converting of the fourth character string.</p>
<p id="p0009" num="0009">Another translation method according to the present disclosure is a translation method for, in a conversation between a first speaker and a second speaker, translating a language of one speaker into a language of the other speaker and outputting a synthesized voice after amplifying a sound level of the synthesized voice. The translation method includes receiving input of a first voice of the first speaker, recognizing the first voice to output a first character string, translating the first character string output in the recognizing of the first voice into a language of the second speaker to output a third character string, converting the third character string output in the translating of the first character string into a first translated voice;<br/>
amplifying a sound level of the first translated voice, receiving input of a second voice of the second speaker, recognizing the second voice to output a second character string, translating the second character string output in the recognizing of the second voice into a language of the first speaker to output a fourth character string, converting the fourth character string output in the translating of the second character string into a second translated voice, amplifying a sound level of the second translated voice, when third echo refers to a phenomenon in which the first translated voice whose sound level has been amplified in the amplifying of the sound level of the first translated voice is received in the receiving of input of the first voice, estimating a third echo signal indicating the third echo from the first translated voice and a third transfer function corresponding to the third echo, and removing the third echo signal from an output signal output in the receiving of input of the first voice, when fourth echo refers to a phenomenon in which the second translated voice whose<!-- EPO <DP n="8"> --> sound level has been amplified in the amplifying of the sound level of the second translated voice is received in the receiving of input of the second voice, estimating a fourth echo signal indicating the fourth echo from the second translated voice and a fourth transfer function corresponding to the fourth echo, and removing the fourth echo signal from an output signal output in the receiving of input of the second voice, and giving an instruction to update the third transfer function used to estimate the third echo signal in the estimating of the third echo signal during a period in which the first translated voice is being output in the converting of the third character string, and to update the fourth transfer function used to estimate the fourth echo signal in the estimating of the fourth echo signal during a period in which the second translated voice is being output in the converting of the fourth character string.</p>
<heading id="h0008">[Advantageous Effects of Invention]</heading>
<p id="p0010" num="0010">The translation device and the translation method according to the present disclosure are useful for assisting conversations between two or more speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices.</p>
<heading id="h0009">[Brief Description of Drawings]</heading>
<p id="p0011" num="0011">
<ul id="ul0001" list-style="none" compact="compact">
<li>[<figref idref="f0001">FIG. 1</figref>]<br/>
<figref idref="f0001">FIG. 1</figref> is a diagram illustrating an example of application of a translation device according to Embodiment 1.</li>
<li>[<figref idref="f0002">FIG. 2</figref>]<br/>
<figref idref="f0002">FIG. 2</figref> is a block diagram illustrating a configuration of the translation device according to Embodiment 1.</li>
<li>[<figref idref="f0003">FIG. 3</figref>]<br/>
<figref idref="f0003">FIG. 3</figref> is a flowchart for updating transfer functions of first and<!-- EPO <DP n="9"> --> third echo cancellers.</li>
<li>[<figref idref="f0003">FIG. 4</figref>]<br/>
<figref idref="f0003">FIG. 4</figref> is a flowchart for updating transfer functions of second and fourth echo cancellers.</li>
<li>[<figref idref="f0004">FIG. 5</figref>]<br/>
<figref idref="f0004">FIG. 5</figref> is a block diagram illustrating a configuration of a translation device according to Embodiment 2.</li>
<li>[<figref idref="f0005">FIG. 6</figref>]<br/>
<figref idref="f0005">FIG. 6</figref> is a block diagram illustrating a configuration of a translation device according to Embodiment 3.</li>
<li>[<figref idref="f0006">FIG. 7</figref>]<br/>
<figref idref="f0006">FIG. 7</figref> is a flowchart for selecting an optimum configuration from Embodiments 1 to 3.</li>
<li>[<figref idref="f0007">FIG. 8</figref>]<br/>
<figref idref="f0007">FIG. 8</figref> is a block diagram illustrating a configuration of a translation device according to Embodiment 4.</li>
<li>[<figref idref="f0008">FIG. 9</figref>]<br/>
<figref idref="f0008">FIG. 9</figref> is a block diagram illustrating a configuration of a translation device according to Embodiment 5.</li>
<li>[<figref idref="f0009">FIG. 10</figref>]<br/>
<figref idref="f0009">FIG. 10</figref> is a block diagram illustrating a configuration of a translation device according to Embodiment 6.</li>
<li>[<figref idref="f0010">FIG. 11</figref>]<br/>
<figref idref="f0010">FIG. 11</figref> is a diagram showing an example of conditions of use of a translation device.</li>
</ul></p>
<heading id="h0010">[Description of Embodiments]</heading>
<p id="p0012" num="0012">Hereinafter, detailed description of embodiments will be given with reference to the drawings as appropriate. However, detailed description more than necessary may be omitted. For example, detailed description of well-known matter and redundant description of substantially identical constituent elements may be omitted. This is to avoid unnecessary redundancy of the following description and to facilitate understanding for persons skilled in the art.</p>
<p id="p0013" num="0013"><!-- EPO <DP n="10"> --> Note that the accompanying drawings and the following description are provided to help persons skilled in the art to better understand the present disclosure, and do not intend to limit the subject matter of claims by these drawings and the description.</p>
<heading id="h0011">[Embodiment 1]</heading>
<p id="p0014" num="0014">Embodiment 1 will be described hereinafter with reference to <figref idref="f0001">FIGS. 1</figref> and <figref idref="f0002">2</figref>.</p>
<heading id="h0012">[1-1. Example of Application]</heading>
<p id="p0015" num="0015"><figref idref="f0001">FIG. 1</figref> is a diagram illustrating an example of application of translation device 20 according to Embodiment 1. Here, an example of application is illustrated in which translation device 20 is applied as a device for translating conversations between first speaker 11 and second speaker 12 who face each other across counter 10 and outputting translated conversations after amplifying the sound levels of the conversations.</p>
<p id="p0016" num="0016">Translation device 20 is a device for translating conversations between first speaker 11 (here, a customer) and second speaker 12 (here, a receptionist) and outputting translated conversations after amplifying the sound levels of the conversations. Counter 10 includes first microphone 21 for receiving input of a voice (first voice) of first speaker 11, and first loudspeaker 22 provided on the side of second speaker 12 and for translating and outputting the voice of the first speaker via translation device 20. Counter 10 also includes second microphone 23 provided on the side of second speaker 12 and for receiving input of a voice (second voice) of second speaker 12, and second loudspeaker 24 provided on the side of first speaker 11 and for translating and outputting the voice of the second speaker via translation device 20. Translation device 20 further includes first display circuit 25, second display circuit 26, first camera 291, and second camera 292.</p>
<p id="p0017" num="0017">For example, when first speaker 11 speaks "Hello" into first<!-- EPO <DP n="11"> --> microphone 21, the voice of the first speaker is translated by translation device 20, and the translated voice is output as "Konnichiwa" from first loudspeaker 22 after the sound level of the translated voice is amplified. Then, when second speaker 12 speaks "Irrasshaimase" into second microphone 23 in response, the voice of the second speaker is translated by translation device 20, and the translated voice is output as "Hello! May I help you?" from second loudspeaker 24 after the sound level of the translated voice is amplified. First display circuit 25 and second display circuit 26 display character strings, such as " Hello", "Hello! May I help you?", "Konnnichiwa", and "Irrasshaimase", that correspond to the speaking of first speaker 11 and second speaker 12.</p>
<p id="p0018" num="0018">By using translation device 20, first and second speakers 11 and 12 are able to enjoy conversations even in a narrow space because the translation device achieves accurate voice recognition by removing acoustic noise including echo (reverberation) and crosstalk (overhearing).</p>
<p id="p0019" num="0019">The echo refers to the following two phenomena: a phenomenon in which a voice output from a loudspeaker toward one speaker circles around and enters into a microphone for receiving input of the speaker's voice and a phenomenon in which a voice output from a loudspeaker toward one speaker circles around and enters into a microphone for receiving input of voices of other speakers. Specifically, a phenomenon in which a voice output from first loudspeaker 22 circles around and enters into second microphone 23 is herein defined as first echo 13, and a phenomenon in which a voice output from second loudspeaker 24 circles around and enters into first microphone 21 is defined as second echo 14. Moreover, a phenomenon in which a voice output from first loudspeaker 22 circles around and enters into first microphone 21 is defined as third echo 15, and a phenomenon in which a voice output from second loudspeaker 24 circles around and enters second microphone 23 is defined as fourth echo 16.<!-- EPO <DP n="12"> --></p>
<p id="p0020" num="0020">The crosstalk refers to a phenomenon in which the voice of one speaker enters into a microphone for receiving input of voices of other speakers. Specifically, a phenomenon in which the voice of first speaker 11 enters into second microphone 23 is herein defined as first crosstalk 17, and a phenomenon in which the voice of second speaker 12 enters into first microphone 21 is defined as second crosstalk 18.</p>
<heading id="h0013">[1-2. Configuration]</heading>
<p id="p0021" num="0021"><figref idref="f0002">FIG. 2</figref> is a block diagram illustrating a configuration of translation device 20 according to Embodiment 1 illustrated in <figref idref="f0001">FIG. 1</figref>. Translation device 20 includes first microphone 21, first loudspeaker 22, second microphone 23, second loudspeaker 24, first display circuit 25, second display circuit 26, first language selection circuit 27, second language selection circuit 28, first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first crosstalk canceller 80, second crosstalk canceller 90, first voice recognition circuit 31, second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, control circuit 37, and image-signal generation circuit 38. Although not illustrated, translation device 20 may also include a central processing unit (CPU), a read-only memory (ROM), and a random access memory (RAM) that are connected mutually via buses. Processor 201 illustrated in <figref idref="f0001">FIG. 1</figref> includes first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first crosstalk canceller 80, second crosstalk canceller 90, first voice recognition circuit 31, second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, control circuit 37, and image-signal generation circuit 38. Note that constituent elements of translation device 20 each have wired or wireless connections to one another.</p>
<p id="p0022" num="0022">First microphone 21 is a microphone for receiving input of a first voice of first speaker 11 and provided, for example, on the<!-- EPO <DP n="13"> --> customer side of counter 10 (here, on the side of first speaker 11) as illustrated in <figref idref="f0001">FIG. 1</figref>. An output signal to be output from first microphone 21 is, for example, digital voice data generated by an A/D converter built in or provided immediately downstream of first microphone 21. First microphone 21 may also have directivity. Directivity as used herein refers to the function of being capable of picking up sounds entering from a specific direction.</p>
<p id="p0023" num="0023">First loudspeaker 22 amplifies the sound level of a first translated voice. Although described in detail later in [1-3. Operations], the first translated voice refers to a voice obtained by translating the first voice or language of first speaker 11 into the language of second speaker 12 via translation device 20. First loudspeaker 22 is provided, for example, on the receptionist side of counter 10 (here, on the side of second speaker 12) as illustrated in <figref idref="f0001">FIG. 1</figref>. For example, first loudspeaker 22 converts input digital voice data into an analog signal via a D/A converter built in or provided immediately upstream of first loudspeaker 22 and then outputs the analog signal as a voice.</p>
<p id="p0024" num="0024">Second microphone 23 is a microphone for receiving input of a second voice of second speaker 12 and provided, for example, on the receptionist side of counter 10 (here, on the side of second speaker 12) as illustrated in <figref idref="f0001">FIG. 1</figref>. An output signal to be output from second microphone 23 is, for example, digital voice data generated by an A/D converter built in or provided immediately downstream of second microphone 23. Second microphone 23 may also have directivity. Directivity as used herein refers to the function of being capable of picking up sounds entering from a specific direction.</p>
<p id="p0025" num="0025">Second loudspeaker 24 amplifies the sound level of a second translated voice. Although described in detail later in [1-3. Operations], the second translated voice refers to a voice obtained by translating the second voice or language of second speaker 12 into the language of first speaker 11 via translation device 20. Second<!-- EPO <DP n="14"> --> loudspeaker 24 is provided, for example, on the customer side of counter 10 (here, on the side of first speaker 11) as illustrated in <figref idref="f0001">FIG. 1</figref>. For example, second loudspeaker 24 converts input digital voice data into an analog signal via a D/A converter built in or provided immediately upstream of second loudspeaker 24 and then outputs the analog signal as a voice.</p>
<p id="p0026" num="0026">First display circuit 25 is a display circuit that displays character strings obtained as a result of recognizing and translating the voice of first speaker 11 and character strings obtained as a result of recognizing the voice of second speaker 12, and is provided at a location that can be recognized by second speaker 12. For example, first display circuit 25 may be a liquid crystal display or an organic electroluminescence (EL) display, or may be other devices such as a tablet terminal, a smartphone, or a personal computer. First display circuit 25 may also have a touch panel function.</p>
<p id="p0027" num="0027">Second display circuit 26 is a display circuit that displays character strings obtained as a result of recognizing and translating the voice of second speaker 12 and character strings obtained as a result of recognizing the voice of first speaker 11, and is provided at a location that can be recognized by first speaker 11. For example, second display circuit 26 may be a liquid crystal display or an organic EL display, or may be other devices such as a tablet terminal, a smartphone, or a personal computer. Second display circuit 26 may also have a touch panel function.</p>
<p id="p0028" num="0028">First language selection circuit 27 receives a selection of a first language used by first speaker 11 from first speaker 11 and notifies control circuit 37 of the selection. For example, first language selection circuit 27 may be a switch that sets the first language as the type of the language of the voice of first speaker 11, and is arranged at a location that can be selected by first speaker 11. When first display circuit 25 has a touch panel function, first language selection circuit 27 may be included in first display circuit 25.<!-- EPO <DP n="15"> --></p>
<p id="p0029" num="0029">Second language selection circuit 28 receives a selection of a second language used by second speaker 12 from second speaker 12 and notifies control circuit 37 of the selection. For example, second language selection circuit 28 is a switch that sets the second language as the type of the language of the voice of second speaker 12, and is arranged at a location that can be selected by second speaker 12. When second display circuit 26 has a touch panel function, second language selection circuit 28 may be included in second display circuit 26.</p>
<p id="p0030" num="0030">The CPU is a processor that executes programs stored in the ROM. The ROM stores, for example, programs to be read and executed by the CPU. The CPU implements processing of circuits described later by executing such programs. The RAM is a readable and writable memory having, for example, a storage area used by the CPU when executing programs.</p>
<p id="p0031" num="0031">Processing of circuits described below (first voice recognition circuit 31, second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, control circuit 37, and image-signal generation circuit 38) is implemented by the processor.</p>
<p id="p0032" num="0032">First voice recognition circuit 31 recognizes the first voice of first speaker 11 to output a first character string. First voice recognition circuit 31 also outputs the first character string to first translation circuit 33 and control circuit 37 as a result of recognizing the first voice of first speaker 11.</p>
<p id="p0033" num="0033">Second voice recognition circuit 32 recognizes the second voice of second speaker 12 to output a second character string. Second voice recognition circuit 32 also outputs the second character string to second translation circuit 34 and control circuit 37 as a result of recognizing the second voice of second speaker 12.<!-- EPO <DP n="16"> --></p>
<p id="p0034" num="0034">First translation circuit 33 translates the first character string output from first voice recognition circuit 31 into the language of second speaker 12 to output a third character string. First translation circuit 33 also outputs the third character string to first voice synthesis circuit 35 and control circuit 37.</p>
<p id="p0035" num="0035">Second translation circuit 34 translates the second character string output from second voice recognition circuit 32 into the language of first speaker 11 to output a fourth character string. Second translation circuit 34 also outputs the fourth character string to second voice synthesis circuit 36 and control circuit 37.</p>
<p id="p0036" num="0036">First voice synthesis circuit 35 converts the third character string output from first translation circuit 33 into a first translated voice. First voice synthesis circuit 35 also outputs the first translated voice to first loudspeaker 22, first echo canceller 40, and third echo canceller 60.</p>
<p id="p0037" num="0037">Second voice synthesis circuit 36 converts the fourth character string output from second translation circuit 34 into a second translated voice. Second voice synthesis circuit 36 also outputs the second translated voice to second loudspeaker 24, second echo canceller 50, and fourth echo canceller 70.</p>
<p id="p0038" num="0038">Control circuit 37 causes first echo canceller 40 to update a first transfer function used to estimate a first echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice, and causes second echo canceller 50 to update a second transfer function used to estimate a second echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice. Although described in detail later, the first transfer function is stored in first transfer-function memory circuit 44 included in first echo canceller 40. Similarly, the second transfer function is stored in second transfer-function memory circuit 54<!-- EPO <DP n="17"> --> included in second echo canceller 50.</p>
<p id="p0039" num="0039">Control circuit 37 also causes third echo canceller 60 to update a third transfer function used to estimate a third echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice, and causes fourth echo canceller 70 to update a fourth transfer function used to estimate a fourth echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice. Although described in detail later, the third transfer function is stored in third transfer-function memory circuit 64 included in third echo canceller 60. Similarly, the fourth transfer function is stored in fourth transfer-function memory circuit 74 included in fourth echo canceller 70.</p>
<p id="p0040" num="0040">That is, control circuit 37 does not cause first and third echo cancellers 40 and 60 to update the first and third transfer function during a period in which first voice synthesis circuit 35 is not outputting the first translated voice. Control circuit 37 also does not cause second and fourth echo cancellers 50 and 70 to update the second and fourth transfer functions during a period in which second voice synthesis circuit 36 is not outputting the second translated voice.</p>
<p id="p0041" num="0041">On the basis of the first language notified from first language selection circuit 27 and the second language notified from second language selection circuit 28, control circuit 37 further causes first voice recognition circuit 31 to recognize voices in the first language, causes second voice recognition circuit 32 to recognize voices in the second language, causes first translation circuit 33 to translate the first language into the second language, causes second translation circuit 34 to translate the second language into the first language, causes first voice synthesis circuit 35 to synthesize voices in the second language, and causes second voice synthesis circuit 36 to synthesize voices in the first language.</p>
<p id="p0042" num="0042">Image-signal generation circuit 38 receives input of character<!-- EPO <DP n="18"> --> strings from control circuit 37, the character strings including the first character string in the first language output from first voice recognition circuit 31 as a result of recognizing the voice of first speaker 11, the third character string obtained by converting the voice of first speaker 11 in the first language output from first translation circuit 33 into characters in the second language, the second character string in the second language output from second voice recognition circuit 32 as a result of recognizing the voice of second speaker 12, and the fourth character string obtained by converting the voice of second speaker 12 in the second language output from second translation circuit 34 into characters in the first language.</p>
<p id="p0043" num="0043">Image-signal generation circuit 38 further outputs, to second display circuit 26, the first character string in the first language output from first voice recognition circuit 31 as a result of recognizing the voice of first speaker 11, and the fourth character string obtained by converting the voice of second speaker 12 in the second language output from second translation circuit 34 into the first language. Image-signal generation circuit 38 also outputs, to first display circuit 25, the second character string in the second language output from second voice recognition circuit 32 as a result of recognizing the voice of second speaker 12, and the third character string obtained by converting the voice of first speaker 11 in the first language output from first translation circuit 33 into the second language.</p>
<heading id="h0014">[1-2-1. First Echo Canceller 40]</heading>
<p id="p0044" num="0044">First echo canceller 40 is a circuit that, when first echo 13 refers to a phenomenon in which the first translated voice whose sound level has been amplified by first loudspeaker 22 enters into second microphone 23, estimates the first echo signal indicating first echo 13 from the first translated voice and the first transfer function corresponding to first echo 13 and removes the first echo signal from the output signal of second microphone 23. The first echo signal as used herein refers to a signal indicating the degree of first echo 13.<!-- EPO <DP n="19"> --></p>
<p id="p0045" num="0045">In the present embodiment, first echo canceller 40 is a circuit that removes the first echo signal from the output signal of second microphone 23 and outputs the resultant signal after the removal to fourth echo canceller 70. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0046" num="0046">More specifically, first echo canceller 40 includes first transfer-function memory circuit 44, first memory circuit 42, first convolution arithmetic unit 43, first subtractor 41, and first transfer-function updating circuit 45.</p>
<p id="p0047" num="0047">First transfer-function memory circuit 44 stores the first transfer function corresponding to first echo 13.</p>
<p id="p0048" num="0048">First memory circuit 42 stores an output signal of first voice synthesis circuit 35.</p>
<p id="p0049" num="0049">First convolution arithmetic unit 43 generates a first interfering signal (i.e., first echo signal) by convolution of signals stored in first memory circuit 42 and first transfer functions stored in first transfer-function memory circuit 44. For example, first convolution arithmetic unit 43 is an N-tap finite impulse response (FIR) filter that performs a convolution operation given by Expression 1 below.<maths id="math0001" num="[Expression 1]"><math display="block"><mi>y</mi><mn>1</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>1</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>1</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mn>1</mn></mfenced></mfenced></mstyle></math><img id="ib0001" file="imgb0001.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0050" num="0050">Here, y1'<sub>t</sub> is the first interfering signal at time t, N is the number of taps in the FIR filter, H1(i)<sub>t</sub> is the i-th first transfer function among N first transfer functions stored in first transfer-function memory circuit 44 at time t, and x1(t-i) is the (t-i)-th signal among signals stored in first memory circuit 42.<!-- EPO <DP n="20"> --></p>
<p id="p0051" num="0051">First subtractor 41 removes the first interfering signal output from first convolution arithmetic unit 43 from the output signal of second microphone 23 and outputs a resultant signal as an output signal of first echo canceller 40. For example, first subtractor 41 performs a subtraction given by Expression 2 below.<maths id="math0002" num="[Expression 2]"><math display="block"><mi>e</mi><msub><mn>1</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>1</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>1</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0002" file="imgb0002.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0052" num="0052">Here, e1<sub>t</sub> is the output signal of first subtractor 41 at time t, and y1<sub>t</sub> is the output signal of second microphone 23 at time t.</p>
<p id="p0053" num="0053">First transfer-function updating circuit 45 updates a first transfer function stored in first transfer-function memory circuit 44 on the basis of the output signal of first subtractor 41 and a signal stored in first memory circuit 42. For example, first transfer-function updating circuit 45 updates a first transfer function stored in first transfer-function memory circuit 44 through independent component analysis based on the output signal of first subtractor 41 and a signal stored in first memory circuit 42, as given by Expression 3 below, so that the output signal of first subtractor 41 and the signal stored in first memory circuit 42 become independent of each other.<maths id="math0003" num="[Expression 3]"><math display="block"><mi>H</mi><mn>1</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>1</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>1</mn><mo>×</mo><mi>φ</mi><mn>1</mn><mfenced separators=""><mi>e</mi><msub><mn>1</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>1</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0054" num="0054">Here, H1(j)<sub>t+1</sub> is the j-th first transfer function among the N first transfer functions stored in first transfer-function memory circuit 44 at time t + 1 (i.e., after the update), H1(j)<sub>t</sub> is the j-th first transfer function among the N first transfer functions stored in first transfer-function memory circuit 44 at time t (i.e., before the update). Also, α1 is a first step-size parameter for controlling the learning speed for<!-- EPO <DP n="21"> --> estimating the first transfer function corresponding to first echo 13, and ϕ1 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0055" num="0055">In this way, first transfer-function updating circuit 45 performs nonlinear processing using a nonlinear function on the output signal of first subtractor 41 and multiplies a resultant signal by the signals stored in first memory circuit 42 and the first step-size parameter for controlling the learning speed for estimating the first transfer function corresponding to first echo 13 so as to calculate a first update coefficient. Then, the calculated first update coefficient is added to the first transfer function stored in first transfer-function memory circuit 44 to update the first transfer function.</p>
<p id="p0056" num="0056">Moreover, control circuit 37 causes first echo canceller 40 to update the first transfer function used to estimate the first echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice. That is, the first transfer function is updated according to the formula for the updating of the first transfer function, given by Expression 3 above, during a period in which first echo 13 is present.</p>
<heading id="h0015">[1-2-2. Second Echo Canceller 50]</heading>
<p id="p0057" num="0057">Second echo canceller 50 is a circuit that, when second echo 14 refers to a phenomenon in which the second translated voice whose sound level has been amplified by second loudspeaker 24 enters into first microphone 21, estimates the second echo signal indicating second echo 14 from the second translated voice and the second transfer function corresponding to second echo 14 and removes the second echo signal from the output signal of first microphone 21. The second echo signal as used herein refers to a signal indicating the degree of second echo 14.</p>
<p id="p0058" num="0058">In the present embodiment, second echo canceller 50 is a<!-- EPO <DP n="22"> --> circuit that removes the second echo signal from the output signal of first microphone 21 and outputs a resultant signal after the removal to third echo canceller 60. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0059" num="0059">More specifically, second echo canceller 50 includes second transfer-function memory circuit 54, second memory circuit 52, second convolution arithmetic unit 53, second subtractor 51, and second transfer-function updating circuit 55.</p>
<p id="p0060" num="0060">Second transfer-function memory circuit 54 stores the second transfer function corresponding to second echo 14.</p>
<p id="p0061" num="0061">Second memory circuit 52 stores an output signal of second voice synthesis circuit 36.</p>
<p id="p0062" num="0062">Second convolution arithmetic unit 53 generates a second interfering signal (i.e., second echo signal) by convolution of signals stored in second memory circuit 52 and second transfer functions stored in second transfer-function memory circuit 54. For example, second convolution arithmetic unit 53 is an N-tap FIR filter that performs a convolution operation given by Expression 4 below.<maths id="math0004" num="[Expression 4]"><math display="block"><mi>y</mi><mn>2</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>2</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>2</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0004" file="imgb0004.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0063" num="0063">Here, y2'<sub>t</sub> is the second interfering signal at time t, N is the number of taps in the FIR filter, H2(i)<sub>t</sub> is the i-th second transfer function among N second transfer functions stored in second transfer-function memory circuit 54 at time t, and x2(t-i) is the (t-i)-th signal among the signals stored in second memory circuit 52.</p>
<p id="p0064" num="0064">Second subtractor 51 removes the second interfering signal<!-- EPO <DP n="23"> --> output from second convolution arithmetic unit 53 from the output signal of first microphone 21 and outputs a resultant signal as an output signal of second echo canceller 50. For example, second subtractor 51 performs a subtraction given by Expression 5 below.<maths id="math0005" num="[Expression 5]"><math display="block"><mi>e</mi><msub><mn>2</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>2</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>2</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0005" file="imgb0005.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0065" num="0065">Here, e2<sub>t</sub> is the output signal of second subtractor 51 at time t, and y2<sub>t</sub> is the output signal of first microphone 21 at time t.</p>
<p id="p0066" num="0066">Second transfer-function updating circuit 55 updates a second transfer function stored in second transfer-function memory circuit 54 on the basis of the output signal of second subtractor 51 and a signal stored in second memory circuit 52. For example, second transfer-function updating circuit 55 updates a second transfer function stored in second transfer-function memory circuit 54 through independent component analysis based on the output signal of second subtractor 51 and a signal stored in second memory circuit 52, as given by Expression 6 below, so that the output signal of second subtractor 51 and the signal stored in second memory circuit 52 become independent of each other.<maths id="math0006" num="[Expression 6]"><math display="block"><mi>H</mi><mn>2</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>2</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>2</mn><mo>×</mo><mi>φ</mi><mn>2</mn><mfenced separators=""><mi>e</mi><msub><mn>2</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>2</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0067" num="0067">Here, H2(j)<sub>t+1</sub> is the j-th second transfer function among N second transfer functions stored in second transfer-function memory circuit 54 at time t + 1 (i.e., after the update), and H2(j)<sub>t</sub> is the j-th second transfer function among the N second transfer functions stored in second transfer-function memory circuit 54 at time t (i.e., before the update). Also, a2 is a second step-size parameter for controlling the learning speed for estimating the second transfer function<!-- EPO <DP n="24"> --> corresponding to second echo 14, and ϕ2 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0068" num="0068">In this way, second transfer-function updating circuit 55 performs nonlinear processing using a nonlinear function on the output signal of second subtractor 51 and multiplies a resultant signal by the signals stored in second memory circuit 52 and the second step-size parameter for controlling the learning speed for estimating the second transfer function corresponding to second echo 14 so as to calculate a second update coefficient. Then, the calculated second update coefficient is added to the second transfer function stored in second transfer-function memory circuit 54 to update the second transfer function.</p>
<p id="p0069" num="0069">Moreover, control circuit 37 causes second echo canceller 50 to update the second transfer function used to estimate the second echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice. That is, the second transfer function is updated according to the formula for the updating of the second transfer function, given by Expression 6 above, during a period in which second echo 14 is present.</p>
<heading id="h0016">[1-2-3. Third Echo Canceller 60]</heading>
<p id="p0070" num="0070">Third echo canceller 60 is a circuit that, when third echo 15 refers to a phenomenon in which the first translated voice output from first loudspeaker 22 enters into first microphone 21, estimates a third echo signal indicating third echo 15 from the first translated voice and the third transfer function corresponding to third echo 15 and removes the third echo signal from the output signal of first microphone 21. The third echo signal as used herein refers to a signal indicating the degree of third echo 15.</p>
<p id="p0071" num="0071">In the present embodiment, third echo canceller 60 is a circuit that removes the third echo signal from the output signal of second<!-- EPO <DP n="25"> --> echo canceller 50 and outputs a resultant signal after the removal to second crosstalk canceller 90. It is also a digital signal processing circuit that processes digital voice data.</p>
<p id="p0072" num="0072">More specifically, third echo canceller 60 includes third transfer-function memory circuit 64, third memory circuit 62, third convolution arithmetic unit 63, third subtractor 61, and third transfer-function updating circuit 65.</p>
<p id="p0073" num="0073">Third transfer-function memory circuit 64 stores the third transfer function corresponding to third echo 15.</p>
<p id="p0074" num="0074">Third memory circuit 62 stores the output signal of first voice synthesis circuit 35.</p>
<p id="p0075" num="0075">Third convolution arithmetic unit 63 generates a third interfering signal (i.e., third echo signal) by convolution of signals stored in third memory circuit 62 and third transfer functions stored in third transfer-function memory circuit 64. For example, third convolution arithmetic unit 63 is an N-tap FIR filter that performs a convolution operation given by Expression 7 below.<maths id="math0007" num="[Expression 7]"><math display="block"><mi>y</mi><mn>3</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>3</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>3</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0007" file="imgb0007.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0076" num="0076">Here, y3't is the third interfering signal at time t, N is the number of taps in the FIR filter, H3(i)<sub>t</sub> is the i-th third transfer function among N third transfer functions stored in third transfer-function memory circuit 64 at time t, and x3(t-i) is the (t-i)-th signal among the signals stored in third memory circuit 62.</p>
<p id="p0077" num="0077">Third subtractor 61 removes the third interfering signal output<!-- EPO <DP n="26"> --> from third convolution arithmetic unit 63 from the output signal of second echo canceller 50 and outputs a resultant signal as an output signal of third echo canceller 60. For example, third subtractor 61 performs a subtraction given by Expression 8 below.<maths id="math0008" num="[Expression 8]"><math display="block"><mi>e</mi><msub><mn>3</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>3</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>3</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0008" file="imgb0008.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0078" num="0078">Here, e3t is the output signal of third subtractor 61 at time t, and y3<sub>t</sub> is the output signal of second echo canceller 50 at time t.</p>
<p id="p0079" num="0079">Third transfer-function updating circuit 65 updates a third transfer function stored in third transfer-function memory circuit 64 on the basis of the output signal of third subtractor 61 and a signal stored in third memory circuit 62. For example, third transfer-function updating circuit 65 updates a third transfer function stored in third transfer-function memory circuit 64 through independent component analysis based on the output signal of third subtractor 61 and a signal stored in third memory circuit 62, as given by Expression 9 below, so that the output signal of third subtractor 61 and the signal stored in third memory circuit 62 become independent of each other.<maths id="math0009" num="[Expression 9]"><math display="block"><mi>H</mi><mn>3</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>3</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>3</mn><mo>×</mo><mi>φ</mi><mn>3</mn><mfenced separators=""><mi>e</mi><msub><mn>3</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>3</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0080" num="0080">Here, H3(j)<sub>t+1</sub> is the j-th third transfer function among N third transfer functions stored in third transfer-function memory circuit 64 at time t + 1 (i.e., after the update), H3(j)t is the j-th third transfer function among the N third transfer functions stored in third transfer-function memory circuit 64 at time t (i.e., before the update), a3 is a third step-size parameter for controlling the learning speed for estimating the third transfer function corresponding to third echo 15, and ϕ3 is a nonlinear function (e.g., a sigmoid function, a hyperbolic<!-- EPO <DP n="27"> --> tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0081" num="0081">In this way, third transfer-function updating circuit 65 performs nonlinear processing using a nonlinear function on the output signal of third subtractor 61 and multiplies a resultant signal by the signals stored in third memory circuit 62 and the third step-size parameter for controlling the learning speed for estimating the third transfer function corresponding to third echo 15 so as to calculate a third update coefficient. Then, the calculated third update coefficient is added to the third transfer function stored in third transfer-function memory circuit 64 to update the third transfer function.</p>
<p id="p0082" num="0082">Moreover, control circuit 37 causes third echo canceller 60 to update the third transfer function used to estimate the third echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice. That is, the third transfer function is updated according to the formula for the updating of the third transfer function, given by Expression 9 above, during a period in which third echo 15 is present.</p>
<heading id="h0017">[1-2-4. Fourth Echo Canceller 70]</heading>
<p id="p0083" num="0083">Fourth echo canceller 70 is a circuit that, when fourth echo 16 refers to a phenomenon in which the second translated voice whose sound level has been amplified by second loudspeaker 24 enters into second microphone 23, estimates a fourth echo signal indicating fourth echo 16 from the second translated voice and the fourth transfer function corresponding to fourth echo 16 and removes the fourth echo signal from the output signal of second microphone 23. The fourth echo signal as used herein refers to a signal indicating the degree of fourth echo 16.</p>
<p id="p0084" num="0084">In the present embodiment, fourth echo canceller 70 is a circuit that removes the fourth echo signal from the output signal of first echo canceller 40 and outputs a resultant signal after the removal to<!-- EPO <DP n="28"> --> first crosstalk canceller 80. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0085" num="0085">More specifically, fourth echo canceller 70 includes fourth transfer-function memory circuit 74, fourth memory circuit 72, fourth convolution arithmetic unit 73, fourth subtractor 71, and fourth transfer-function updating circuit 75.</p>
<p id="p0086" num="0086">Fourth transfer-function memory circuit 74 stores the fourth transfer function corresponding to fourth echo 16.</p>
<p id="p0087" num="0087">Fourth memory circuit 72 stores the output signal of second voice synthesis circuit 36.</p>
<p id="p0088" num="0088">Fourth convolution arithmetic unit 73 generates a fourth interfering signal (i.e., fourth echo signal) by convolution of a signal stored in fourth memory circuit 72 and a fourth transfer function stored in fourth transfer-function memory circuit 74. For example, fourth convolution arithmetic unit 73 is an N-tap FIR filter that performs a convolution operation given by Expression 10 below.<maths id="math0010" num="[Expression 10]"><math display="block"><mi>y</mi><mn>4</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>4</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>4</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0010" file="imgb0010.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0089" num="0089">Here, y4'<sub>t</sub> is the fourth interfering signal at time t, N is the number of taps in the FIR filter, H4(i)<sub>t</sub> is the i-th fourth transfer function among N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t, and x4(t-i) is the (t-i)-th signal among the signals stored in fourth memory circuit 72.</p>
<p id="p0090" num="0090">Fourth subtractor 71 removes the fourth interfering signal output from fourth convolution arithmetic unit 73 from the output signal of first echo canceller 40 and outputs a resultant signal as the<!-- EPO <DP n="29"> --> output signal of fourth echo canceller 70. For example, fourth subtractor 71 performs a subtraction given by Expression 11 below.<maths id="math0011" num="[Expression 11]"><math display="block"><mi>e</mi><msub><mn>4</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>4</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>4</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0011" file="imgb0011.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0091" num="0091">Here, e4<sub>t</sub> is the output signal of fourth subtractor 71 at time t, and y4<sub>t</sub> is the output signal of first echo canceller 40 at time t.</p>
<p id="p0092" num="0092">Fourth transfer-function updating circuit 75 updates a fourth transfer function stored in fourth transfer-function memory circuit 74 on the basis of the output signal of fourth subtractor 71 and a signal stored in fourth memory circuit 72. For example, fourth transfer-function updating circuit 75 updates a fourth transfer function stored in fourth transfer-function memory circuit 74 through independent component analysis based on the output signal of fourth subtractor 71 and a signal stored in fourth memory circuit 72, as given by Expression 12 below, so that the output signal of fourth subtractor 71 and the signal stored in fourth memory circuit 72 become independent of each other.<maths id="math0012" num="[Expression 12]"><math display="block"><mi>H</mi><mn>4</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>4</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>4</mn><mo>×</mo><mi>φ</mi><mn>4</mn><mfenced separators=""><mi>e</mi><msub><mn>4</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>4</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0012" file="imgb0012.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0093" num="0093">Here, H4(j)<sub>t+1</sub> is the j-th fourth transfer function among N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t + 1 (i.e., after the update), H4(j)<sub>t</sub> is the j-th fourth transfer function among the N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t (i.e., before the update), a4 is a fourth step-size parameter for controlling the learning speed for estimating the fourth transfer function corresponding to fourth echo 16, and ϕ4 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized<!-- EPO <DP n="30"> --> linear function, or a signum function (sign function)).</p>
<p id="p0094" num="0094">In this way, fourth transfer-function updating circuit 75 performs nonlinear processing using a nonlinear function on the output signal of fourth subtractor 71 and multiplies a resultant signal by the signal stored in fourth memory circuit 72 and the fourth step-size parameter for controlling the learning speed for estimating the fourth transfer function corresponding to fourth echo 16 so as to calculate a fourth update coefficient. Then, the calculated fourth update coefficient is added to the fourth transfer function stored in fourth transfer-function memory circuit 74 to update the fourth transfer function.</p>
<p id="p0095" num="0095">Moreover, control circuit 37 causes fourth echo canceller 70 to update the fourth transfer function used to estimate the fourth echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice. That is, the fourth transfer function is updated based on the formula for the updating of the fourth transfer function, given by Expression 12 above, during a period in which fourth echo 16 is present.</p>
<heading id="h0018">[1-2-5. First Crosstalk Canceller 80]</heading>
<p id="p0096" num="0096">First crosstalk canceller 80 is a circuit that, when first crosstalk 17 refers to a phenomenon in which the first voice enters into second microphone 23, estimates a first crosstalk signal indicating first crosstalk 17 from the first voice and removes the first crosstalk signal from the output signal of second microphone 23. That is, first crosstalk canceller 80 is a circuit that estimates a fifth interfering signal (i.e., first crosstalk signal) indicating the degree of first crosstalk 17 from the output signal of second crosstalk canceller 90 based on the first voice and removes the fifth interfering signal from the output signal of fourth echo canceller 70 based on the output signal of second microphone 23.</p>
<p id="p0097" num="0097">In the present embodiment, first crosstalk canceller 80 is a<!-- EPO <DP n="31"> --> circuit that outputs a signal obtained by the removal of the fifth interfering signal to second voice recognition circuit 32. It is also a digital signal processing circuit that processes digital voice data in a time-base domain. The output signal of second crosstalk canceller 90 corresponds to the input signal of first voice recognition circuit 31 as illustrated in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0098" num="0098">More specifically, first crosstalk canceller 80 includes fifth transfer-function memory circuit 84, fifth memory circuit 82, fifth convolution arithmetic unit 83, fifth subtractor 81, and fifth transfer-function updating circuit 85.</p>
<p id="p0099" num="0099">Fifth transfer-function memory circuit 84 stores the fifth transfer function estimated as the transfer function of first crosstalk 17.</p>
<p id="p0100" num="0100">Fifth memory circuit 82 stores the output signal of second crosstalk canceller 90.</p>
<p id="p0101" num="0101">Fifth convolution arithmetic unit 83 generates the fifth interfering signal by convolution of a signal stored in fifth memory circuit 82 and a fifth transfer function stored in fifth transfer-function memory circuit 84. For example, fifth convolution arithmetic unit 83 is an N-tap FIR filter that performs a convolution operation given by Expression 13 below.<maths id="math0013" num="[Expression 13]"><math display="block"><mi>y</mi><mn>5</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>5</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>5</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0013" file="imgb0013.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0102" num="0102">Here, y5't is the fifth interfering signal at time t, N is the number of taps in the FIR filter, H5(i)<sub>t</sub> is the i-th fifth transfer function among N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t, and x5(t-i) is the (t-i)-th signal among<!-- EPO <DP n="32"> --> the signals stored in fifth memory circuit 82.</p>
<p id="p0103" num="0103">Fifth subtractor 81 removes the fifth interfering signal output from fifth convolution arithmetic unit 83 from the output signal of fourth echo canceller 70 and outputs a resultant signal as the output signal of first crosstalk canceller 80. For example, fifth subtractor 81 performs a subtraction given by Expression 14 below.<maths id="math0014" num="[Expression 14]"><math display="block"><mi>e</mi><msub><mn>5</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>5</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>5</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0014" file="imgb0014.tif" wi="96" he="12" img-content="math" img-format="tif"/></maths></p>
<p id="p0104" num="0104">Here, e5t is the output signal of fifth subtractor 81 at time t, and y5t is the output signal of fourth echo canceller 70 at time t.</p>
<p id="p0105" num="0105">Fifth transfer-function updating circuit 85 updates a fifth transfer function stored in fifth transfer-function memory circuit 84 on the basis of the output signal of fifth subtractor 81 and a signal stored in fifth memory circuit 82. For example, fifth transfer-function updating circuit 85 updates a fifth transfer function stored in fifth transfer-function memory circuit 84 through independent component analysis based on the output signal of fifth subtractor 81 and a signal stored in fifth memory circuit 82, as given by Expression 15 below, so that the output signal of fifth subtractor 81 and the signal stored in fifth memory circuit 82 become independent of each other.<maths id="math0015" num="[Expression 15]"><math display="block"><mi>H</mi><mn>5</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>5</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>5</mn><mo>×</mo><mi>φ</mi><mn>5</mn><mfenced separators=""><mi>e</mi><msub><mn>5</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>5</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0106" num="0106">Here, H5(j)<sub>t+1</sub> is the j-th fifth transfer function among N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t + 1 (i.e., after the update), H5(j)t is the j-th fifth transfer function among the N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t (i.e., before the update), a5 is a<!-- EPO <DP n="33"> --> fifth step-size parameter for controlling the learning speed for estimating the fifth transfer function corresponding to first crosstalk 17, and ϕ5 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0107" num="0107">In this way, fifth transfer-function updating circuit 85 performs nonlinear processing using a nonlinear function on the output signal of fifth subtractor 81 and multiplies a resultant signal by the signal stored in fifth memory circuit 82 and the fifth step-size parameter for outputting the learning speed for estimating the fifth transfer function corresponding to first crosstalk 17 so as to calculate a fifth update coefficient. Then, the calculated fifth update coefficient is added to the fifth transfer function stored in fifth transfer-function memory circuit 84 to update the fifth transfer function.</p>
<p id="p0108" num="0108">Translation device 20 according to the present embodiment is designed such that, for the voice of first speaker 11 at one time, the time when the output signal of second crosstalk canceller 90 is input to first crosstalk canceller 80 is the same as or earlier than the time when the voice of first speaker 11 enters into second microphone 23. That is, causality is defined so as to allow first crosstalk canceller 80 to cancel first crosstalk 17. This can be appropriately implemented by taking into consideration factors that determine the time when the output signal of second crosstalk canceller 90 is input to first crosstalk canceller 80 (e.g., the rate of A/D conversion, the processing speed of second echo canceller 50, the processing speed of third echo canceller 60, and the processing speed of second crosstalk canceller 90) and factors that determine the time when the voice of first speaker 11 enters into second microphone 23 (e.g., a positional relationship between first speaker 11 and second microphone 23).</p>
<heading id="h0019">[1-2-6. Second Crosstalk Canceller 90]</heading>
<p id="p0109" num="0109">Second crosstalk canceller 90 is a circuit that, when second crosstalk 18 refers to a phenomenon in which the second voice enters<!-- EPO <DP n="34"> --> into first microphone 21, estimates a second crosstalk signal indicating second crosstalk 18 from the second voice and removes the second crosstalk signal from the output signal of first microphone 21. That is, second crosstalk canceller 90 is a circuit that estimates a sixth interfering signal (i.e., second crosstalk signal) indicating the degree of second crosstalk 18 from the output signal of first crosstalk canceller 80 based on the second voice, and removes the sixth interfering signal from the output signal of third echo canceller 60 based on the output signal of first microphone 21.</p>
<p id="p0110" num="0110">In the present embodiment, second crosstalk canceller 90 is a circuit that outputs a signal obtained by the removal of the sixth interfering signal to first voice recognition circuit 31. It is also a digital signal processing circuit that processes digital voice data in a time-base domain. The output signal of first crosstalk canceller 80 corresponds to the input signal of second voice recognition circuit 32 as illustrated in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0111" num="0111">More specifically, second crosstalk canceller 90 includes sixth transfer-function memory circuit 94, sixth memory circuit 92, sixth convolution arithmetic unit 93, sixth subtractor 91, and sixth transfer-function updating circuit 95.</p>
<p id="p0112" num="0112">Sixth transfer-function memory circuit 94 stores the sixth transfer function estimated as the transfer function of second crosstalk 18.</p>
<p id="p0113" num="0113">Sixth memory circuit 92 stores the output signal of first crosstalk canceller 80.</p>
<p id="p0114" num="0114">Sixth convolution arithmetic unit 93 generates a sixth interfering signal by convolution of a signal stored in sixth memory circuit 92 and a sixth transfer function stored in sixth transfer-function memory circuit 94. for example, sixth convolution arithmetic unit 93 is an N-tap FIR filter that performs a convolution<!-- EPO <DP n="35"> --> operation given by Expression 16 below.<maths id="math0016" num="[Expression 16]"><math display="block"><mi>y</mi><mn>6</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>6</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>6</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0016" file="imgb0016.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0115" num="0115">Here, y6't is the sixth interfering signal at time t, N is the number of taps in the FIR filter, H6(i)<sub>t</sub> is the i-th sixth transfer function among N sixth transfer functions stored in sixth transfer-function memory circuit 94 at time t, and x6(t-i) is the (t-i)-th signal among signals stored in sixth memory circuit 92.</p>
<p id="p0116" num="0116">Sixth subtractor 91 removes the sixth interfering signal output from sixth convolution arithmetic unit 93 from the output signal of third echo canceller 60 and outputs a resultant signal as the output signal of second crosstalk canceller 90. For example, sixth subtractor 91 performs a subtraction given by Expression 17 below.<maths id="math0017" num="[Expression 17]"><math display="block"><mi>e</mi><msub><mn>6</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>6</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>6</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0017" file="imgb0017.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0117" num="0117">Here, e6t is the output signal of sixth subtractor 91 at time t, and y6<sub>t</sub> is the output signal of third echo canceller 60 at time t.</p>
<p id="p0118" num="0118">Sixth transfer-function updating circuit 95 updates a sixth transfer function stored in sixth transfer-function memory circuit 94 on the basis of the output signal of sixth subtractor 91 and a signal stored in sixth memory circuit 92. For example, sixth transfer-function updating circuit 95 updates a sixth transfer function stored in sixth transfer-function memory circuit 94 through independent component analysis based on the output signal of sixth subtractor 91 and a signal stored in sixth memory circuit 92, as given by Expression 18 below, so that the output signal of sixth subtractor 91 and the<!-- EPO <DP n="36"> --> signal stored in sixth memory circuit 92 become independent of each other.<maths id="math0018" num="[Expression 18]"><math display="block"><mi>H</mi><mn>6</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>6</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>6</mn><mo>×</mo><mi>φ</mi><mn>6</mn><mfenced separators=""><mi>e</mi><msub><mn>6</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>6</mn><mrow><mo>(</mo><mrow><mi>t</mi><mo>−</mo><mi>j</mi></mrow></mrow></math><img id="ib0018" file="imgb0018.tif" wi="123" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0119" num="0119">Here, H6(j)<sub>t+1</sub> is the j-th sixth transfer function among the N sixth transfer functions stored in sixth transfer-function memory circuit 94 at time t + 1 (i.e., after the update), H6(j)t is the j-th sixth transfer function among the N sixth transfer functions stored in sixth transfer-function memory circuit 94 at time t (i.e., before the update), α6 is a sixth step-size parameter for controlling the learning speed for estimating the sixth transfer function corresponding to second crosstalk 18, and ϕ6 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0120" num="0120">In this way, sixth transfer-function updating circuit 95 performs nonlinear processing using a nonlinear function on the output signal of sixth subtractor 91 and multiplies a resultant signal by the signal stored in sixth memory circuit 92 and the sixth step-size parameter for controlling the learning speed for estimating the sixth transfer function corresponding to second crosstalk 18 so as to calculate a sixth update coefficient. Then, the calculated sixth update coefficient is added to the sixth transfer function stored in sixth transfer-function memory circuit 94 to update the sixth transfer function.</p>
<p id="p0121" num="0121">Translation device 20 according to the present embodiment is designed such that, for the voice of second speaker 12 at one time, the time when the output signal of first crosstalk canceller 80 is input to second crosstalk canceller 90 becomes the same as or earlier than the time when the voice of second speaker 12 enters into first microphone 21. That is, causality is defined so as to allow second<!-- EPO <DP n="37"> --> crosstalk canceller 90 to cancel second crosstalk 18. This can be appropriately implemented by taking into consideration factors that determine the time when the output signal of first crosstalk canceller 80 is input to second crosstalk canceller 90 (e.g., the rate of A/D conversion rate, the processing speed of first echo canceller 40, the processing speed of fourth echo canceller 70, and the processing speed of first crosstalk canceller 80) and factors that determine the time when the voice of second speaker 12 enters into first microphone 21 (e.g., a positional relationship between second speaker 12 and first microphone 21).</p>
<heading id="h0020">[1-3. Operations]</heading>
<p id="p0122" num="0122">Translation device 20 configured as described above according to the present embodiment operates as follows.</p>
<p id="p0123" num="0123">First language selection circuit 27 and second language selection circuit 28 respectively receive a selection of the first language used by first speaker 11 from first speaker 11 and a selection of the second language used by second speaker 12 from second speaker 12 and notify control circuit 37 of the selections in advance.</p>
<p id="p0124" num="0124">The voice of first speaker 11 enters into first microphone 21. In addition to the voice of first speaker 11, second echo 14, third echo 15, and second crosstalk 18 also enters into first microphone 21. Second echo canceller 50 removes the second interfering signal (i.e., second echo signal) from the output signal of first microphone 21. The second interfering signal is a signal indicating (estimating) the degree of second echo 14. Thus, the output signal of second echo canceller 50 indicates a voice obtained by removing the influence of second echo 14 from the voice that has entered into first microphone 21.</p>
<p id="p0125" num="0125">Then, third echo canceller 60 removes the third interfering signal (i.e., third echo signal) from the output signal of second echo<!-- EPO <DP n="38"> --> canceller 50. The third interfering signal is a signal indicating (estimating) the degree of third echo 15. Thus, the output signal of third echo canceller 60 is the signal obtained by removing the influence of third echo 15 from the output signal of second echo canceller 50.</p>
<p id="p0126" num="0126">Then, second crosstalk canceller 90 removes the sixth interfering signal (i.e., second crosstalk signal) from the output signal of third echo canceller 60. The sixth interfering signal is a signal indicating (estimating) the degree of second crosstalk 18. Thus, the output signal of second crosstalk canceller 90 is the signal obtained by removing the influence of second crosstalk 18 from the output signal of third echo canceller 60, and is output to first voice recognition circuit 31 and first crosstalk canceller 80.</p>
<p id="p0127" num="0127">Then, first voice recognition circuit 31 receives input of digital voice data obtained as a result of removing second echo 14 from the voice of first speaker 11 via second echo canceller 50, removing third echo 15 from a resultant voice via third echo canceller 60, and removing second crosstalk 18 from a resultant voice via second crosstalk canceller 90. First voice recognition circuit 31 recognizes the voice indicated by the input digital voice data on the basis of information on the first language of first speaker 11 instructed by control circuit 37, and outputs a resultant first character string to first translation circuit 33 and control circuit 37.</p>
<p id="p0128" num="0128">Then, first translation circuit 33 converts the first character string in the first language of first speaker 11 instructed by control circuit 37 and output from first voice recognition circuit 31 into a third character string in the second language of second speaker 12, and outputs the third character string resulting from the conversion to first voice synthesis circuit 35 and control circuit 37.</p>
<p id="p0129" num="0129">Then, first voice synthesis circuit 35 converts the third character string in the second language output from first translation<!-- EPO <DP n="39"> --> circuit 33 into an output signal in the second language on the basis of information on the second language instructed by control circuit 37, outputs the output signal in the second language to first loudspeaker 22, first echo canceller 40, and third echo canceller 60, and outputs information on a period in which the output signal in the second language is being output, to control circuit 37.</p>
<p id="p0130" num="0130">The output signal in the second language output from first voice synthesis circuit 35 is input to first loudspeaker 22 and output as a first translated voice.</p>
<p id="p0131" num="0131">Similarly, the voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, first echo 13, fourth echo 16, and first crosstalk 17 also enters into second microphone 23. First echo canceller 40 removes the first interfering signal (i.e., first echo signal) from the output signal of second microphone 23. The first interfering signal is a signal indicating (estimating) the degree of first echo 13. Thus, the output signal of first echo canceller 40 is the signal indicating a voice obtained by removing the influence of first echo 13 from the voice that has entered into second microphone 23.</p>
<p id="p0132" num="0132">Then, fourth echo canceller 70 removes the fourth interfering signal (i.e., fourth echo signal) from the output signal of first echo canceller 40. The fourth interfering signal is a signal indicating (estimating) the degree of fourth echo 16. Thus, the output signal of fourth echo canceller 70 is the signal obtained by removing the influence of fourth echo 16 from the output signal of first echo canceller 40.</p>
<p id="p0133" num="0133">Then, first crosstalk canceller 80 removes the fifth interfering signal (i.e., first crosstalk signal) from the output signal of fourth echo canceller 70. The fifth interfering signal is a signal indicating (estimating) the degree of first crosstalk 17. Thus, the output signal of first crosstalk canceller 80 is the signal obtained by removing the<!-- EPO <DP n="40"> --> influence of first crosstalk 17 from the output signal of fourth echo canceller 70, and is output to second voice recognition circuit 32 and second crosstalk canceller 90.</p>
<p id="p0134" num="0134">Then, second voice recognition circuit 32 receives input of digital voice data obtained as a result of removing first echo 13 from the voice of second speaker 12 via first echo canceller 40, removing fourth echo 16 from a resultant voice via fourth echo canceller 70, and removing first crosstalk 17 from a resultant voice via first crosstalk canceller 80. Second voice recognition circuit 32 recognizes the voice indicated by the input digital voice data on the basis of information on the second language of second speaker 12 instructed by control circuit 37, and outputs a resultant second character string to second translation circuit 34 and control circuit 37.</p>
<p id="p0135" num="0135">Then, second translation circuit 34 converts the second character string in the second language of second speaker 12 instructed by control circuit 37 and output from second voice recognition circuit 32 into a fourth character string in the first language of first speaker 11, and outputs the fourth character string resulting from the conversion to second voice synthesis circuit 36 and control circuit 37.</p>
<p id="p0136" num="0136">Then, second voice synthesis circuit 36 converts the fourth character string in the first language output from second translation circuit 34 into an output signal in the first language on the basis of information on the first language instructed from control circuit 37, outputs the output signal in the first language to second loudspeaker 24, second echo canceller 50, and fourth echo canceller 70, and outputs information on a period in which the output signal in the first language is being output, to control circuit 37.</p>
<p id="p0137" num="0137">The output signal in the first language output from second voice synthesis circuit 36 is input to second loudspeaker 24 and output as a second translated voice.<!-- EPO <DP n="41"> --></p>
<p id="p0138" num="0138">Control circuit 37 outputs character strings to image-signal generation circuit 38, the character strings including the first character string in the first language output from first voice recognition circuit 31 as a the result of recognizing the voice of first speaker 11, the third character string obtained by converting the voice of first speaker 11 in the first language into the second language and output from first translation circuit 33, the second character string in the second language output from second voice recognition circuit 32 as a result of recognizing the voice of second speaker 12, and the fourth character string obtained by converting the voice of second speaker 12 in the second language output from second translation circuit 34 into the first language.</p>
<p id="p0139" num="0139">Control circuit 37 also outputs information on a period of output of the first translated voice from first voice synthesis circuit 35 to first echo canceller 40 and third echo canceller 60 and causes first echo canceller 40 and third echo canceller 60 to update transfer functions during this period. The information on the period of output of the first translated voice as used herein refers to information indicating a period in which first voice synthesis circuit 35 is outputting the first translated voice.</p>
<p id="p0140" num="0140">Control circuit 37 further outputs information on a period of output of the second translated voice from second voice synthesis circuit 36 to second echo canceller 50 and fourth echo canceller 70 and causes second echo canceller 50 and fourth echo canceller 70 to update transfer functions during this period. The information on the period of output of the second translated voice as used herein refers to a period in which second voice synthesis circuit 36 is outputting the second translated voice.</p>
<p id="p0141" num="0141">Image-signal generation circuit 38 outputs the first character string in the first language output from first voice recognition circuit 31 as a result of recognizing the voice of first speaker 11, and the<!-- EPO <DP n="42"> --> fourth character string obtained by converting the voice of second speaker 12 in the second language output from second translation circuit 34 into the first language, to second display circuit 26. Image-signal generation circuit 38 further outputs the second character string in the second language output from second voice recognition circuit 32 as a result of recognizing the voice of second speaker 12, and the third character string obtained by converting the voice of first speaker 11 in the first language output from first translation circuit 33 into the second language, to first display circuit 25.</p>
<p id="p0142" num="0142">Translation device 20 processes the voices of first speaker 11 and second speaker 12 as described above.</p>
<p id="p0143" num="0143">According to the above, the output signal to be input to first voice recognition circuit 31 is only the output signal obtained by removing the influences of second echo 14, third echo 15, and second crosstalk 18 from the voice that has entered into first microphone 21, i.e., only the voice of first speaker 11 with acoustic noise removed therefrom. Moreover, the first translated voice to be output from first loudspeaker 22 is only the output signal obtained by removing the influences of second echo 14, third echo 15, and second crosstalk 18 from the voice that has entered into first microphone 21, i.e., only the voice of first speaker 11 with acoustic noise removed therefrom.</p>
<p id="p0144" num="0144">The output signal to be input to second voice recognition circuit 32 is only the output signal obtained by removing the influences of first echo 13, fourth echo 16, and first crosstalk 17 from the voice that has entered into second microphone 23, i.e., only the voice of second speaker 12 with acoustic noise removed therefrom. Moreover, the second translated voice to be output from second loudspeaker 24 is only the output signal obtained by removing the influences of first echo 13, fourth echo 16, and first crosstalk 17 from the voice that has entered into second microphone 23, i.e., only the voice of second speaker 12 with acoustic noise removed therefrom.<!-- EPO <DP n="43"> --></p>
<p id="p0145" num="0145">It goes without saying that the degree to which the acoustic noise is removed depends on factors such as the accuracy of the transfer functions stored in first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first crosstalk canceller 80, and second crosstalk canceller 90, or parameters in the formula for the updating of the transfer functions given by Expressions 3, 6, 9, 12, 15, and 18 above.</p>
<p id="p0146" num="0146">Control circuit 37 also causes first echo canceller 40, second echo canceller 50, third echo canceller 60, and fourth echo canceller 70 to update their transfer function under fixed conditions. Flowcharts for such updating will be described hereinafter.</p>
<p id="p0147" num="0147"><figref idref="f0003">FIG. 3</figref> is a flowchart for updating the transfer functions of first echo canceller 40 and third echo canceller 60.</p>
<p id="p0148" num="0148">As described above, control circuit 37 outputs the information on the period of output of the first translated voice from first voice synthesis circuit 35 to first echo canceller 40 and third echo canceller 60. Control circuit 37 determines whether or not first voice synthesis circuit 35 is outputting the first translated voice (step S100).</p>
<p id="p0149" num="0149">Then, if the answer in step S100 is YES, control circuit 37 causes first echo canceller 40 and third echo canceller 60 to update their transfer function (step S101).</p>
<p id="p0150" num="0150">If the answer in step S100 is NO, control circuit 37 ends the processing.</p>
<p id="p0151" num="0151">As described above, control circuit 37 causes the transfer functions to be updated based on the formulas for the updating of the transfer functions given by Expressions 3 and 9 above during the periods in which first echo 13 and third echo 15 are present.</p>
<p id="p0152" num="0152"><!-- EPO <DP n="44"> --> <figref idref="f0003">FIG. 4</figref> is a flowchart for updating the transfer functions of second echo canceller 50 and fourth echo canceller 70.</p>
<p id="p0153" num="0153">As described above, control circuit 37 outputs the information on the period of output of the second translated voice from second voice synthesis circuit 36 to second echo canceller 50 and fourth echo canceller 70. Control circuit 37 determines whether or not second voice synthesis circuit 36 is outputting the second translated voice (step S200).</p>
<p id="p0154" num="0154">Then, if the answer in step S200 is YES, control circuit 37 causes second echo canceller 50 and fourth echo canceller 70 to update their transfer function (step S201).</p>
<p id="p0155" num="0155">If the answer in step S200 is NO, control circuit 37 ends the processing.</p>
<p id="p0156" num="0156">As described above, control circuit 37 causes the transfer functions to be updated based on the formulas for the updating of the transfer functions given by Expressions 6 and 12 above during the periods in which second echo 14 and fourth echo 16 are present.</p>
<p id="p0157" num="0157">In Embodiment 1 illustrated in <figref idref="f0001">FIG. 1</figref>, conversations are held under conditions in which first microphone 21 and second loudspeaker 24 are close to each other in distance and second microphone 23 and first loudspeaker 22 are close to each other in distance. Thus, first echo 13 and second echo 14 have great influence. As a result, first echo canceller 40 and second echo canceller 50 are highly important and become essential constituent elements.</p>
<p id="p0158" num="0158">On the other hand, if the distance between first microphone 21 and second loudspeaker 24 increases and the distance between second microphone 23 and first loudspeaker 22 increases, first echo 13 and second echo 14 will have less influence. Thus, first echo canceller 40 and second echo canceller 50 may not be highly<!-- EPO <DP n="45"> --> important and may not be essential constituent elements. In that case, a configuration is also possible in which first echo canceller 40 and second echo canceller 50 are omitted from the configuration according to Embodiment 1 illustrated in <figref idref="f0002">FIG. 2</figref>. That is, the output signal of first microphone 21 is input to third echo canceller 60 without the intervention of second echo canceller 50, and the output signal of second microphone 23 is input to fourth echo canceller 70 without the intervention of first echo canceller 40.</p>
<p id="p0159" num="0159">Although not shown, translation device 20 may further include a first voice sex-determination circuit and a second voice sex-determination circuit, in addition to the configuration according to Embodiment 1 illustrated in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0160" num="0160">The first voice sex-determination circuit determines the sex of first speaker 11 on the basis of the first voice.</p>
<p id="p0161" num="0161">The second voice sex-determination circuit determines the sex of second speaker 12 on the basis of the second voice.</p>
<p id="p0162" num="0162">In this case, control circuit 37 may cause first voice synthesis circuit 35 to output a synthesized voice of the same sex as a result of the determination by the first voice sex-determination circuit and may cause second voice synthesis circuit 36 to output a synthesized voice of the same sex as a result of the determination by the second voice sex-determination circuit.</p>
<p id="p0163" num="0163">As illustrated in <figref idref="f0001">FIG. 1</figref>, translation device 20 according to Embodiment 1 includes first camera 291 and second camera 292. Although not shown, translation device 20 may further include a first face recognition circuit, a second face recognition circuit, and a database for storing a pair of each speaker and the language of the speaker.</p>
<p id="p0164" num="0164">First camera 291 captures an image of the face of the first<!-- EPO <DP n="46"> --> speaker. First camera 291 outputs a first image signal to the first face recognition circuit.</p>
<p id="p0165" num="0165">Second camera 292 captures the face of the second speaker. Second camera 292 outputs a second image signal to the second face recognition circuit.</p>
<p id="p0166" num="0166">The first face recognition circuit specifies first speaker 11 on the basis of the first image signal output from the first camera.</p>
<p id="p0167" num="0167">The second face recognition circuit specifies second speaker 12 on the basis of the second image signal output from the second camera.</p>
<p id="p0168" num="0168">The database stores a pair of each speaker and the language of the speaker.</p>
<p id="p0169" num="0169">In this case, when the language of first speaker 11 specified by the first face recognition circuit is registered in the database, control circuit 37 may notify first voice recognition circuit 31, first translation circuit 33, second translation circuit 34, and first voice synthesis circuit 35 of the first language of first speaker 11, and when the language of second speaker 12 specified by the second face recognition circuit is registered in the database, control circuit 37 may notify second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, and second voice synthesis circuit 36 of the second language of second speaker 12.</p>
<p id="p0170" num="0170">In addition to first camera 291 and second camera 292 described above, translation device 20 may further include a first image sex-determination circuit and a second image sex-determination circuit.</p>
<p id="p0171" num="0171">First camera 291 captures the face of the first speaker. First camera 291 outputs a first image signal to the first image sex-determination<!-- EPO <DP n="47"> --> circuit.</p>
<p id="p0172" num="0172">Second camera 292 captures the face of the second speaker. Second camera 292 outputs a second image signal to the second image sex-determination circuit.</p>
<p id="p0173" num="0173">The first image sex-determination circuit determines the sex of the first speaker on the basis of the first image signal output from first camera 291.</p>
<p id="p0174" num="0174">The second image sex-determination circuit determines the sex of the second speaker on the basis of the second image signal output from second camera 292.</p>
<p id="p0175" num="0175">In this case, control circuit 37 may further cause the first voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the first image sex-determination circuit, and may further cause the second voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the second image sex-determination circuit.</p>
<p id="p0176" num="0176">A configuration is also possible that allows shared use of first memory circuit 42 of first echo canceller 40 and third memory circuit 62 of third echo canceller 60. That is, since the signal stored in first memory circuit 42 of first echo canceller 40 and the signal stored in third memory circuit 62 of third echo canceller 60 are both the output signals of first voice synthesis circuit 35, the number of memory circuits required in portions corresponding to first memory circuit 42 and third memory circuit 62 can be reduced by sharing the use of first memory circuit 42 and third memory circuit 62.</p>
<p id="p0177" num="0177">Moreover, a configuration is also possible that allows shared use of second memory circuit 52 of second echo canceller 50 and fourth memory circuit 72 of fourth echo canceller 70. That is, since the signal stored in second memory circuit 52 of second echo canceller<!-- EPO <DP n="48"> --> 50 and the signal stored in fourth memory circuit 72 of fourth echo canceller 70 are both the output signal of second voice synthesis circuit 36, the number of memory circuits required in portions corresponding to second memory circuit 52 and fourth memory circuit 72 can be reduced by sharing the use of second memory circuit 52 and fourth memory circuit 72.</p>
<heading id="h0021">[1-4. Advantageous Effects]</heading>
<p id="p0178" num="0178">As described above, translation device 20 is a translation device for, in conversations between first speaker 11 and second speaker 12, translating the language of one speaker into the language of the other speaker, and outputting a synthesized voice after amplifying the sound level of the synthesized voice, and includes first microphone 21 that receives input of the first voice of first speaker 11, first voice recognition circuit 31 that recognizes the first voice to output the first character string, first translation circuit 33 that translates the first character string output from first voice recognition circuit 31 into the language of second speaker 12 to output a third character string, first voice synthesis circuit 35 that converts the third character string output from first translation circuit 33 into the first translated voice, first loudspeaker 22 that amplifies the sound level of the first translated voice, second microphone 23 that receives input of the second voice of second speaker 12, second voice recognition circuit 32 that recognizes the second voice to output the second character string, second translation circuit 34 that translates the second character string output from second voice recognition circuit 32 into the language of first speaker 11 to output the fourth character string, second voice synthesis circuit 36 that converts the fourth character string output from second translation circuit 34 into the second translated voice, second loudspeaker 24 that amplifies the sound level of the second translated voice, first echo canceller 40 that, when first echo 13 refers to a phenomenon in which the first translated voice whose sound level has been amplified by first loudspeaker 22 enters into second microphone 23, estimates the first echo signal indicating first echo 13 from the first translated voice and the first transfer<!-- EPO <DP n="49"> --> function corresponding to first echo 13 and removes the first echo signal from the output signal of second microphone 23, second echo canceller 50 that, when second echo 14 refers to a phenomenon in which the second translated voice whose sound level has been amplified by second loudspeaker 24 enters into first microphone 21, estimates the second echo signal indicating second echo 14 from the second translated voice and the second transfer function corresponding to second echo 14 and removes the second echo signal from the output signal of first microphone 21, and control circuit 37. Control circuit 37 causes first echo canceller 40 to update the first transfer function used to estimate the first echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice, and causes second echo canceller 50 to update the second transfer function used to estimate the second echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice.</p>
<p id="p0179" num="0179">Translation device 20 as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Even if the first voice of first speaker 11, the second voice of second speaker 12, the first translated voice from first voice synthesis circuit 35, and the second translated voice from second voice synthesis circuit 36 are present simultaneously, the accuracy of voice recognition of first voice recognition circuit 31 and second voice recognition circuit 32 will not deteriorate because the echo cancellers cancel echo. Moreover, since first echo canceller 40 updates the first transfer function when first voice synthesis circuit 35 is outputting a synthesized voice, the first transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which first echo<!-- EPO <DP n="50"> --> canceller 40 estimates the first transfer function. That is, it is possible to prevent unnecessary updating from corrupting the first transfer function stored in first transfer-function memory circuit 44 of first echo canceller 40 and to improve accuracy in removing the first echo signal. Similarly, since second echo canceller 50 updates the second transfer function when second voice synthesis circuit 36 is outputting a synthesized voice, the second transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which second echo canceller 50 estimates the second transfer function. That is, it is possible to prevent unnecessary updating from corrupting the second transfer function stored in second transfer-function memory circuit 54 of second echo canceller 50 and to the accuracy in removing the second echo signal.</p>
<p id="p0180" num="0180">Translation device 20 may further include, for example, third echo canceller 60 that, when third echo 15 refers to a phenomenon in which the first translated voice whose sound level has been amplified by first loudspeaker 22 enters into first microphone 21, estimates the third echo signal indicating third echo 15 from the first translated voice and the third transfer function corresponding to third echo 15 and removes the third echo signal from the output signal of first microphone 21, and fourth echo canceller 70 that, when fourth echo 16 refers to a phenomenon in which the second translated voice whose sound level has been amplified by second loudspeaker 24 enters into second microphone 23, estimates the fourth echo signal indicating fourth echo 16 from the second translated voice and the fourth transfer function corresponding to fourth echo 16 and removes the fourth echo signal from the output signal of second microphone 23. Control circuit 37 cause third echo canceller 60 to update the third transfer function used to estimate the third echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice, and causes fourth echo canceller 70 to update the fourth transfer function used to estimate the fourth echo signal during a period in which second voice synthesis circuit 36 is outputting the<!-- EPO <DP n="51"> --> second translated voice.</p>
<p id="p0181" num="0181">Translation device 20 as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Moreover, since first echo canceller 40 and third echo canceller 60 update the first transfer function and the third transfer function, respectively, when first voice synthesis circuit 35 is outputting a synthesized voice, the first and third transfer functions are not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which first echo canceller 40 and third echo canceller 60 estimate the first transfer function and the third transfer function. That is, it is possible to prevent unnecessary updating from corrupting the third transfer function stored in third transfer-function memory circuit 64 of third echo canceller 60 and to improve accuracy in removing the third echo signal. Similarly, since second echo canceller 50 and fourth echo canceller 70 update the second transfer function and the fourth transfer function, respectively, when second voice synthesis circuit 36 is outputting a synthesized voice, the second and fourth transfer functions are not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which second echo canceller 50 and fourth echo canceller 70 estimate the second transfer function and the fourth transfer function. That is, it is possible to prevent unnecessary updating from corrupting the fourth transfer function stored in fourth transfer-function memory circuit 74 of fourth echo canceller 70 and to improve accuracy in removing the fourth echo signal.</p>
<p id="p0182" num="0182">Translation device 20 is also, for example, a translation device for, in conversations between first speaker 11 and second speaker 12,<!-- EPO <DP n="52"> --> translating the language of one speaker into the language of the other speaker and outputting a synthesized voice after amplifying the sound level of the synthesized voice, and includes first microphone 21 that receives input of the first voice of first speaker 11, first voice recognition circuit 31 that recognizes the first voice to output a first character string, first translation circuit 33 that translates the first character string output from first voice recognition circuit 31 into the language of second speaker 12 to output a third character string, first voice synthesis circuit 35 that converts the third character string output from first translation circuit 33 into the first translated voice, first loudspeaker 22 that amplifies the sound level of the first translated voice, second microphone 23 that receives input of the second voice of second speaker 12, second voice recognition circuit 32 that recognizes the second voice to output a second character string, second translation circuit 34 that translates the second character string output from second voice recognition circuit 32 into the language of first speaker 11 to output the fourth character string, second voice synthesis circuit 36 that converts the fourth character string signal output from second translation circuit 34 into the second translated voice, second loudspeaker 24 that amplifies the sound level of the second translated voice, third echo canceller 60 that, when third echo 15 refers to a phenomenon in which the first translated voice whose sound level has been amplified by first loudspeaker 22 enters into first microphone 21, estimates the third echo signal indicating third echo 15 from the first translated voice and the third transfer function corresponding to third echo 15 and removes the third echo signal from the output signal of first microphone 21, fourth echo canceller 70 that, when fourth echo 16 refers to a phenomenon the second translated voice whose sound level has been amplified by second loudspeaker 24 enters into second microphone 23, estimates the fourth echo signal indicating fourth echo 16 from the second translated voice and the fourth transfer function corresponding to fourth echo 16 and removes the fourth echo signal from the output signal of second microphone 23, and control circuit 37. Control circuit 37 causes third echo canceller 60 to update the third transfer<!-- EPO <DP n="53"> --> function used to estimate the third echo signal during a period in which first voice synthesis circuit 35 is outputting the first translated voice, and causes fourth echo canceller 70 to update the fourth transfer function used to estimate the fourth echo signal during a period in which second voice synthesis circuit 36 is outputting the second translated voice.</p>
<p id="p0183" num="0183">Translation device 20 as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Moreover, since third echo canceller 60 updates the third transfer function when first voice synthesis circuit 35 is outputting a synthesized voice, the third transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which third echo canceller 60 estimates the third transfer function. That is, it is possible to prevent unnecessary updating from corrupting the third transfer function stored in third transfer-function memory circuit 64 of third echo canceller 60 and to improve accuracy in removing the third echo signal. Similarly, since fourth echo canceller 70 updates the fourth transfer function when second voice synthesis circuit 36 is outputting a synthesized voice, the fourth transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which fourth echo canceller 70 estimates the fourth transfer function. That is, it is possible prevent unnecessary updating from corrupting the fourth transfer function stored in fourth transfer-function memory circuit 74 of fourth echo canceller 70 and to improve accuracy in removing the fourth echo signal.</p>
<p id="p0184" num="0184">Translation device 20 may further include, for example, first<!-- EPO <DP n="54"> --> crosstalk canceller 80 that, when first crosstalk 17 refers to a phenomenon in which the first voice enters into second microphone 23, estimates the first crosstalk signal indicating first crosstalk 17 from the first voice and removes the first crosstalk signal from the output signal of second microphone 23, and second crosstalk canceller 90 that, when second crosstalk 18 refers to a phenomenon in which the second voice enters into first microphone 21, estimates the second crosstalk signal indicating second crosstalk 18 from the second voice and removes the second crosstalk signal from the output signal of first microphone 21.</p>
<p id="p0185" num="0185">Translation device 20 as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo and crosstalk, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices.</p>
<p id="p0186" num="0186">Translation device 20 may further include, for example, first language selection circuit 27 that receives a selection of the first language used by first speaker 11 from first speaker 11 and notifies control circuit 37 of the selection, and second language selection circuit 28 that receives a selection of the second language used by second speaker 12 from second speaker 12 and notifies control circuit 37 of the selection. On the basis of the first language notified from first language selection circuit 27 and the second language notified from second language selection circuit 28, control circuit 37 causes first voice recognition circuit 31 to recognize voices in the first language, causes second voice recognition circuit 32 to recognizes voices in the second language, causes first translation circuit 33 to translate the first language into the second language, causes second translation circuit 34 to translate the second language into the first language, causes first voice synthesis circuit 35 to synthesize voices<!-- EPO <DP n="55"> --> in the second language, and causes second voice synthesis circuit 36 to synthesize voices in the first language.</p>
<p id="p0187" num="0187">Translation device 20 as described above is capable of smooth translation and output of the first and second translated voices because languages to be translated are selected in advance.</p>
<p id="p0188" num="0188">Translation device 20 may further include, for example, the first voice sex-determination circuit that determines the sex of first speaker 11 on the basis of the first voice, and the second voice sex-determination circuit that determines the sex of second speaker 12 on the basis of the second voice. Control circuit 37causes first voice synthesis circuit 35 to output a synthesized voice of the same sex as a result of the determination by the first voice sex-determination circuit, and causes second voice synthesis circuit 36 to output a synthesized voice of the same sex as a result of the determination by the second voice sex-determination circuit.</p>
<p id="p0189" num="0189">Translation device 20 as described above is capable outputting the first and second translated voices of the same sexes as the sexes of the speakers.</p>
<p id="p0190" num="0190">Translation device 20 may further include, for example, first camera 291 that captures the face of first speaker 11, the first face recognition circuit that specifies first speaker 11 on the basis of the first image signal output from first camera 291, second camera 292 that captures the face of second speaker 12, the second face recognition circuit that specifies second speaker 12 on the basis of the second image signal output from second camera 292, and the database that stores a pair of each speaker and the language of the speaker. When the language of first speaker 11 specified by the first face recognition circuit is registered in the database, control circuit 37 notifies first voice recognition circuit 31, first translation circuit 33, second translation circuit 34, and first voice synthesis circuit 35 of the first language of first speaker 11, and when the language of<!-- EPO <DP n="56"> --> second speaker 12 specified by the second face recognition circuit is registered in the database, control circuit 37 notifies second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, and second voice synthesis circuit 36 of the second language of second speaker 12.</p>
<p id="p0191" num="0191">Translation device 20 as described above is capable of recognizing persons from images and making a smooth translation to output the first and second translated voices because languages to be translated are registered in advance.</p>
<p id="p0192" num="0192">Translation device 20 may further include, for example, the first image sex-determination circuit that determines the sex of first speaker 11 on the basis of the first image signal output from first camera 291, and the second image sex-determination circuit that determines the sex of second speaker 12 on the basis of the second image signal output from second camera 292. Control circuit 37 causes first voice synthesis circuit 35 to output a synthesized voice of the same sex as a result of the determination by the first image sex-determination circuit, and causes second voice synthesis circuit 36 to output a synthesized voice of the same sex as a result of the determination by the second image sex-determination circuit.</p>
<p id="p0193" num="0193">Translation device 20 as described above is capable of recognizing the sexes of persons from images and outputting the first and second translated voices of the same sexes as the sexes of the speakers.</p>
<p id="p0194" num="0194">The translation method is a translation method for, in conversations between first speaker 11 and second speaker 12, translating the language of one speaker into the language of the other speaker and outputting a synthesized voice after amplifying the sound level of the synthesized voice, and includes a first input step of receiving input of the first voice of first speaker 11, a first voice recognition step of recognizing the first voice to output a first<!-- EPO <DP n="57"> --> character string, a first translation step of translating the first character string output in the first voice recognition step into the language of second speaker 12 to output a third character string, a first voice synthesis step of converting the third character string output in the first translation step into the first translated voice, a first sound-level amplification step of amplifying the sound level of the first translated voice, a second input step of receiving input of the second voice of second speaker 12, a second voice recognition step of recognizing the second voice to output a second character string, a second translation step of translating the second character string output in the second voice recognition step into the language of first speaker 11 to output a fourth character string, a second voice synthesis step of converting the fourth character string output in the second translation step into the second translated voice, a second sound-level amplification step of amplifying the sound level of the second translated voice, a first echo cancelling step of, when first echo 13 refers to a phenomenon in which the first translated voice whose sound level has been amplified in the first sound-level amplification step is received in the second input step, estimating the first echo signal indicating first echo 13 from the first translated voice and the first transfer function corresponding to first echo 13 and removing the first echo signal from the output signal of the second input step, a second echo cancelling step of, when second echo 14 refers to a phenomenon in which the second translated voice whose sound level has been amplified in the second sound-level amplification step is received in the first input step, estimating the second echo signal indicating second echo 14 from the second translated voice and the second transfer function corresponding to second echo 14 and removing the second echo signal from the output signal of the first input step, and a control step of giving an instruction to update the first transfer function used to estimate the first echo signal in the first echo cancelling step during a period in which the first translated voice is being output in the first voice synthesis step, and an instruction to update the second transfer function used to estimate the second echo signal in the second echo cancelling step during a period in which the<!-- EPO <DP n="58"> --> second translated voice is being output in the second voice synthesis step.</p>
<p id="p0195" num="0195">The translation method as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Moreover, since first echo canceller 40 updates the first transfer function when first voice synthesis circuit 35 is outputting a synthesized voice, the first transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which first echo canceller 40 estimates the first transfer function. That is, it is possible to prevent unnecessary updating from corrupting the first transfer function stored in first transfer-function memory circuit 44 of first echo canceller 40 and to improve accuracy in removing the first echo signal. Similarly, since second echo canceller 50 updates the second transfer function when second voice synthesis circuit 36 is outputting a synthesized voice, the second transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which second echo canceller 50 estimates the second transfer function. That is, it is possible to prevent unnecessary updating from corrupting the second transfer function stored in second transfer-function memory circuit 54 of second echo canceller 50 and to improve accuracy in removing the second echo signal.</p>
<p id="p0196" num="0196">The translation method is also a translation method for, in conversations between first speaker 11 and second speaker 12, translating the language of one speaker into the language of the other speaker, and includes a first input step of receiving input of the first voice of first speaker 11, a first voice recognition step of recognizing<!-- EPO <DP n="59"> --> the first voice to output a first character string, a first translation step of translating the first character string output in the first voice recognition step into the language of second speaker 12 to output a third character string, a first voice synthesis step of converting the third character string output in the first translation step into the first translated voice, a first sound-level amplification step of amplifying the sound level of the first translated voice, a second input step of receiving input of the second voice of second speaker 12, a second voice recognition step of recognizing the second voice to output a second character string, a second translation step of translating the second character string output in the second voice recognition step into the language of first speaker 11 to output the fourth character string, a second voice synthesis step of converting the fourth character string output in the second translation step into the second translated voice, a second sound-level amplification step of amplifying the sound level of the second translated voice, a third echo cancelling step of, when third echo 15 refers to a phenomenon in which the first translated voice output in the first sound-level amplification step is received in the first input step, estimating the third echo signal indicating third echo 15 from the first translated voice and the third transfer function corresponding to third echo 15 and removing the third echo signal from the output signal of the first input step, a fourth echo cancelling step of, when fourth echo 16 refers to a phenomenon in which the second translated voice output in the second sound-level amplification step is received in the second input step, estimating the fourth echo signal indicating fourth echo 16 from the second translated voice and the fourth transfer function corresponding to fourth echo 16 and removing the fourth echo signal from the output signal of the second input step, and a control step of giving an instruction to update the third transfer function used to estimate the third echo signal in the third echo cancelling step during a period in which the first translated voice is being output in the first voice synthesis step, and an instruction to update the fourth transfer function used to estimate the fourth echo signal in the fourth echo cancelling step during a period in which the second translated voice<!-- EPO <DP n="60"> --> is being output in the second voice synthesis step.</p>
<p id="p0197" num="0197">The translation method as described above allows conversations between two speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Moreover, since third echo canceller 60 updates the third transfer function when first voice synthesis circuit 35 is outputting a synthesized voice, the third transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which third echo canceller 60 estimates the third transfer function. That is, it is possible to prevent unnecessary updating from corrupting the third transfer function stored in third transfer-function memory circuit 64 of third echo canceller 60 and to improve accuracy in removing the third echo signal. Similarly, since fourth echo canceller 70 updates the fourth transfer function when second voice synthesis circuit 36 is outputting a synthesized voice, the fourth transfer function is not updated unnecessarily when voices other than the synthesized voice are present. This improves the accuracy with which fourth echo canceller 70 estimates the fourth transfer function. That is, it is possible to prevent unnecessary updating from corrupting the fourth transfer function stored in fourth transfer-function memory circuit 74 of fourth echo canceller 70 and to improve accuracy in removing the fourth echo signal.</p>
<heading id="h0022">[1-5. Variations]</heading>
<p id="p0198" num="0198">Although, in the embodiment described above, first transfer-function updating circuit 45 updates the transfer function according to Expression 3 given above, the transfer function may be updated according to a normalized expression as given by Expression 19 or 20 below.<!-- EPO <DP n="61"> --> <maths id="math0019" num="[Expression 19]"><math display="block"><mi>H</mi><mn>1</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>1</mn><mfenced><mi>j</mi></mfenced><mi>t</mi><mo>+</mo><mi>α</mi><mn>1</mn><mo>×</mo><mi>N</mi><mo>×</mo><mi>φ</mi><mn>1</mn><mfenced separators=""><mi>e</mi><msub><mn>2</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>1</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced><mo>/</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="|" close="|" separators=""><mo>×</mo><mn>1</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0019" file="imgb0019.tif" wi="143" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0199" num="0199">Here, N is the number of transfer functions stored in first transfer-function memory circuit 44, and |x1(t-i)| is the absolute value of x1(t-i).<maths id="math0020" num="[Expression 20]"><math display="block"><mi>H</mi><mn>1</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>1</mn><mfenced><mi>j</mi></mfenced><mi>t</mi><mo>+</mo><mi>α</mi><mn>1</mn><mo>×</mo><mi>N</mi><mo>×</mo><mi>φ</mi><mn>1</mn><mfenced separators=""><mi>e</mi><msub><mn>1</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>1</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced><mo>/</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mrow><mo>×</mo><mn>1</mn><msup><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced><mn>2</mn></msup></mrow></mstyle></math><img id="ib0020" file="imgb0020.tif" wi="142" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0200" num="0200">This allows first transfer-function updating circuit 45 to stably update the estimated transfer function without depending on the amplitude of the input signal × (t-j).</p>
<heading id="h0023">[Embodiment 2]</heading>
<p id="p0201" num="0201">Embodiment 1 has described the cases where the first language of first speaker 11 and the second language of second speaker 12 are different languages. On the other hand, Embodiment 2 describes a configuration suitable for the case where the first language of first speaker 11 and the second language of second speaker 12 are the same language.</p>
<p id="p0202" num="0202">First, Embodiment 2 differs from Embodiment 1 in that the translation function and the function of outputting translated voices are unnecessary.</p>
<p id="p0203" num="0203">As will be described later, another difference is that a phenomenon called howling becomes an issue. Howling refers to a phenomenon in which the voice output from one speaker for outputting the voice of one speaker comes back and enters into a<!-- EPO <DP n="62"> --> microphone for receiving input of the voice of the same speaker. Specifically, a phenomenon in which the voice output from first loudspeaker 22 comes back and enters into first microphone 21 is defined herein as first howling 15a, and a phenomenon in which the voice output from second loudspeaker 24 comes back and enters into second microphone 23 is defined as second howling 16a.</p>
<heading id="h0024">[2-1. Configuration]</heading>
<p id="p0204" num="0204"><figref idref="f0004">FIG. 5</figref> is a block diagram illustrating a configuration of translation device 20a according to Embodiment 2. More specifically, <figref idref="f0004">FIG. 5</figref> is a block diagram illustrating a configuration for use in the case where the first language of first speaker 11 set by first language selection circuit 27 and the second language of second speaker 12 set by second language selection circuit 28 are the same language. In Embodiment 2, constituent elements that are common to those according to Embodiment 1 are given the same reference signs, and detailed descriptions thereof shall be omitted.</p>
<p id="p0205" num="0205"><figref idref="f0004">FIG. 5</figref> differs from <figref idref="f0002">FIG. 2</figref> in that first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36 become unnecessary because the first language and the second language are the same language.</p>
<p id="p0206" num="0206">The voice of first speaker 11 is picked up by first microphone 21 and output from first loudspeaker 22 via first howling canceller 60a and second echo/second crosstalk canceller 90a, which will be described later. Thus, the input of first microphone 21 and the output of first loudspeaker 22 are the same voice of first speaker 11 (i.e., non-translated voice of first speaker 11), and accordingly third echo 15 in Embodiment 1 alters into first howling 15a. Therefore, third echo canceller 60 functions as first howling canceller 60a.</p>
<p id="p0207" num="0207">The voice of second speaker 12 is picked up by second microphone 23 and output from second loudspeaker 24 via second howling canceller 70a and first echo/first crosstalk canceller 80a,<!-- EPO <DP n="63"> --> which will be described later. Thus, the input of second microphone 23 and the output of second loudspeaker 24 are the same voice of second speaker 12, (i.e., non-translated voice of second speaker 12), and accordingly fourth echo 16 in Embodiment 1 alters into second howling 16a. Therefore, fourth echo canceller 70 functions as second howling canceller 70a.</p>
<p id="p0208" num="0208">The sound sources of first echo 13a and first crosstalk 17a are the same voice of first speaker 11. Therefore, first crosstalk canceller 80 functions as first echo/first crosstalk canceller 80a. As a result, first echo canceller 40 becomes unnecessary.</p>
<p id="p0209" num="0209">The sound sources of second echo 14a and second crosstalk 18a are the same voice of second speaker 12. Therefore, second crosstalk canceller 90 functions as a second echo/second crosstalk canceller 90a. As a result, second echo canceller 50 becomes unnecessary.</p>
<p id="p0210" num="0210">Alternatively, control circuit 37 may deactivate first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36.</p>
<heading id="h0025">[2-1-1. First Howling Canceller 60a]</heading>
<p id="p0211" num="0211">First howling canceller 60a is a circuit that, when first howling 15a refers to a phenomenon in which the voice output from first loudspeaker 22 comes back and enters into first microphone 21, estimates a first howling signal indicating the degree of first howling 15a and removes the first howling signal from the output signal of first microphone 21. In the present embodiment, first howling canceller 60a is a circuit that removes the first howling signal from the output signal of first microphone 21 and outputs a resultant signal after the removal to second echo/second crosstalk canceller 90a, which will be described later. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.<!-- EPO <DP n="64"> --></p>
<p id="p0212" num="0212">More specifically, first howling canceller 60a includes third transfer-function memory circuit 64, first delay unit 66, third memory circuit 62, third convolution arithmetic unit 63, third subtractor 61, and third transfer-function updating circuit 65. That is, first delay unit 66 is to third echo canceller 60 in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0213" num="0213">Third transfer-function memory circuit 64 stores third transfer functions estimated as the transfer functions of first howling 15a.</p>
<p id="p0214" num="0214">First delay unit 66 delays the output signal of first howling canceller 60a.</p>
<p id="p0215" num="0215">Third memory circuit 62 stores signals output from first delay unit 66.</p>
<p id="p0216" num="0216">Third convolution arithmetic unit 63 generates the first howling signal by convolution of a signal stored in third memory circuit 62 and a third transfer function stored in third transfer-function memory circuit 64. For example, third convolution arithmetic unit 63 is an N-tap finite impulse response (FIR) filter that performs a convolution operation given by Expression 21 below.<maths id="math0021" num="[Expression 21]"><math display="block"><mi>y</mi><mn>7</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>7</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>7</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi><mo>−</mo><mi>τ</mi><mn>1</mn></mfenced></mfenced></mstyle></math><img id="ib0021" file="imgb0021.tif" wi="114" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0217" num="0217">Here, y7'<sub>t</sub> is the first howling signal at time t, N is the number of taps in the FIR filter, H7(i)<sub>t</sub> is the i-th third transfer function among N third transfer functions stored in third transfer-function memory circuit 64 at time t, x7(t-i-τ1) is the (t-i-τ1)-th signal among the signals stored in third memory circuit 62, and τ1 is the delay time caused by first delay unit 66.</p>
<p id="p0218" num="0218"><!-- EPO <DP n="65"> --> Third subtractor 61 removes the first howling signal output from third convolution arithmetic unit 63 from the output signal of first microphone 21 and outputs a resultant signal as the output signal of first howling canceller 60a to second echo/second crosstalk canceller 90a. For example, third subtractor 61 performs a subtraction given by Expression 22 below.<maths id="math0022" num="[Expression 22]"><math display="block"><mi>e</mi><msub><mn>7</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>7</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>7</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0022" file="imgb0022.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0219" num="0219">Here, e7<sub>t</sub> is the output signal of third subtractor 61 at time t, and y7<sub>t</sub> is the output signal of first microphone 21 at time t.</p>
<p id="p0220" num="0220">Third transfer-function updating circuit 65 updates a third transfer function stored in third transfer-function memory circuit 64 on the basis of the output signal of third subtractor 61 and a signal stored in third memory circuit 62. For example, third transfer-function updating circuit 65 updates a third transfer function stored in third transfer-function memory circuit 64 through independent component analysis based on the output signal of third subtractor 61 and a signal stored in third memory circuit 62, as given by Expression 23 below, so that the output signal of third subtractor 61 and the signal stored in third memory circuit 62 become independent of each other.<maths id="math0023" num="[Expression 23]"><math display="block"><mi>H</mi><mn>7</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>7</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>7</mn><mo>×</mo><mi>φ</mi><mn>7</mn><mfenced separators=""><mi>e</mi><msub><mn>7</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>7</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi><mo>−</mo><mi>τ</mi><mn>1</mn></mfenced></math><img id="ib0023" file="imgb0023.tif" wi="128" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0221" num="0221">Here, H7(j)<sub>t+1</sub> is the j-th third transfer function among N third transfer functions stored in third transfer-function memory circuit 64 at time t + 1 (i.e., after the update), H7(j)<sub>t</sub> is the j-th third transfer function among the N third transfer functions stored in third transfer-function memory circuit 64 at time t (i.e. before the update), α7 is a<!-- EPO <DP n="66"> --> seventh step-size parameter for controlling the learning speed for estimating the third transfer function of first howling 15a, and ϕ7 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0222" num="0222">In this way, third transfer-function updating circuit 65 performs nonlinear processing using a nonlinear function on the output signal of third subtractor 61 and multiplies a resultant signal by the signal stored in third memory circuit 62 and the seventh step-size parameter for controlling the learning speed for estimating the third transfer function of first howling 15a so as to calculate a seventh update coefficient. Then, the calculated seventh update coefficient is added to the third transfer function stored in third transfer-function memory circuit 64 to update the third transfer function.</p>
<heading id="h0026">[2-1-2. Second Howling Canceller 70a]</heading>
<p id="p0223" num="0223">Second howling canceller 70a is a circuit that, when second howling 16a refers to a phenomenon in which the voice output from second loudspeaker 24 comes back to and enters into second microphone 23, estimates a second howling signal indicating the degree of second howling 16a and removes the second howling signal from the output signal of second microphone 23. In the present embodiment, second howling canceller 70a is a circuit that removes the second howling signal from the output signal of second microphone 23 and outputs a resultant signal after the removal to first echo/first crosstalk canceller 80a, which will be described later. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0224" num="0224">More specifically, second howling canceller 70a includes fourth transfer-function memory circuit 74, second delay unit 76, fourth memory circuit 72, fourth convolution arithmetic unit 73, fourth subtractor 71, and fourth transfer-function updating circuit 75. That is, second delay unit 76 is added to fourth echo canceller 70 illustrated<!-- EPO <DP n="67"> --> in <figref idref="f0002">FIG. 2</figref>.</p>
<p id="p0225" num="0225">Fourth transfer-function memory circuit 74 stores fourth transfers function estimated as transfer functions of second howling 16a.</p>
<p id="p0226" num="0226">Second delay unit 76 delays the output signal of second howling canceller 70a.</p>
<p id="p0227" num="0227">Fourth memory circuit 72 stores signals output from second delay unit 76.</p>
<p id="p0228" num="0228">Fourth convolution arithmetic unit 73 generates a second howling signal by convolution of a signal stored in fourth memory circuit 72 and a fourth transfer function stored in fourth transfer-function memory circuit 74. For example, fourth convolution arithmetic unit 73 is an N-tap finite impulse response (FIR) filter that performs a convolution operation given by Expression 24 below.<maths id="math0024" num="[Expression 24]"><math display="block"><mi>y</mi><mn>8</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>8</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>8</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi><mo>−</mo><mi>τ</mi><mn>2</mn></mfenced></mfenced></mstyle></math><img id="ib0024" file="imgb0024.tif" wi="114" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0229" num="0229">Here, y8't is the second howling signal at time t, N is the number of taps in the FIR filter, H8(i)<sub>t</sub> is the i-th fourth transfer function among N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t, <i>x8</i>(<i>t-i-τ</i>2) is the (<i>t-i-τ</i>2)-th signal among the signals stored in fourth memory circuit 72, and <i>τ</i>2 is the delay time caused by second delay unit 76.</p>
<p id="p0230" num="0230">Fourth subtractor 71 removes the second howling signal output from fourth convolution arithmetic unit 73 from the output signal of second microphone 23 and outputs a resultant signal as the output signal of second howling canceller 70a to first echo/first crosstalk<!-- EPO <DP n="68"> --> canceller 80a. For example, fourth subtractor 71 performs a subtraction given by Expression 25 below.<maths id="math0025" num="[Expression 25]"><math display="block"><mi>e</mi><msub><mn>8</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>8</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>8</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0025" file="imgb0025.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0231" num="0231">Here, e8<sub>t</sub> is the output signal of fourth subtractor 71 at time t, and y8<sub>t</sub> is the output signal of second microphone 23 at time t.</p>
<p id="p0232" num="0232">Fourth transfer-function updating circuit 75 updates a fourth transfer function stored in fourth transfer-function memory circuit 74 on the basis of the output signal of fourth subtractor 71 and a signal stored in fourth memory circuit 72. For example, fourth transfer-function updating circuit 75 updates a fourth transfer function stored in fourth transfer-function memory circuit 74 through independent component analysis based on the output signal of fourth subtractor 71 and a signal stored in fourth memory circuit 72, as given by Expression 26 below, so that the output signal of fourth subtractor 71 and the signal stored in fourth memory circuit 72 become independent of each other.<maths id="math0026" num="[Expression 26]"><math display="block"><mi>H</mi><mn>8</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>8</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>8</mn><mo>×</mo><mi>φ</mi><mn>8</mn><mfenced separators=""><mi>e</mi><msub><mn>8</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>8</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi><mo>−</mo><mi>τ</mi><mn>2</mn></mfenced></math><img id="ib0026" file="imgb0026.tif" wi="128" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0233" num="0233">Here, H8(j)<sub>t+1</sub> is the j-th fourth transfer function among N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t + 1 (i.e., after the update), H8(j)<sub>t</sub> is the j-th fourth transfer function among the N fourth transfer functions stored in fourth transfer-function memory circuit 74 at time t (i.e. before the update), α8 is an eighth step-size parameter for controlling the learning speed for estimating the fourth transfer function of second howling 16a, and ϕ8 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear<!-- EPO <DP n="69"> --> function, or a signum function (sign function)).</p>
<p id="p0234" num="0234">In this way, fourth transfer-function updating circuit 75 performs nonlinear processing using a nonlinear function on the output signal of fourth subtractor 71 and multiplies a resultant signal stored in fourth memory circuit 72 and the eighth step-size parameter for controlling the learning speed for estimating the fourth transfer function of second howling 16a so as to calculate an eighth update coefficient. Then, the calculated eighth update coefficient is added to the fourth transfer function stored in fourth transfer-function memory circuit 74 to update the fourth transfer function.</p>
<heading id="h0027">[2-1-3. First Echo/First Crosstalk Canceller 80a]</heading>
<p id="p0235" num="0235">First echo/first crosstalk canceller 80a is a circuit that estimates a ninth interfering signal (i.e., first echo/first crosstalk signal) indicating the degree of first echo 13a and the degree of first crosstalk 17a from the output signal of second echo/second crosstalk canceller 90a and removes the ninth interfering signal from the output signal of second howling canceller 70a, first echo 13a being a phenomenon in which the voice output from first loudspeaker 22 circles around and enters into second microphone 23, and first crosstalk 17a being a phenomenon in which the voice of first speaker 11 enters into second microphone 23.</p>
<p id="p0236" num="0236">In the present embodiment, first echo/first crosstalk canceller 80a is a circuit that outputs a signal obtained by the removal of the ninth interfering signal to second voice recognition circuit 32, second echo/second crosstalk canceller 90a, and second loudspeaker 24. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0237" num="0237">More specifically, first echo/first crosstalk canceller 80a includes fifth transfer-function memory circuit 84, fifth memory circuit 82, fifth convolution arithmetic unit 83, fifth subtractor 81, and fifth transfer-function updating circuit 85.<!-- EPO <DP n="70"> --></p>
<p id="p0238" num="0238">Fifth transfer-function memory circuit 84 stores fifth transfer functions estimated as transfer functions that combine first echo 13a and first crosstalk 17a.</p>
<p id="p0239" num="0239">Fifth memory circuit 82 stores the output signal of second echo/second crosstalk canceller 90a.</p>
<p id="p0240" num="0240">Fifth convolution arithmetic unit 83 generates the ninth interfering signal by convolution of a signal stored in fifth memory circuit 82 and a fifth transfer function stored in fifth transfer-function memory circuit 84. For example, fifth convolution arithmetic unit 83 is an N-tap FIR filter that performs a convolution operation given by Expression 27 below.<maths id="math0027" num="[Expression 27]"><math display="block"><mi>y</mi><mn>9</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>9</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>9</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0027" file="imgb0027.tif" wi="110" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0241" num="0241">Here, y9'<sub>t</sub> is the ninth interfering signal at time t, N is the number of taps in the FIR filter, H9(i)<sub>t</sub> is the i-th fifth transfer function among N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t, and <i>x</i>9(<i>t-i</i>) is the (<i>t</i>-<i>i</i>)-th signal among the signals stored in fifth memory circuit 82.</p>
<p id="p0242" num="0242">Fifth subtractor 81 removes the ninth interfering signal output from fifth convolution arithmetic unit 83 from the output signal of second howling canceller 70a and outputs a resultant signal as the output signal of first echo/first crosstalk canceller 80a. For example, fifth subtractor 81 performs a subtraction given by Expression 28 below.<maths id="math0028" num="[Expression 28]"><math display="block"><mi>e</mi><msub><mn>9</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>9</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>9</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0028" file="imgb0028.tif" wi="96" he="13" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="71"> --></p>
<p id="p0243" num="0243">Here, e9<sub>t</sub> is the output signal of fifth subtractor 81 at time t, and y9<sub>t</sub> is the output signal of second howling canceller 70a at time t.</p>
<p id="p0244" num="0244">Fifth transfer-function updating circuit 85 updates a fifth transfer function stored in fifth transfer-function memory circuit 84 on the basis of the output signal of fifth subtractor 81 and a signal stored in fifth memory circuit 82. For example, fifth transfer-function updating circuit 85 updates a fifth transfer function stored in fifth transfer-function memory circuit 84 through independent component analysis based on the output signal of fifth subtractor 81 and a signal stored in fifth memory circuit 82, as given by Expression 29 below, so that the output signal of fifth subtractor 81 and the signal stored in fifth memory circuit 82 become independent of each other.<maths id="math0029" num="[Expression 29]"><math display="block"><mi>H</mi><mn>9</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>9</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>9</mn><mo>×</mo><mi>φ</mi><mn>9</mn><mfenced separators=""><mi>e</mi><msub><mn>9</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>9</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0029" file="imgb0029.tif" wi="124" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0245" num="0245">Here, H9(j)<sub>t+1</sub> is the j-th fifth transfer function among N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t+1 (i.e., after the update), H9(j)<sub>t</sub> is the j-th fifth transfer function among the N fifth transfer functions stored in fifth transfer-function memory circuit 84 at time t (i.e. before the update), α9 is a ninth step-size parameter for controlling the learning speed for estimating the fifth transfer function that combines first echo 13a and first crosstalk 17a, and ϕ9 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0246" num="0246">In this way, fifth transfer-function updating circuit 85 performs nonlinear processing using a nonlinear function on the output signal of fifth subtractor 81 and multiplies a resultant signal by the signal stored in fifth memory circuit 82 and the ninth step-size parameter<!-- EPO <DP n="72"> --> for controlling the learning speed for estimating the fifth transfer function that combines first echo 13a and first crosstalk 17a so as to calculate a fifth update coefficient. Then, the calculated fifth update coefficient is added to the fifth transfer function stored in fifth transfer-function memory circuit 84 to update the fifth transfer function.</p>
<p id="p0247" num="0247">Translation device 20 according to the present embodiment is designed such that, for the voice of first speaker 11 at one time, the time when the output signal of second echo/second crosstalk canceller 90a is input to first echo/first crosstalk canceller 80a is the same as or earlier than the time when the output of second howling canceller 70a is input to first echo/first crosstalk canceller 80a. That is, causality is defined so as to allow first echo/first crosstalk canceller 80a to cancel first crosstalk 17a. This can be appropriately implemented by taking into consideration factors that determine the time when the output signal of second echo/second crosstalk canceller 90a is input to first echo/first crosstalk canceller 80a (e.g., the rate of A/D conversion, the processing speed of first howling canceller 60a, the processing speed of second echo/second crosstalk canceller 90a) and factors that determine the time when the voice of first speaker 11 enters into second microphone 23 (e.g., a positional relationship between first speaker 11 and second microphone 23).</p>
<heading id="h0028">[2-1-4. Second Echo/Second Crosstalk Canceller 90a]</heading>
<p id="p0248" num="0248">Second echo/second crosstalk canceller 90a is a circuit that estimates a tenth interfering signal (i.e., a second echo/second crosstalk signal) indicating the degree of second echo 14a and the degree of second crosstalk 18a from the output signal of first echo/first crosstalk canceller 80a and removes the tenth interfering signal from the output signal of first howling canceller 60a, second echo 14a being a phenomenon in which the voice output from second loudspeaker 24 circles around and enters into first microphone 21, and second crosstalk 18a being a phenomenon in which the voice of second speaker 12 enters into first microphone 21.<!-- EPO <DP n="73"> --></p>
<p id="p0249" num="0249">In the present embodiment, second echo/second crosstalk canceller 90a is a circuit that outputs a signal obtained by the removal of the first interfering signal to first voice recognition circuit 31, first echo/first crosstalk canceller 80a, and first loudspeaker 22. It is also a digital signal processing circuit that processes digital voice data in a time-base domain.</p>
<p id="p0250" num="0250">More specifically, second echo/second crosstalk canceller 90a includes sixth transfer-function memory circuit 94, sixth memory circuit 92, sixth convolution arithmetic unit 93, sixth subtractor 91, and sixth transfer-function updating circuit 95.</p>
<p id="p0251" num="0251">Sixth transfer-function memory circuit 94 stores sixth transfer functions estimated as transfer functions that combine second echo 14a and second crosstalk 18a.</p>
<p id="p0252" num="0252">Sixth memory circuit 92 stores the output signal of first echo/first crosstalk canceller 80a.</p>
<p id="p0253" num="0253">Sixth convolution arithmetic unit 93 generates the tenth interfering signal by convolution of a signal stored in sixth memory circuit 92 and a sixth transfer function stored in sixth transfer-function memory circuit 94. For example, sixth convolution arithmetic unit 93 is an N-tap FIR filter that performs a convolution operation given by Expression 30 below.<maths id="math0030" num="[Expression 30]"><math display="block"><mi>y</mi><mn>10</mn><msub><mo>'</mo><mi>t</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mfenced open="{" close="}" separators=""><mi>H</mi><mn>10</mn><msub><mfenced><mi>i</mi></mfenced><mi>t</mi></msub><mo>×</mo><mi>x</mi><mn>10</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>i</mi></mfenced></mfenced></mstyle></math><img id="ib0030" file="imgb0030.tif" wi="113" he="21" img-content="math" img-format="tif"/></maths></p>
<p id="p0254" num="0254">Here, y10'<sub>t</sub> is the tenth interfering signal at time t, N is the number of taps in the FIR filter, H10(i)<sub>t</sub> is the i-th sixth transfer function among N sixth transfer functions stored in sixth transfer-function<!-- EPO <DP n="74"> --> memory circuit 94 at time t, and × <i>x</i>10(<i>t</i>-<i>i</i>) is the (t-i)-th signal among the signals stored in sixth memory circuit 92.</p>
<p id="p0255" num="0255">Sixth subtractor 91 removes the tenth interfering signal output from sixth convolution arithmetic unit 93 from the output signal of first howling canceller 60a and outputs a resultant signal as the output signal of second echo/second crosstalk canceller 90a. For example, sixth subtractor 91 performs a subtraction given by Expression 31 below.<maths id="math0031" num="[Expression 31]"><math display="block"><mi>e</mi><msub><mn>10</mn><mi>t</mi></msub><mo>=</mo><mi>y</mi><msub><mn>10</mn><mi>t</mi></msub><mo>−</mo><mi>y</mi><mn>10</mn><msub><mo>'</mo><mi>t</mi></msub></math><img id="ib0031" file="imgb0031.tif" wi="100" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0256" num="0256">Here, e10<sub>t</sub> is the output signal of sixth subtractor 91 at time t, and y10<sub>t</sub> is the output signal of first howling canceller 60a at time t.</p>
<p id="p0257" num="0257">Sixth transfer-function updating circuit 95 updates a sixth transfer function stored in sixth transfer-function memory circuit 94 on the basis of the output signal of sixth subtractor 91 and a signal stored in sixth memory circuit 92. For example, sixth transfer-function updating circuit 95 updates a sixth transfer function stored in sixth transfer-function memory circuit 94 through independent component analysis based on the output signal of sixth subtractor 91 and a signal stored in sixth memory circuit 92, as given by Expression 32 below, so that the output signal of sixth subtractor 91 and the signal stored in sixth memory circuit 92 become independent of each other.<maths id="math0032" num="[Expression 32]"><math display="block"><mi>H</mi><mn>10</mn><msub><mfenced><mi>j</mi></mfenced><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>H</mi><mn>10</mn><msub><mfenced><mi>j</mi></mfenced><mi>t</mi></msub><mo>+</mo><mi>α</mi><mn>10</mn><mo>×</mo><mi>φ</mi><mn>10</mn><mfenced separators=""><mi>e</mi><msub><mn>10</mn><mi>t</mi></msub></mfenced><mo>×</mo><mi>x</mi><mn>10</mn><mfenced separators=""><mi>t</mi><mo>−</mo><mi>j</mi></mfenced></math><img id="ib0032" file="imgb0032.tif" wi="131" he="13" img-content="math" img-format="tif"/></maths></p>
<p id="p0258" num="0258">Here, H10(j)<sub>t+1</sub> is the j-th sixth transfer function among N sixth transfer functions stored in sixth transfer-function memory circuit 94<!-- EPO <DP n="75"> --> at time t + 1 (i.e., after the update), H10(j)<sub>t</sub> is the j-th sixth transfer function among the N sixth transfer functions stored in sixth transfer-function memory circuit 94 at time t (i.e. before the update), α10 is a step-size parameter for controlling the learning speed for estimating the sixth transfer function that combines second echo 14a and second crosstalk 18a, and ϕ10 is a nonlinear function (e.g., a sigmoid function, a hyperbolic tangent function (tanh function), a normalized linear function, or a signum function (sign function)).</p>
<p id="p0259" num="0259">In this way, sixth transfer-function updating circuit 95 performs nonlinear processing using a nonlinear function on the output signal of sixth subtractor 91 and multiplies a resultant signal by the signal stored in sixth memory circuit 92 and a tenth step-size parameter for controlling the learning speed for estimating the sixth transfer function that combines second echo 14a and second crosstalk 18a so as to calculate a sixth update coefficient. Then, the calculated fifth update coefficient is added to the sixth transfer function stored in sixth transfer-function memory circuit 94 to update the sixth transfer function.</p>
<p id="p0260" num="0260">Translation device 20 according to the present embodiment is designed such that, for the voice of second speaker 12 at one time, the time when the output signal of first echo/first crosstalk canceller 80a is input to second echo/second crosstalk canceller 90a is the same as or earlier than the time when the output of first howling canceller 60a is input to second echo/second crosstalk canceller 90a. That is, causality is defined so as to allow second echo/second crosstalk canceller 90a to cancel second crosstalk 18a. This can be appropriately implemented by taking into consideration factors that determine the time when the output signal of first echo/first crosstalk canceller 80a is input to second echo/second crosstalk canceller 90a (e.g., the rate of A/D conversion, the processing speed of second howling canceller 70a, the processing speed of first echo/first crosstalk canceller 80a) and factors that determine the time when the voice of second speaker 12 enters into first microphone 21 (e.g., a<!-- EPO <DP n="76"> --> positional relationship between second speaker 12 and first microphone 21).</p>
<heading id="h0029">[2-2. Operations]</heading>
<p id="p0261" num="0261">Translation device 20a configured as described above according to the present embodiment operates as follows. The following description focuses on differences from translation device 20 described in Embodiment 1.</p>
<p id="p0262" num="0262">First, operations of control circuit 37 will be described.</p>
<p id="p0263" num="0263">First language selection circuit 27 and second language selection circuit 28 respectively receive a selection of the first language used by first speaker 11 from first speaker 11 and a selection of the second language used by second speaker 12 from second speaker 12 and notify control circuit 37 of the selections in advance. As described thus far, the first language and the second language according to Embodiment 2 are the same language.</p>
<p id="p0264" num="0264">Since notified of the fact that the first language and the second language are the same language from first language selection circuit 27 and second language selection circuit 28, control circuit 37 deactivates first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36.</p>
<p id="p0265" num="0265">Next, voices will be described.</p>
<p id="p0266" num="0266">The voice of first speaker 11 enters into first microphone 21. In addition to the voice of first speaker 11, first howling 15a, second echo 14a, and second crosstalk 18a also enter into first microphone 21. First howling canceller 60a removes the first howling signal from the output signal of first microphone 21. The first howling signal is a signal indicating (estimating) the degree of first howling 15a. Thus, the output signal of first howling canceller 60a is the signal obtained<!-- EPO <DP n="77"> --> by removing the influence of first howling 15a from the output signal of first microphone 21.</p>
<p id="p0267" num="0267">Then, second echo/second crosstalk canceller 90a removes the ninth interfering signal from the output signal of first howling canceller 60a. The ninth interfering signal (i.e., second echo/second crosstalk signal) is a signal indicating (estimating) the degree of second echo 14a and second crosstalk 18a. Thus, the output signal of second echo/second crosstalk canceller 90a is the signal obtained by removing the influences of second echo 14a and second crosstalk 18a from the output signal of first howling canceller 60a, and is output to first voice recognition circuit 31, first echo/first crosstalk canceller 80a, and first loudspeaker 22.</p>
<p id="p0268" num="0268">Then, first voice recognition circuit 31 receives input of digital voice data obtained as a result of removing first howling 15a from the voice of first speaker 11 via first howling canceller 60a and removing second echo 14a and second crosstalk 18a from a resultant voice via second echo/second crosstalk canceller 90a. In response to the input digital voice data, first voice recognition circuit 31 outputs a first character string as a result of voice recognition to control circuit 37.</p>
<p id="p0269" num="0269">The signal input to first loudspeaker 22 is output as a voice.</p>
<p id="p0270" num="0270">Similarly, the voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, second howling 16a, first echo 13a, and first crosstalk 17a also enter into second microphone 23. Second howling canceller 70a removes the second howling signal from the output signal of second microphone 23. The second howling signal is a signal indicating (estimating) the degree of second howling 16a. Thus, the output signal of second howling canceller 70a is the signal obtained by removing the influence of second howling 16a from the output signal of second microphone 23.</p>
<p id="p0271" num="0271"><!-- EPO <DP n="78"> --> Then, first echo/first crosstalk canceller 80a removes the tenth interfering signal from the output signal of second howling canceller 70a. The tenth interfering signal (i.e., first echo/first crosstalk signal) is a signal indicating (estimating) the degree of first echo 13a and the degree of first crosstalk 17a. Thus, the output signal of first echo/first crosstalk canceller 80a is the signal obtained by removing the influences of first echo 13a and first crosstalk 17a from the output signal of second howling canceller 70a, and is output to second voice recognition circuit 32, second echo/second crosstalk canceller 90a, and second loudspeaker 24.</p>
<p id="p0272" num="0272">Then, second voice recognition circuit 32 receives input of digital voice data obtained as a result of removing second howling 16a from the voice of second speaker 12 via second howling canceller 70a and removing first echo 13a and first crosstalk 17a from a resultant voice via first echo/first crosstalk canceller 80a. In response to the input digital voice data, second voice recognition circuit 32 outputs a second character string as a result of voice recognition to control circuit 37.</p>
<p id="p0273" num="0273">The signal input to second loudspeaker 24 is output as a voice.</p>
<p id="p0274" num="0274">Control circuit 37 outputs a first character string in the first language and a second character string in the second language to image-signal generation circuit 38, the first character string being output as a result of recognizing the voice of first speaker 11 from first voice recognition circuit 31, and the second character string being output as a result of recognizing the voice of second speaker 12 from second voice recognition circuit 32.</p>
<p id="p0275" num="0275">Image-signal generation circuit 38 outputs the first character string in the first language and the second character string in the second language to first display circuit 25 and second display circuit 26, the first character string being output as a result of recognizing the voice of first speaker 11 from first voice recognition circuit 31,<!-- EPO <DP n="79"> --> and the second character string being output as a result of recognizing the voice of second speaker 12 from second voice recognition circuit 32.</p>
<p id="p0276" num="0276">Translation device 20a processes the voices of first and second speakers 11 and 12 as described above.</p>
<p id="p0277" num="0277">According to the above, the output signal input to be input to first voice recognition circuit 31 is only the output signal obtained by removing the influences of first howling 15a, second echo 14a, and second crosstalk 18a from the voice that has entered into first microphone 21, i.e., only the voice of first speaker 11 with acoustic noise removed therefrom. Moreover, the voice to be output from first loudspeaker 22 is only the output signal obtained by removing the influences of first howling 15a, second echo 14a, and second crosstalk 18a from the voice that has entered into first microphone 21, i.e., only the voice of first speaker 11 with acoustic noise removed therefrom.</p>
<p id="p0278" num="0278">The output signal to be input to second voice recognition circuit 32 is only the output signal obtained by removing the influences of second howling 16a, first echo 13a, and first crosstalk 17a from the voice that has entered into second microphone 23, i.e., only the voice of second speaker 12 with acoustic noise removed therefrom. Moreover, the voice to be output from second loudspeaker 24 is only the output signal obtained by removing the influences of second howling 16a, first echo 13a, and first crosstalk 17a from the voice that has entered into second microphone 23, i.e., only the voice of second speaker 12 with acoustic noise removed therefrom.</p>
<heading id="h0030">[2-3. Advantageous Effects]</heading>
<p id="p0279" num="0279">As described above, translation device 20 includes control circuit 37 that deactivates first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36<!-- EPO <DP n="80"> --> when the first language received by first language selection circuit 27 and the second language received by second language selection circuit 28 are the same language.</p>
<p id="p0280" num="0280">When the first language and the second language are the same language, translation device 20a as described above can improve the processing speed by deactivating first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36. Besides, the translation device is in no need of translation, but is capable of amplifying the sound levels of voices. Therefore, the translation device can assist conversations between two speakers even if first speaker 11 and second speaker 12 are away from each there or even in a noisy environment.</p>
<heading id="h0031">[Embodiment 3]</heading>
<p id="p0281" num="0281">Embodiment 2 has described the case where the first language of first speaker 11 the second language of second speaker 12 are the same language and sound-level amplification is necessary. On the other hand, Embodiment 3 describes a configuration suitable for use in the case where the first language of first speaker 11 and the second language of second speaker 12 are the same language and sound-level amplification is unnecessary.</p>
<p id="p0282" num="0282">Embodiment 3 differs from Embodiment 1 in that the echo cancellers, the translation function, the function of outputting translated voices, and the function of amplifying the sound levels of voices are unnecessary.</p>
<heading id="h0032">[3-1. Configuration]</heading>
<p id="p0283" num="0283"><figref idref="f0005">FIG. 6</figref> is a block diagram illustrating a configuration of translation device 20b according to Embodiment 3. In Embodiment 3, constituent elements that are common to those according to Embodiment 1 are given the same reference signs, and detailed description thereof shall be omitted.<!-- EPO <DP n="81"> --></p>
<p id="p0284" num="0284">Translation device 20b according to Embodiment 3 differs from the translation device according to Embodiment 1 in that, because the first language of first speaker 11 and the second language of second speaker 12 are the same language and sound-level amplification is unnecessary, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, first loudspeaker 22, and second loudspeaker 24 become unnecessary. Moreover, due to the unnecessity of first and second loudspeakers 22 and 24, first echo canceller 40, second echo canceller 50, third echo canceller 60, and fourth echo canceller 70 also become unnecessary because first echo 13, second echo 14, third echo 15, and fourth echo 16 are not generated.</p>
<p id="p0285" num="0285">On the other hand, first display circuit 25 and second display circuit 26 are necessary in order to display the words of first speaker 11 and second speaker 12 as character strings. Moreover, crosstalk occurs due to first microphone 21 and second microphone 23 included in translation device 20b, crosstalk occurs, the crosstalk being a phenomenon in which the voice of one speaker enters into microphones for receiving input of voices of speakers other than the former speaker. Thus, the function of cancelling crosstalk is necessary.</p>
<heading id="h0033">[3-2. Operations]</heading>
<p id="p0286" num="0286">Translation device 20b configured as described above according to the present embodiment operates as follows. The following description focuses on differences from translation device 20 described in Embodiment 1.</p>
<p id="p0287" num="0287">First, operations of control circuit 37 will be described.</p>
<p id="p0288" num="0288">First language selection circuit 27 and second language selection circuit 28 respectively receive a selection of the first language used by first speaker 11 from first speaker 11 and a<!-- EPO <DP n="82"> --> selection of the second language used by second speaker 12 from second speaker 12 and notify control circuit 37 of the selections in advance. As described previously, the first language and the second language are the same language in Embodiment 3. Since sound-level amplification is unnecessary, control circuit 37 deactivates first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, first loudspeaker 22, second loudspeaker 24, first echo canceller 40, second echo canceller 50, third echo canceller 60, and fourth echo canceller 70.</p>
<p id="p0289" num="0289">Next, voices will be described.</p>
<p id="p0290" num="0290">The voice of first speaker 11 enters into first microphone 21. In addition to the voice of first speaker 11, second crosstalk 18 also enters into first microphone 21. Second crosstalk canceller 90 removes the sixth interfering signal (i.e., second crosstalk signal) from the output signal of first microphone 21. The sixth interfering signal is a signal indicating (estimating) the degree of second crosstalk 18. Thus, the output signal of second crosstalk canceller 90 is the signal obtained by removing the influence of second crosstalk 18 from the output signal of first microphone 21, and is output to first voice recognition circuit 31 and first crosstalk canceller 80.</p>
<p id="p0291" num="0291">Then, first voice recognition circuit 31 receives input of digital voice data obtained as a result of removing second crosstalk 18 from the voice of first speaker 11 via second crosstalk canceller 90. In response to the input digital voice data, first voice recognition circuit 31 outputs the first character string as a result of voice recognition to control circuit 37.</p>
<p id="p0292" num="0292">Similarly, the voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, first crosstalk 17 also enters into second microphone 23. First crosstalk<!-- EPO <DP n="83"> --> canceller 80 removes the fifth interfering signal (i.e., first crosstalk signal) from the output signal of second microphone 23. The fifth interfering signal is a signal indicating (estimating) the degree of first crosstalk 17. Thus, the output signal of first crosstalk canceller 80 is the signal obtained by removing the influence of first crosstalk 17 from the output signal of second microphone 23, and is output to second voice recognition circuit 32 and second crosstalk canceller 90.</p>
<p id="p0293" num="0293">Then, second voice recognition circuit 32 receives input of digital voice data obtained as a result of removing first crosstalk 17 from the voice of second speaker 12 via first crosstalk canceller 80. In response to the input digital voice data, second voice recognition circuit 32 outputs the second character string as a result of voice recognition to control circuit 37.</p>
<p id="p0294" num="0294">Control circuit 37 outputs the first character string in the first language and the second character string in the second language to image-signal generation circuit 38, the first character string being output as a result of recognizing the voice of first speaker 11 from first voice recognition circuit 31, and the second character string being output as a result of recognizing the voice of second speaker 12 from second voice recognition circuit 32.</p>
<p id="p0295" num="0295">Image-signal generation circuit 38 outputs the first character string in the first language and the second character string in the second language to first display circuit 25 and second display circuit 26, the first character string being output as a result of recognizing the voice of first speaker 11 from first voice recognition circuit 31, and the second character string being output as a result of voice recognition of second speaker 12 from second voice recognition circuit 32.</p>
<p id="p0296" num="0296">Translation device 20b processes the voices of first and second speakers 11 and 12 as described above.</p>
<p id="p0297" num="0297"><!-- EPO <DP n="84"> --> According to the above, the output signal to be input to first voice recognition circuit 31 is only the output signal obtained by removing the influence of second crosstalk 18 from the voice that has entered into first microphone 21, i.e., only the voice of first speaker 11 with acoustic noise removed therefrom. The output signal to be input to second voice recognition circuit 32 is only the output signal obtained by removing the influence of first crosstalk 17 from the voice that has entered into second microphone 23, i.e., only the voice of second speaker 12 with acoustic noise removed therefrom.</p>
<heading id="h0034">[3-3. Advantageous Effects]</heading>
<p id="p0298" num="0298">When the first language and the second language are the same language and sound-level amplification is unnecessary, translation device 20b as described above can increase the processing speed by deactivating first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35 second voice synthesis circuit 36, first loudspeaker 22, and second loudspeaker 24.</p>
<heading id="h0035">[4-1. Selection of Configuration]</heading>
<p id="p0299" num="0299">Embodiments 1 to 3 have thus far described configurations that are determined to be selected depending on whether or not translation is necessary and whether or not sound-level amplification is necessary.</p>
<p id="p0300" num="0300"><figref idref="f0006">FIG. 7</figref> is a flowchart for selecting an optimum configuration via control circuit 37 from Embodiments 1 to 3.</p>
<p id="p0301" num="0301">First, first language selection circuit 27 receives a selection of the first language used by first speaker 11 from first speaker 11 (step S300). First language selection circuit 27 further notifies control circuit 37 of the received first language.</p>
<p id="p0302" num="0302">Second language selection circuit 28 receives a selection of the<!-- EPO <DP n="85"> --> second language used by second speaker 12 from second speaker 12 (step S301). Second language selection circuit 28 further notifies control circuit 37 of the received second language.</p>
<p id="p0303" num="0303">Control circuit 37 determines whether the first language received by first language selection circuit 27 and the second language received by second language selection circuit 28 are the same language (step S302).</p>
<p id="p0304" num="0304">If the first language received by first language selection circuit 27 and the second language received by second language selection circuit 28 are different languages (NO in step S302), control circuit 37 runs the functions of each constituent element so as to set up the configuration according to Embodiment 1 (step S303).</p>
<p id="p0305" num="0305">If the first language received by first language selection circuit 27 and the second language received by second language selection circuit 28 are the same language (YES in step S302), control circuit 37 determines whether or not sound-level amplification is necessary (step S304).</p>
<p id="p0306" num="0306">If sound-level amplification is necessary (YES in step S304), control circuit 37 runs the function of each constituent element so as to set up the configuration according to Embodiment 2 (step S305).</p>
<p id="p0307" num="0307">If sound-level amplification is unnecessary (NO in step S304), control circuit 37 runs the function of each constituent element so as to set up the configuration according to Embodiment 3 (step S306).</p>
<p id="p0308" num="0308">The determination in S304 as to whether or not sound-level amplification is necessary may be made by control circuit 37, or may be made by either first speaker 11 or second speaker 12. If the determination is made by first speaker 11 or second speaker 12, a switch for setting the necessity and unnecessity of sound-level amplification may be provided in the vicinity of one of first language<!-- EPO <DP n="86"> --> selection circuit 27, second language selection circuit 28, first display circuit 25, and second display circuit 26.</p>
<heading id="h0036">[Embodiment 4]</heading>
<p id="p0309" num="0309">In Embodiment 1, first language selection circuit 27 and second language selection circuit 28 select the languages used by first speaker 11 and second speaker 12. On the other hand, Embodiment 4 describes a new configuration in which the translation device additionally has the function of identifying the languages used by first and second speakers 11 and 12 by the voices of first and second speakers 11 and 12.</p>
<heading id="h0037">[5-1. Configuration]</heading>
<p id="p0310" num="0310"><figref idref="f0007">FIG. 8</figref> is a block diagram illustrating a configuration of translation device 20c according to Embodiment 4. In Embodiment 4, constituent elements that are common to those according to Embodiment 1 are given the same reference signs, and detailed descriptions thereof shall be omitted.</p>
<p id="p0311" num="0311">Translation device 20c according to Embodiment 4 includes first language identification circuit 311 and second language identification circuit 321 in addition to the configuration according to Embodiment 1. Alternatively, the translation device may not include first language selection circuit 27 and second language selection circuit 28.</p>
<p id="p0312" num="0312">First language identification circuit 311 identifies the first language by the first voice and notifies control circuit 37 of the result. That is, the first language used by first speaker 11 is identified by the first voice of first speaker 11. For example, first voice recognition circuit 31 recognizes the first voice of first speaker 11 and outputs the first character string also to first language identification circuit 311.</p>
<p id="p0313" num="0313">Second-language identification circuit 321 identifies the second language by the second voice and notifies control circuit 37 of the<!-- EPO <DP n="87"> --> result. That is, the second language used by second speaker 12 is identified by the second voice of second speaker 12. For example, second voice recognition circuit 32 recognizes the second voice of second speaker 12 and outputs the second character string also to second language identification circuit 321.</p>
<p id="p0314" num="0314">On the basis of the first language identified by first language identification circuit 311 and the second language identified by second language identification circuit 321, control circuit 37 may cause first voice recognition circuit 31 to recognize voices in the first language, cause second voice recognition circuit 32 to recognize voices in the second language, cause first translation circuit 33 to translate the first language into the second language, cause second translation circuit 34 to translate the second language into the first language, cause first voice synthesis circuit 35 to synthesize voices in the second language, and cause second voice synthesis circuit 36 to synthesize voices in the first language.</p>
<heading id="h0038">[5-2. Operations]</heading>
<p id="p0315" num="0315">Translation device 20c configured as described above according to the present embodiment operates as follows. The following description focuses on differences from translation device 20 described in Embodiment 1.</p>
<p id="p0316" num="0316">As described previously, translation device 20c according to Embodiment 4 differs from translation device 20 according to Embodiment 1 in that first language selection circuit 27 and second language selection circuit 28 are omitted, and first language identification circuit 311 and second language identification circuit 321 are additionally provided.</p>
<p id="p0317" num="0317">Thus, languages will not be selected in advance using first language selection circuit 27 and second language selection circuit 28.</p>
<p id="p0318" num="0318">The voice of first speaker 11 enters into first microphone 21.<!-- EPO <DP n="88"> --> In addition to the voice of first speaker 11, the same acoustic noise as that in Embodiment 1 enters into first microphone 21. The processing until the output signal of first microphone 21 reaches first voice recognition circuit 31 and first crosstalk canceller 80 is the same as the processing described in Embodiment 1. As a result, the digital voice data to be input to first voice recognition circuit 31 and first crosstalk canceller 80 is the same as the digital voice data described in Embodiment 1. That is, first voice recognition circuit 31 and first crosstalk canceller 80 receive input of the digital voice data obtained as a result of removing second echo 14 from the voice of first speaker 11 via second echo canceller 50, removing third echo 15 from a resultant voice via third echo canceller 60, and removing second crosstalk 18 from resultant voice via second crosstalk canceller 90. First voice recognition circuit 31 notifies first language identification circuit 311 of the input digital voice data.</p>
<p id="p0319" num="0319">The voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, the same acoustic noise as that in Embodiment 1 enters into second microphone 23. The processing until the output signal of second microphone 23 reaches second voice recognition circuit 32 and second crosstalk canceller 90 is the same as the processing described in Embodiment 1. As a result, the digital voice data to be input to second voice recognition circuit 32 and second crosstalk canceller 90 is the same as the digital voice data described in Embodiment 1. That is, second voice recognition circuit 32 and second crosstalk canceller 90 receive input of the digital voice data obtained as a result of removing first echo 13 from the voice of second speaker 12 via first echo canceller 40, removing fourth echo 16 from a resultant voice via fourth echo canceller 70, and removing first crosstalk 17 from a resultant voice via first crosstalk canceller 80. Second voice recognition circuit 32 notifies second language identification circuit 321 of the input digital voice data.</p>
<p id="p0320" num="0320">Then, first language identification circuit 311 identifies the first<!-- EPO <DP n="89"> --> language on the basis of the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0321" num="0321">Second language identification circuit 321 identifies the second language on the basis of the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0322" num="0322">Then, control circuit 37 indicates the first language notified from first language identification circuit 311 to first voice recognition circuit 31, first translation circuit 33, second translation circuit 34, and first voice synthesis circuit 35, and indicates the second language notified from second language identification circuit 321 to second voice recognition circuit 32, first translation circuit 33, second translation circuit 34, and second voice synthesis circuit 36.</p>
<p id="p0323" num="0323">Then, in response to the input digital voice data, first voice recognition circuit 31 outputs the first character string as a result of voice recognition to first translation circuit 33 and control circuit 37 on the basis of information on the first language of first speaker 11 indicated by control circuit 37.</p>
<p id="p0324" num="0324">Moreover, in response to the input digital voice data, second voice recognition circuit 32 outputs the second character string as a result of voice recognition to second translation circuit 34 and control circuit 37 on the basis of information on the second language of second speaker 12 indicated by control circuit 37.</p>
<p id="p0325" num="0325">Then, first translation circuit 33 converts the first character string in the first language of first speaker 11 indicated by control circuit 37 and output from first voice recognition circuit 31 into the third character string in the second language of second speaker 12, and outputs the third character string to first voice synthesis circuit 35 and control circuit 37.</p>
<p id="p0326" num="0326">Moreover, second translation circuit 34 converts the second<!-- EPO <DP n="90"> --> character string in the second language of second speaker 12 indicated by control circuit 37 and output from second voice recognition circuit 32 into the fourth character string in the first language of first speaker 11, and outputs the fourth character string to second voice synthesis circuit 36 and control circuit 37.</p>
<p id="p0327" num="0327">At this time, the character strings received by first voice synthesis circuit 35, second voice synthesis circuit 36, and control circuit 37 are the same as the character strings described in Embodiment 1, and therefore the following processing procedure is the same as the procedure described in Embodiment 1.</p>
<heading id="h0039">[5-3. Advantageous Effects]</heading>
<p id="p0328" num="0328">As described above, translation device 20c further includes first language identification circuit 311 that identifies the first language by the first voice and notifies control circuit 37 of the result, and second language identification circuit 321 that identifies the second language by the second voice and notifies control circuit 37 of the result. On the basis of the first language identified by first language identification circuit 311 and the second language identified by second language identification circuit 321, control circuit 37 causes first voice recognition circuit 31 to recognize voices in the first language, causes second voice recognition circuit 32 to recognize voices in the second language, causes first translation circuit 33 to translate the first language into the second language, causes second translation circuit 34 to translate the second language into the first language, causes first voice synthesis circuit 35 to synthesize voices in the second language, and causes second voice synthesis circuit 36 to synthesize voices in the first language.</p>
<p id="p0329" num="0329">Translation device 20c as described above eliminates the need for speakers to use language selection circuits and makes translation simpler.</p>
<heading id="h0040">[Embodiment 5]</heading><!-- EPO <DP n="91"> -->
<p id="p0330" num="0330">Embodiment 2 has described a configuration suitable for use in the case where first and second speakers 11 and 12 select languages to be used, and the first language of first speaker 11 and the second language of second speaker 12 are the same language. Embodiment 4 has described a configuration in which the translation device additionally has the function of identifying the languages used by first and second speakers 11 and 12 by the voices of first and second speakers 11 and 12.</p>
<p id="p0331" num="0331">In view of this, Embodiment 5 describes a configuration suitable for use in the case where, in the configuration according to Embodiment 4, the first language of first speaker 11 and the second language of second speaker 12 are the same language as in Embodiment 2.</p>
<heading id="h0041">[6-1. Configuration]</heading>
<p id="p0332" num="0332"><figref idref="f0008">FIG. 9</figref> is a block diagram illustrating a configuration of translation device 20d according to Embodiment 5. In Embodiment 5, constituent elements that are common to those of Embodiments 2 and 4 are given the same reference signs, and detailed descriptions thereof shall get omitted.</p>
<p id="p0333" num="0333">Translation device 20d according to Embodiment 5 further includes first language identification circuit 311 and second language identification circuit 321 described in Embodiment 4, in addition to the configuration according to Embodiment 2.</p>
<p id="p0334" num="0334">Moreover, control circuit 37 may deactivate first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36.</p>
<heading id="h0042">[6-2. Operations]</heading>
<p id="p0335" num="0335">Translation device 20d configured as described above according to the present embodiment operates as follows. The following<!-- EPO <DP n="92"> --> description focuses on differences from translation device 20a described in Embodiment 2.</p>
<p id="p0336" num="0336">As described thus far, translation device 20d according to Embodiment 5 differs from translation device 20a according to Embodiment 2 in that first language selection circuit 27 and second language selection circuit 28 are omitted, and first language identification circuit 311 and second language identification circuit 321 are additionally provided.</p>
<p id="p0337" num="0337">Thus, languages will not be selected in advance using first language selection circuit 27 and second language selection circuit 28.</p>
<p id="p0338" num="0338">First, operations of control circuit 37 will be described.</p>
<p id="p0339" num="0339">Embodiment 5 described herein is suitable for use in the case where the first language of first speaker 11 and the second language of second speaker 12 are the same language in [5-2. Operations] described in Embodiment 4. In the configuration according to Embodiment 4, control circuit 37 is notified of the fact that the first language and the second language are the same language from first language identification circuit 311 and second language identification circuit 321. Thus, control circuit 37 according to Embodiment 5 deactivates first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36.</p>
<p id="p0340" num="0340">Next, voices will be described.</p>
<p id="p0341" num="0341">The voice of first speaker 11 enters into first microphone 21. In addition to the voice of first speaker 11, the same acoustic noise as that in Embodiment 2 also enters into first microphone 21. The processing until the output signal of first microphone 21 reaches first voice recognition circuit 31, first loudspeaker 22, and first echo/first crosstalk canceller 80a is the same as the processing described in<!-- EPO <DP n="93"> --> Embodiment 2. As a result, the digital voice data to be input to first voice recognition circuit 31, first loudspeaker 22, and first echo/first crosstalk canceller 80a is the same as the digital voice data described in Embodiment 2. That is, first voice recognition circuit 31, first loudspeaker 22, and first echo/first crosstalk canceller 80a receive input of the digital voice data obtained as a result of removing first howling 15a from the voice of first speaker 11 via first howling canceller 60a and removing second echo 14a and second crosstalk 18a from a resultant voice via second echo/second crosstalk canceller 90a.</p>
<p id="p0342" num="0342">In response to the input digital voice data, first voice recognition circuit 31 outputs the first character string as a result of voice recognition to control circuit 37 and first language identification circuit 311.</p>
<p id="p0343" num="0343">Then, first language identification circuit 311 identifies the first language by the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0344" num="0344">The voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, the same acoustic noise as that in Embodiment 2 also enters second microphone 23. The processing until the output signal of second microphone 23 reaches second voice recognition circuit 32, second loudspeaker 24, and second echo/second crosstalk canceller 90a is the same as the processing described in Embodiment 2. As a result, the digital voice data to be input to second voice recognition circuit 32, second loudspeaker 24, and second echo/second crosstalk canceller 90a is the same as the digital voice data described in Embodiment 2. That is, second voice recognition circuit 32, second loudspeaker 24, and second echo/second crosstalk canceller 90a receive input of the digital voice data obtained as a result of removing second howling 16a from the voice of second speaker 12 via second howling canceller 70a and removing first echo 13a and first crosstalk 17a from a resultant voice<!-- EPO <DP n="94"> --> via first echo/first crosstalk canceller 80a.</p>
<p id="p0345" num="0345">In response to the input digital voice data, second voice recognition circuit 32 outputs the second character string as a result of voice recognition to control circuit 37 and second language identification circuit 321.</p>
<p id="p0346" num="0346">Moreover, second language identification circuit 321 identifies the second language by the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0347" num="0347">As described thus far, the first language and the second language are the same language in Embodiment 5. That is, the translation function and the function of outputting translated voices become unnecessary.</p>
<p id="p0348" num="0348">At this time, the signals received by first loudspeaker 22, second loudspeaker 24, control circuit 37, first echo/first crosstalk canceller 80a, and second echo/second crosstalk canceller 90a are the same as the signals described in Embodiment 2, and therefore the following processing procedure is the same as the procedure described in Embodiment 2.</p>
<heading id="h0043">[6-3. Advantageous Effects]</heading>
<p id="p0349" num="0349">As described above, translation device 20d includes control circuit 37 that deactivates first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36 when the first language identified by first language identification circuit 311 and the second language identified by second language identification circuit 321 are the same languages.</p>
<p id="p0350" num="0350">Translation device 20d as described above eliminates the need for speakers to use language selection circuits and makes translation simpler. Moreover, when the first language and the second language<!-- EPO <DP n="95"> --> are the same language, the translation device can increase the processing speed by deactivating first echo canceller 40, second echo canceller 50, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, and second voice synthesis circuit 36.</p>
<heading id="h0044">[Embodiment 6]</heading>
<p id="p0351" num="0351">Embodiment 3 has described a configuration suitable for use in the case where languages to be used by first and second speakers 11 and 12 are selected, the first language of first speaker 11 and the second language of second speaker 12 are the same language, and sound-level amplification is unnecessary. Moreover, Embodiment 4 has described a configuration in which the translation device additionally has the function of identifying languages used by first and second speakers 11 and 12 by the voices of first and second speakers 11 and 12.</p>
<p id="p0352" num="0352">In view of this, Embodiment 6 describes a configuration suitable for use in the case where, in the configuration according to Embodiment 4, the first language of first speaker 11 and the second language of second speaker 12 are the same and sound-level amplification is unnecessary as in Embodiment 3.</p>
<heading id="h0045">[7-1. Configuration]</heading>
<p id="p0353" num="0353"><figref idref="f0009">FIG. 10</figref> is a block diagram illustrating a configuration of translation device 20e according to Embodiment 6. In Embodiment 6, constituent elements that are common to those in Embodiments 3 and 4 are given the same reference signs, and detailed descriptions thereof shall be omitted.</p>
<p id="p0354" num="0354">Translation device 20e according to Embodiment 6 further include first language identification circuit 311 and second language identification circuit 321 described in Embodiment 4 in addition to the configuration described in Embodiment 3.</p>
<heading id="h0046">[7-2. Operations]</heading><!-- EPO <DP n="96"> -->
<p id="p0355" num="0355">Translation device 20e configured as described above according to the present embodiment operates as follows. The following description focuses on differences from translation device 20b described in Embodiment 3.</p>
<p id="p0356" num="0356">As described thus far, translation device 20e according to Embodiment 6 differs from translation device 20b according to Embodiment 3 in that first language selection circuit 27 and second language selection circuit 28 are omitted, and first language identification circuit 311 and second language identification circuit 321 are additionally provided.</p>
<p id="p0357" num="0357">Thus, languages will not be selected in advance using first language selection circuit 27 and second language selection circuit 28.</p>
<p id="p0358" num="0358">First, operations of control circuit 37 will be described.</p>
<p id="p0359" num="0359">Embodiment 6 is applied to the case where the first language of first speaker 11 and the second language of second speaker 12 are the same language and sound-level amplification is unnecessary in [5-2. Operations] described in Embodiment 4. In the configuration described in Embodiment 4, control circuit 37 is notified of the fact that the first language and the second language are the same language from first language identification circuit 311 and second language identification circuit 321. Thus, control circuit 37 according to Embodiment 6 deactivates first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, first loudspeaker 22, second loudspeaker 24, first echo canceller 40, second echo canceller 50, third echo canceller 60, and fourth echo canceller 70.</p>
<p id="p0360" num="0360">Next, voices will be described.</p>
<p id="p0361" num="0361">The voice of first speaker 11 enters into first microphone 21. In addition to the voice of first speaker 11, the same acoustic noise<!-- EPO <DP n="97"> --> as that in Embodiment 3 also enters into first microphone 21. The processing until the output signal of first microphone 21 reaches first voice recognition circuit 31 and first crosstalk canceller 80 is the same as the processing described in Embodiment 3. As a result, digital voice data to be input to first voice recognition circuit 31 and first crosstalk canceller 80 is the same as the digital voice data described in Embodiment 3. That is, first voice recognition circuit 31 and first crosstalk canceller 80 receives input of the digital voice data obtained as a result of removing second crosstalk 18 from the voice of first speaker 11 via second crosstalk canceller 90. In response to the input digital voice data, first voice recognition circuit 31 outputs the first character string as a result of voice recognition to control circuit 37, first language identification circuit 311, and image-signal generation circuit 38.</p>
<p id="p0362" num="0362">Then, first language identification circuit 311 identifies the first language on the basis of the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0363" num="0363">The voice of second speaker 12 enters into second microphone 23. In addition to the voice of second speaker 12, the same acoustic noise as that in Embodiment 3 also enters into second microphone 23. The processing until the output signal of second microphone 23 reaches second voice recognition circuit 32 and second crosstalk canceller 90 is the same as the processing described in Embodiment 3. As a result, digital voice data to be input to second voice recognition circuit 32 and second crosstalk canceller 90 is the same as the digital voice data described in Embodiment 2. That is, second voice recognition circuit 32 and second crosstalk canceller 90 receive input of the digital voice data obtained as a result of removing first crosstalk 17 from the voice of second speaker 12 via first crosstalk canceller 80. In response to the input digital voice data, second voice recognition circuit 32 outputs the second character string as a result of voice recognition to control circuit 37, second language identification circuit 321, and image-signal generation circuit 38.<!-- EPO <DP n="98"> --></p>
<p id="p0364" num="0364">Moreover, second language identification circuit 321 identifies the second language on the basis of the input digital voice data and notifies control circuit 37 of the result.</p>
<p id="p0365" num="0365">At this time, the signals received by control circuit 37, image-signal generation circuit 38, first crosstalk canceller 80, and second crosstalk canceller 90 are the same as the signals described in Embodiment 3, and therefore the following processing procedure is the same as the procedure described in Embodiment 3.</p>
<heading id="h0047">[7-3. Advantageous Effects]</heading>
<p id="p0366" num="0366">Translation device 20e as described above eliminates the need for speakers to use language selection circuits and makes translation simpler. When the first language and the second language are the same language and sound-level amplification is unnecessary, the translation device can increase the processing speed by deactivating first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first translation circuit 33, second translation circuit 34, first voice synthesis circuit 35, second voice synthesis circuit 36, first loudspeaker 22, and second loudspeaker 24.</p>
<heading id="h0048">[Other Embodiments]</heading>
<p id="p0367" num="0367">As described above, Embodiments 1 to 6 are described by way of example of the technique disclosed in the present application. The technique of the present disclosure is, however, not limited to these embodiments and is also applicable to other embodiments obtained by appropriate modifications, replacements, addition, and omission. New embodiments may also be derived from any combination of constituent elements described above in Embodiments 1 to 6.</p>
<p id="p0368" num="0368">Control circuit 37 described above may perform control such that the output of first voice synthesis circuit 35 and the output of second voice synthesis circuit 36 do not overlap in terms of time. By so doing, it is possible to increase the accuracy of all echo cancellers<!-- EPO <DP n="99"> --> in removing unnecessary signals and to improve ease of speaking and hearing for both speakers. Alternatively, control circuit 37 may give higher priority to the output of the synthesized voice of one speaker. For example, higher priority may be given to the output of the synthesized voice of a customer such as first speaker 11 illustrated in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0369" num="0369">In the above description, Embodiments 5 and 6 are applied after the first language of first speaker 11 and the second language of second speaker 12 have been identified as being the same in Embodiment 4, but the present disclosure is not limited to this example. For example, one example of a method is described in which a translation device including first language identification circuit 311 and second language identification circuit 321 described in Embodiments 4 to 6 determines languages to be translated. First, first speaker 11 and second speaker 12 greet each other in their native languages before talking to a main subject that requires translation. In that case, first language identification circuit 311 and second language identification circuit 321 identify languages and notify control circuit 37 of the languages. Then, control circuit 37 instructs first translation circuit 33 and second translation circuit 34 to make translations on the basis of the notified languages, and first translation circuit 33 and second translation circuit 34 determine the languages to be translated. The method described above may be used. Instead of greetings, other words in native languages may be used.</p>
<p id="p0370" num="0370">Moreover, the language of one speaker may be set in advance. For example, the language on the receptionist side such as second speaker 12 illustrated in <figref idref="f0001">FIG. 1</figref> may be set in advance to speed up translation processing.</p>
<p id="p0371" num="0371">Constituent elements that may become unnecessary or unnecessary constituent elements described above may be omitted, or control circuit 37 may deactivate such constituent elements.<!-- EPO <DP n="100"> --></p>
<p id="p0372" num="0372">First voice synthesis circuit 35 and second voice synthesis circuit 36 may have a function of simulating a voice tone of each speaker. The voice tone as used herein refers to, for example, the pitch of the voice. This allows speakers to have conversations naturally.</p>
<p id="p0373" num="0373">Control circuit 37 may cause first echo canceller 40 and third echo canceller 60 to update the first transfer function and the third transfer function only during a period in which first voice synthesis circuit 35 is outputting the first translated voice. Moreover, control circuit 37 may cause second echo canceller 50 and fourth echo canceller 70 to update the second transfer function and the fourth transfer function only during a period in which second voice synthesis circuit 36 is outputting the second translated voice.</p>
<p id="p0374" num="0374">Although translation device 20 illustrated in <figref idref="f0001">FIG. 1</figref> includes two display circuits, namely first display circuit 25 and second display circuit 26, these display circuits may be integrated into a single unit as illustrated in <figref idref="f0010">FIG. 11</figref>.</p>
<p id="p0375" num="0375"><figref idref="f0010">FIG. 11</figref> is a diagram illustrating one example of the condition of use of translation device 20.</p>
<p id="p0376" num="0376">In the example of translation device 20 illustrated in <figref idref="f0010">FIG. 11</figref>, for example, constituent elements described in Embodiment 1 are integrated into a single unit. First display circuit 25 displayed on the side of second speaker 12 shows the words of first speaker in solid characters and shows the words of second speaker 12 in dotted characters, whereas second display circuit 26 displayed on the side of first speaker 11 shows the words of first speaker 11 in dotted characters and shows the words of second speaker 12 in solid characters. The configuration described above allows the words of first and second speakers 11 and 12 to be easily distinguished from each other and improves the visibility of translation device 20 for first<!-- EPO <DP n="101"> --> and second speakers 11 and 12.</p>
<p id="p0377" num="0377">Although Embodiments 1 to 6 has described two-way conversations between first speaker 11 and second speaker 12, the number of speakers is not limited to two. First speaker 11 illustrated in <figref idref="f0001">FIG. 1</figref> is described as a customer, but for example, the number of customers is not limited to one and may be two or more. Translated voices can be output sequentially when a plurality of persons speaks sequentially. It goes without saying that there is not particular limitations on the number of persons on the receptionist side illustrated in <figref idref="f0001">FIG. 1</figref>.</p>
<p id="p0378" num="0378">In the example illustrated in <figref idref="f0010">FIG. 11</figref>, translation device 20 includes the two loudspeakers, namely first loudspeaker 22, on the side of first speaker 11 and second loudspeaker 24 on the side of second speaker 12. Alternatively, the translation device may include only one loudspeaker, and may additionally include a summing circuit that sums the first translated voice output from first voice synthesis circuit 35 and the second translated output from second voice synthesis circuit 36 to output a sum translated voice so that the sum translated voice is output from the aforementioned one loudspeaker.</p>
<p id="p0379" num="0379">In this case, first echo 13 and fourth echo 16 become the same phenomenon. Thus, fourth echo canceller 70 is unnecessary, and only first echo canceller 40 is necessary. Similarly, second echo 14 and third echo 15 become the same phenomenon. Thus, third echo canceller 60 is unnecessary, and only second echo canceller 50 is necessary. The configuration described above can considerably reduce the scale and cost of hardware.</p>
<p id="p0380" num="0380">When a phenomenon in which a sum translated voice whose sound level has been amplified by one loudspeaker enters into second microphone 23 is defined as fifth echo, the fifth echo is the same phenomenon as first echo 13 and fourth echo 16. Thus, a fifth echo canceller with the same configuration and function as those of first<!-- EPO <DP n="102"> --> echo canceller 40 becomes necessary. Moreover, when a phenomenon in which a sum translated voice whose sound level has been amplified by one loudspeaker enters into first microphone 21 is defined as sixth echo, the sixth echo is the same phenomenon as second echo 14 and third echo 15. Thus, a sixth echo canceller with the same configuration and function as those of second echo canceller 50 becomes necessary.</p>
<p id="p0381" num="0381">As described above, translation device 20 is a translation device for, in conversations between first speaker 11 and second speaker 12, translating the language of one speaker into the language of the other speaker and outputting a synthesized voice after amplifying the sound level of the synthesized voice, and includes first microphone 21 that receives input of the first voice of first speaker 11, the first voice recognition circuit that recognizes the first voice to output the first character string, the first translation circuit that translates the first character string output from the first voice recognition circuit into the language of second speaker 12 to output the third character string, the first voice synthesis circuit that converts the third character string output from the first translation circuit into the first translated voice, second microphone 23 that receives input of the second voice of second speaker 12, the second voice recognition circuit that recognizes the second voice to output the second character string, the second translation circuit that translates the second character string output from the second voice recognition circuit into the language of first speaker 11 to output the fourth character string, the second voice synthesis circuit that converts the fourth character string output from the second translation circuit into the second translated voice, the summing circuit that sums the first translated voice output from the first voice synthesis circuit and the second translated voice output from the second voice synthesis circuit to output the sum translated voice, the loudspeaker that amplifies the sound level of the sum translated voice output from the summing circuit, the fifth echo canceller that, when fifth echo refers to a phenomenon in which the sum translated voice whose sound level has<!-- EPO <DP n="103"> --> been amplified by the loudspeaker enters into second microphone 23, estimates a fifth echo signal indicating the fifth echo from the sum translated voice and a fifth transfer function corresponding to the fifth echo and removes the fifth echo signal from the output signal of second microphone 23, the sixth echo canceller that, when sixth echo refers to a phenomenon in which the sum translated voice whose sound level has been amplified by the loudspeaker enters into first microphone 21, estimates a sixth echo signal indicating the sixth echo from the sum translated voice and a sixth transfer function corresponding to the sixth echo and removes the sixth echo signal from the output signal of first microphone 21, and the control circuit. The control circuit causes the fifth echo canceller to update the transfer function used to estimate the fifth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice, and causes the sixth echo canceller to update the transfer function used to emirate the sixth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice.</p>
<p id="p0382" num="0382">Translation device 20 as described above can assist conversations between two or more speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Moreover, since the above-described configuration can be achieved with a small number of constituent elements, it is possible to considerably reduce the scale and cost of hardware.</p>
<p id="p0383" num="0383">Translation device 20 may further include, for example, the first crosstalk canceller that, when first crosstalk refers to a phenomenon<!-- EPO <DP n="104"> --> in which the first voice enters into second microphone 23, estimates the first crosstalk signal indicating the first crosstalk from the first voice and removes the first crosstalk signal from the output signal of second microphone 23, and the second crosstalk canceller that, when second crosstalk refers to a phenomenon in which the second voice enters into first microphone 21, estimates the second crosstalk signal indicating the second crosstalk from the second voice and removes the second crosstalk signal from the output signal of first microphone 21.</p>
<p id="p0384" num="0384">Translation device 20 as described above can assist conversations between two speakers while stably recognizing voices by removing acoustic noise including echo and crosstalk, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices.</p>
<p id="p0385" num="0385">The translation method as described above may be performed by, for example, a processor executing programs. That is, first echo canceller 40, second echo canceller 50, third echo canceller 60, fourth echo canceller 70, first crosstalk canceller 80, and second crosstalk canceller 90 according to the embodiments described above may be implemented by a processor executing programs. The processor includes, in addition to the CPU described above, a digital signal processor (DSP), a micro-processing unit (MP), and a microprocessor.</p>
<p id="p0386" num="0386">The translation method as described above may also be implemented by programs recorded on a computer-readable recording medium such as a ROM or a CD-ROM as described above and the recording medium recording such programs. The translation method described above may also be executed by computer equipment executing the programs described above.</p>
<p id="p0387" num="0387"><!-- EPO <DP n="105"> --> The embodiments described above are merely illustrative examples of the technique according to the present disclosure, and therefore, various modifications, replacement, addition, and omission are possible within the scope of claims or within an equivalent range of the claims.</p>
<heading id="h0049">[Industrial Applicability]</heading>
<p id="p0388" num="0388">The present disclosure is applicable to a translation device for assisting conversations between two or more speakers while stably recognizing voices by removing acoustic noise including echo, even in the case where voices of a plurality of speakers and a plurality of synthesized voices are present simultaneously overlapping one another, the synthesized voices being output as a result of recognizing and translating the voice of each speaker into a language on the other end and synthesizing resultant voices. Specifically, the present disclosure is applicable as a translation device for use in a narrow space range.</p>
<heading id="h0050">[Reference Signs List]</heading>
<p id="p0389" num="0389">
<dl id="dl0001" compact="compact">
<dt>10</dt><dd>counter</dd>
<dt>11</dt><dd>first speaker</dd>
<dt>12</dt><dd>second speaker</dd>
<dt>13, 13a</dt><dd>first echo</dd>
<dt>14, 14a</dt><dd>second echo</dd>
<dt>15</dt><dd>third echo</dd>
<dt>15a</dt><dd>first howling</dd>
<dt>16</dt><dd>fourth echo</dd>
<dt>16a</dt><dd>second howling</dd>
<dt>17, 17a</dt><dd>first crosstalk</dd>
<dt>18, 18a</dt><dd>second crosstalk</dd>
<dt>20, 20a, 20b, 20c, 20d, 20e</dt><dd>translation device</dd>
<dt>21</dt><dd>first microphone</dd>
<dt>22</dt><dd>first loudspeaker</dd>
<dt>23</dt><dd>second microphone</dd>
<dt>24</dt><dd>second loudspeaker<!-- EPO <DP n="106"> --></dd>
<dt>25</dt><dd>first display circuit</dd>
<dt>26</dt><dd>second display circuit</dd>
<dt>27</dt><dd>first language selection circuit</dd>
<dt>28</dt><dd>second language selection circuit</dd>
<dt>31</dt><dd>first voice recognition circuit</dd>
<dt>32</dt><dd>second voice recognition circuit</dd>
<dt>33</dt><dd>first translation circuit</dd>
<dt>34</dt><dd>second translation circuit</dd>
<dt>35</dt><dd>first voice synthesis circuit</dd>
<dt>36</dt><dd>second voice synthesis circuit</dd>
<dt>37</dt><dd>control circuit</dd>
<dt>38</dt><dd>image-signal generation circuit</dd>
<dt>40</dt><dd>first echo canceller</dd>
<dt>41</dt><dd>first subtractor</dd>
<dt>42</dt><dd>first memory circuit</dd>
<dt>43</dt><dd>first convolution arithmetic unit</dd>
<dt>44</dt><dd>first transfer-function memory circuit</dd>
<dt>45</dt><dd>first transfer-function updating circuit</dd>
<dt>50</dt><dd>second echo canceller</dd>
<dt>51</dt><dd>second subtractor</dd>
<dt>52</dt><dd>second memory circuit</dd>
<dt>53</dt><dd>second convolution arithmetic unit</dd>
<dt>54</dt><dd>second transfer-function memory circuit</dd>
<dt>55</dt><dd>second transfer-function updating circuit</dd>
<dt>60</dt><dd>third echo canceller</dd>
<dt>60a</dt><dd>first howling canceller</dd>
<dt>61</dt><dd>third subtractor</dd>
<dt>62</dt><dd>third memory circuit</dd>
<dt>63</dt><dd>third convolution arithmetic unit</dd>
<dt>64</dt><dd>third transfer-function memory circuit</dd>
<dt>65</dt><dd>third transfer-function updating circuit</dd>
<dt>66</dt><dd>first delay unit</dd>
<dt>70</dt><dd>fourth echo canceller</dd>
<dt>70a</dt><dd>second howling canceller</dd>
<dt>71</dt><dd>fourth subtractor<!-- EPO <DP n="107"> --></dd>
<dt>72</dt><dd>fourth memory circuit</dd>
<dt>73</dt><dd>fourth convolution arithmetic unit</dd>
<dt>74</dt><dd>fourth transfer-function memory circuit</dd>
<dt>75</dt><dd>fourth transfer-function updating circuit</dd>
<dt>76</dt><dd>second delay unit</dd>
<dt>80</dt><dd>first crosstalk canceller</dd>
<dt>80a</dt><dd>first echo/first crosstalk canceller</dd>
<dt>81</dt><dd>fifth subtractor</dd>
<dt>82</dt><dd>fifth memory circuit</dd>
<dt>83</dt><dd>fifth convolution arithmetic unit</dd>
<dt>84</dt><dd>fifth transfer-function memory circuit</dd>
<dt>85</dt><dd>fifth transfer-function updating circuit</dd>
<dt>90</dt><dd>second crosstalk canceller</dd>
<dt>90a</dt><dd>second echo/second crosstalk canceller</dd>
<dt>91</dt><dd>sixth subtractor</dd>
<dt>92</dt><dd>sixth memory circuit</dd>
<dt>93</dt><dd>sixth convolution arithmetic unit</dd>
<dt>94</dt><dd>sixth transfer-function memory circuit</dd>
<dt>95</dt><dd>sixth transfer-function updating circuit</dd>
<dt>201</dt><dd>processor</dd>
<dt>291</dt><dd>first camera</dd>
<dt>292</dt><dd>second camera</dd>
<dt>311</dt><dd>first language identification circuit</dd>
<dt>321</dt><dd>second language identification circuit</dd>
</dl></p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="108"> -->
<claim id="c-en-0001" num="0001">
<claim-text>A translation device which, in a conversation between a first speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice, the translation device comprising:
<claim-text>a first microphone that receives input of a first voice of the first speaker;</claim-text>
<claim-text>a first voice recognition circuit that recognizes the first voice to output a first character string;</claim-text>
<claim-text>a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string;</claim-text>
<claim-text>a first voice synthesis circuit that converts the third character string output from the first translation circuit into a first translated voice;</claim-text>
<claim-text>a first loudspeaker that amplifies a sound level of the first translated voice;</claim-text>
<claim-text>a second microphone that receives input of a second voice of the second speaker;</claim-text>
<claim-text>a second voice recognition circuit that recognizes the second voice to output a second character string;</claim-text>
<claim-text>a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string;</claim-text>
<claim-text>a second voice synthesis circuit that converts the fourth character string output from the second translation circuit into a second translated voice;</claim-text>
<claim-text>a second loudspeaker that amplifies a sound level of the second translated voice;</claim-text>
<claim-text>a first echo canceller that, when first echo refers to a phenomenon in which the first translated voice whose sound level has been amplified by the first loudspeaker enters into the second microphone, estimates a first echo signal indicating the first echo<!-- EPO <DP n="109"> --> from the first translated voice and a first transfer function corresponding to the first echo, and removes the first echo signal from an output signal of the second microphone;</claim-text>
<claim-text>a second echo canceller that, when second echo refers to a phenomenon in which the second translated voice whose sound level has been amplified by the second loudspeaker enters into the first microphone, estimates a second echo signal indicating the second echo from the second translated voice and a second transfer function corresponding to the second echo, and removes the second echo signal from an output signal of the first microphone; and</claim-text>
<claim-text>a control circuit,</claim-text>
wherein the control circuit causes:
<claim-text>the first echo canceller to update the first transfer function used to estimate the first echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice; and</claim-text>
<claim-text>the second echo canceller to update the second transfer function used to estimate the second echo signal during a period in which the second voice synthesis circuit is outputting the second translated voice.</claim-text></claim-text></claim>
<claim id="c-en-0002" num="0002">
<claim-text>The translation device according to claim 1, further comprising:
<claim-text>a third echo canceller that, when third echo refers to a phenomenon in which the first translated voice whose sound level has been amplified by the first loudspeaker enters into the first microphone, estimates a third echo signal indicating the third echo from the first translated voice and a third transfer function corresponding to the third echo, and removes the third echo signal from the output signal of the first microphone; and</claim-text>
<claim-text>a fourth echo canceller that, when fourth echo refers to a phenomenon in which the second translated voice whose sound level has been amplified by the second loudspeaker enters into the second microphone, estimates a fourth echo signal indicating the fourth echo from the second translated voice and a fourth transfer function corresponding to the fourth echo, and removes the fourth echo signal<!-- EPO <DP n="110"> --> from the output signal of the second microphone,</claim-text>
wherein the control circuit causes:
<claim-text>the third echo canceller to update the third transfer function used to estimate the third echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice; and</claim-text>
<claim-text>the fourth echo canceller to update the fourth transfer function used to estimate the fourth echo signal during a period in which the second voice synthesis circuit is outputting the second translated voice.</claim-text></claim-text></claim>
<claim id="c-en-0003" num="0003">
<claim-text>A translation device which, in a conversation between a first speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice, the translation device comprising:
<claim-text>a first microphone that receives input of a first voice of the first speaker;</claim-text>
<claim-text>a first voice recognition circuit that recognizes the first voice to output a first character string;</claim-text>
<claim-text>a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string;</claim-text>
<claim-text>a first voice synthesis circuit that converts the third character string output from the first translation circuit into a first translated voice;</claim-text>
<claim-text>a first loudspeaker that amplifies a sound level of the first translated voice;</claim-text>
<claim-text>a second microphone that receives input of a second voice of the second speaker;</claim-text>
<claim-text>a second voice recognition circuit that recognizes the second voice to output a second character string;</claim-text>
<claim-text>a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string;<!-- EPO <DP n="111"> --></claim-text>
<claim-text>a second voice synthesis circuit that converts the fourth character string output from the second translation circuit into a second translated voice;</claim-text>
<claim-text>a second loudspeaker that amplifies a sound level of the second translated voice;</claim-text>
<claim-text>a third echo canceller that, when third echo refers to a phenomenon in which the first translated voice whose sound level has been amplified by the first loudspeaker enters into the first microphone, estimates a third echo signal indicating the third echo from the first translated voice and a third transfer function corresponding to the third echo, and removes the third echo signal from an output signal of the first microphone;</claim-text>
<claim-text>a fourth echo canceller that, when fourth echo refers to a phenomenon in which the second translated voice whose sound level has been amplified by the second loudspeaker enters into the second microphone, estimates a fourth echo signal indicating the fourth echo from the second translated voice and a fourth transfer function corresponding to the fourth echo, and removes the fourth echo signal from an output signal of the second microphone; and</claim-text>
<claim-text>a control circuit,</claim-text>
wherein the control circuit causes:
<claim-text>the third echo canceller to update the third transfer function used to estimate the third echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice; and</claim-text>
<claim-text>the fourth echo canceller to update the fourth transfer function used to estimate the fourth echo signal during a period in which the second voice synthesis circuit is outputting the second translated voice.</claim-text></claim-text></claim>
<claim id="c-en-0004" num="0004">
<claim-text>The translation device according to any one of claims 1 to 3, further comprising:
<claim-text>a first crosstalk canceller that, when first crosstalk refers to a phenomenon in which the first voice enters into the second microphone, estimates a first crosstalk signal indicating the first<!-- EPO <DP n="112"> --> crosstalk from the first voice and removes the first crosstalk signal from the output signal of the second microphone; and</claim-text>
<claim-text>a second crosstalk canceller that, when second crosstalk refers to a phenomenon in which the second voice enters into the first microphone, estimates a second crosstalk signal indicating the second crosstalk from the second voice and removes the second crosstalk signal from the output signal of the first microphone.</claim-text></claim-text></claim>
<claim id="c-en-0005" num="0005">
<claim-text>The translation device according to claim 1 or 2, further comprising:
<claim-text>a first language selection circuit that receives a selection of a first language used by the first speaker from the first speaker and notifies the control circuit of the selection; and</claim-text>
<claim-text>a second language selection circuit that receives a selection of a second language used by the second speaker from the second speaker and notifies the control circuit of the selection,</claim-text>
wherein the control circuit causes:
<claim-text>in accordance with the first language notified from the first language selection circuit and the second language notified from the second language selection circuit,</claim-text>
<claim-text>the first voice recognition circuit to recognize a voice in the first language;</claim-text>
<claim-text>the second voice recognition circuit to recognize a voice in the second language;</claim-text>
<claim-text>the first translation circuit to translate the first language into the second language;</claim-text>
<claim-text>the second translation circuit to translate the second language into the first language;</claim-text>
<claim-text>the first voice synthesis circuit to synthesize a voice in the second language; and</claim-text>
<claim-text>the second voice synthesis circuit to synthesize a voice in the first language.</claim-text></claim-text></claim>
<claim id="c-en-0006" num="0006">
<claim-text><!-- EPO <DP n="113"> --> The translation device according to any one of claims 1, 2, and 5, further comprising:
<claim-text>a first language identification circuit that identifies a first language by the first voice and notifies the control circuit of a result of the identification; and</claim-text>
<claim-text>a second language identification circuit that identifies a second language by the second voice and notifies the control circuit of a result of the identification,</claim-text>
wherein the control circuit causes:
<claim-text>in accordance with the first language identified by the first language identification circuit and the second language identified by the second language identification circuit,</claim-text>
<claim-text>the first voice recognition circuit to recognize a voice in the first language;</claim-text>
<claim-text>the second voice recognition circuit to recognize a voice in the second language;</claim-text>
<claim-text>the first translation circuit to translate the first language into the second language;</claim-text>
<claim-text>the second translation circuit to translate the second language into the first language;</claim-text>
<claim-text>the first voice synthesis circuit to synthesize a voice in the second language; and</claim-text>
<claim-text>the second voice synthesis circuit to synthesize a voice in the first language.</claim-text></claim-text></claim>
<claim id="c-en-0007" num="0007">
<claim-text>The translation device according to claim 5,
<claim-text>wherein when the first language received by the first language selection circuit and the second language received by the second language selection circuit are same,</claim-text>
<claim-text>the control circuit deactivates the first echo canceller, the second echo canceller, the first translation circuit, the second translation circuit, the first voice synthesis circuit, and the second voice synthesis circuit.</claim-text><!-- EPO <DP n="114"> --></claim-text></claim>
<claim id="c-en-0008" num="0008">
<claim-text>The translation device according to claim 6,
<claim-text>wherein when the first language identified by the first language identification circuit and the second language identified by the second language identification circuit are same,</claim-text>
<claim-text>the control circuit deactivates the first echo canceller, the second echo canceller, the first translation circuit, the second translation circuit, the first voice synthesis circuit, and the second voice synthesis circuit.</claim-text></claim-text></claim>
<claim id="c-en-0009" num="0009">
<claim-text>The translation device according to any one of claims 1 to 8, further comprising:
<claim-text>a first voice sex-determination circuit that determines a sex of the first speaker from a first voice; and</claim-text>
<claim-text>a second voice sex-determination circuit that determines a sex of the second speaker from a second voice,</claim-text>
wherein the control circuit causes:
<claim-text>the first voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the first voice sex-determination circuit; and</claim-text>
<claim-text>the second voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the second voice sex-determination circuit.</claim-text></claim-text></claim>
<claim id="c-en-0010" num="0010">
<claim-text>The translation device according to any one of claims 1 to 9, further comprising:
<claim-text>a first camera that captures an image of a face of the first speaker;</claim-text>
<claim-text>a first face recognition circuit that specifies the first speaker in accordance with a first image signal output from the first camera;</claim-text>
<claim-text>a second camera that captures an image of a face of the second speaker;</claim-text>
<claim-text>a second face recognition circuit that specifies the second<!-- EPO <DP n="115"> --> speaker in accordance with a second image signal output from the second camera; and</claim-text>
<claim-text>a database that stores a speaker and a language of the speaker in a pair,</claim-text>
wherein the control circuit:
<claim-text>notifies the first voice recognition circuit, the first translation circuit, the second translation circuit, and the first voice synthesis circuit of a first language of the first speaker when a language of the first speaker identified by the first face recognition circuit is stored in the database; and</claim-text>
<claim-text>notifies the second voice recognition circuit, the first translation circuit, the second translation circuit, and the second voice synthesis circuit of a second language of the second speaker when a language of the second speaker identified by the second face recognition circuit is stored in the database.</claim-text></claim-text></claim>
<claim id="c-en-0011" num="0011">
<claim-text>The translation device according to claim 10, further comprising:
<claim-text>a first image sex-determination circuit that determines a sex of the first speaker from the first image signal output from the first camera; and</claim-text>
<claim-text>a second image sex-determination circuit that determines a sex of the second speaker from the second image signal output from the second camera,</claim-text>
wherein the control circuit causes:
<claim-text>the first voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the first image sex-determination circuit; and</claim-text>
<claim-text>the second voice synthesis circuit to output a synthesized voice of the same sex as a result of the determination by the second image sex-determination circuit.</claim-text></claim-text></claim>
<claim id="c-en-0012" num="0012">
<claim-text>A translation device which, in a conversation between a first<!-- EPO <DP n="116"> --> speaker and a second speaker, translates a language of one speaker into a language of the other speaker and outputs a synthesized voice after amplifying a sound level of the synthesized voice, the translation device comprising:
<claim-text>a first microphone that receives input of a first voice of the first speaker;</claim-text>
<claim-text>a first voice recognition circuit that recognizes the first voice to output a first character string;</claim-text>
<claim-text>a first translation circuit that translates the first character string output from the first voice recognition circuit into a language of the second speaker to output a third character string;</claim-text>
<claim-text>a first voice synthesis circuit that converts the third character string output from the first translation circuit into a first translated voice;</claim-text>
<claim-text>a second microphone that receives input of a second voice of the second speaker;</claim-text>
<claim-text>a second voice recognition circuit that recognizes the second voice to output a second character string;</claim-text>
<claim-text>a second translation circuit that translates the second character string output from the second voice recognition circuit into a language of the first speaker to output a fourth character string;</claim-text>
<claim-text>a second voice synthesis circuit that converts the fourth character string output from the second translation circuit into a second translated voice;</claim-text>
<claim-text>a summing circuit that sums the first translated voice output from the first voice synthesis circuit and the second translated voice output from the second voice synthesis circuit to output a sum translated voice;</claim-text>
<claim-text>a loudspeaker that amplifies a sound level of the sum translated voice output from the summing circuit;</claim-text>
<claim-text>a fifth echo canceller that, when fifth echo refers to a phenomenon in which the sum translated voice whose sound level has been amplified by the loudspeaker enters into the second microphone, emirates a fifth echo signal indicating the fifth echo from the sum translated voice and a fifth transfer function corresponding to the fifth<!-- EPO <DP n="117"> --> echo, and removes the fifth echo signal from an output signal of the second microphone;</claim-text>
<claim-text>a sixth echo canceller that, when sixth echo refers to a phenomenon in which the sum translated voice whose sound level has been amplified by the loudspeaker enters into the first microphone, estimates a sixth echo signal indicating the sixth echo from the sum translated voice and a sixth transfer function corresponding to the sixth echo, and removes the sixth echo signal from an output signal of the first microphone; and</claim-text>
<claim-text>a control circuit,</claim-text>
wherein the control circuit causes:
<claim-text>the fifth echo canceller to update the fifth transfer function used to emirate the fifth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice; and</claim-text>
<claim-text>the sixth echo canceller to update the sixth transfer function used to estimate the sixth echo signal during a period in which the first voice synthesis circuit is outputting the first translated voice or the second voice synthesis circuit is outputting the second translated voice.</claim-text></claim-text></claim>
<claim id="c-en-0013" num="0013">
<claim-text>The translation device according to claim 12, further comprising:
<claim-text>a first crosstalk canceller that, when first crosstalk refers to a phenomenon in which the first voice enters into the second microphone, estimates a first crosstalk signal indicating the first crosstalk from the first voice and removes the first crosstalk signal from the output signal of the second microphone; and</claim-text>
<claim-text>a second crosstalk canceller that, when second crosstalk refers to a phenomenon in which the second voice enters into the first microphone, estimates a second crosstalk signal indicating the second crosstalk from the second voice and removes the second crosstalk signal from the output signal of the first microphone.</claim-text><!-- EPO <DP n="118"> --></claim-text></claim>
<claim id="c-en-0014" num="0014">
<claim-text>A translation method for, in a conversation between a first speaker and a second speaker, translating a language of one speaker into a language of the other speaker and outputting a synthesized voice after amplifying a sound level of the synthesized voice, the translation method comprising:
<claim-text>receiving input of a first voice of the first speaker;</claim-text>
<claim-text>recognizing the first voice to output a first character string;</claim-text>
<claim-text>translating the first character string output in the recognizing of the first voice into a language of the second speaker to output a third character string;</claim-text>
<claim-text>converting the third character string output in the translating of the first character string into a first translated voice;</claim-text>
<claim-text>amplifying a sound level of the first translated voice;</claim-text>
<claim-text>receiving input of a second voice of the second speaker;</claim-text>
<claim-text>recognizing the second voice to output a second character string;</claim-text>
<claim-text>translating the second character string output in the recognizing of the second voice into a language of the first speaker to output a fourth character string;</claim-text>
<claim-text>converting the fourth character string output in the translating of the second character string into a second translated voice;</claim-text>
<claim-text>amplifying a sound level of the second translated voice;</claim-text>
<claim-text>when first echo refers to a phenomenon in which the first translated voice whose sound level has been amplified in the amplifying of the sound level of the first translated voice is received in the receiving of input of the second voice, estimating a first echo signal indicating the first echo from the first translated voice and a first transfer function corresponding to the first echo, and removing the first echo signal from an output signal output in the receiving of input of the second voice;</claim-text>
<claim-text>when second echo refers to a phenomenon in which the second translated voice whose sound level has been amplified in the amplifying of the sound level of the second translated voice is<!-- EPO <DP n="119"> --> received in the receiving of input of the first voice, estimating a second echo signal indicating the second echo from the second translated voice and a second transfer function corresponding to the second echo, and removing the second echo signal from an output signal output in the receiving of input of the first voice; and</claim-text>
<claim-text>giving an instruction to update the first transfer function used to estimate the first echo signal in the estimating of the first echo signal during a period in which the first translated voice is being output in the converting of the third character string, and to update the second transfer function used to estimate the second echo signal in the estimating of the second echo signal during a period in which the second translated voice is being output in the converting of the fourth character string.</claim-text></claim-text></claim>
<claim id="c-en-0015" num="0015">
<claim-text>A translation method for, in a conversation between a first speaker and a second speaker, translating a language of one speaker into a language of the other speaker and outputting a synthesized voice after amplifying a sound level of the synthesized voice, the translation method comprising:
<claim-text>receiving input of a first voice of the first speaker;</claim-text>
<claim-text>recognizing the first voice to output a first character string;</claim-text>
<claim-text>translating the first character string output in the recognizing of the first voice into a language of the second speaker to output a third character string;</claim-text>
<claim-text>converting the third character string output in the translating of the first character string into a first translated voice;</claim-text>
<claim-text>amplifying a sound level of the first translated voice;</claim-text>
<claim-text>receiving input of a second voice of the second speaker;</claim-text>
<claim-text>recognizing the second voice to output a second character string;</claim-text>
<claim-text>translating the second character string output in the recognizing of the second voice into a language of the first speaker to output a fourth character string;</claim-text>
<claim-text>converting the fourth character string output in the translating<!-- EPO <DP n="120"> --> of the second character string into a second translated voice;</claim-text>
<claim-text>amplifying a sound level of the second translated voice;</claim-text>
<claim-text>when third echo refers to a phenomenon in which the first translated voice whose sound level has been amplified in the amplifying of the sound level of the first translated voice is received in the receiving of input of the first voice, estimating a third echo signal indicating the third echo from the first translated voice and a third transfer function corresponding to the third echo, and removing the third echo signal from an output signal output in the receiving of input of the first voice;</claim-text>
<claim-text>when fourth echo refers to a phenomenon in which the second translated voice whose sound level has been amplified in the amplifying of the sound level of the second translated voice is received in the receiving of input of the second voice, estimating a fourth echo signal indicating the fourth echo from the second translated voice and a fourth transfer function corresponding to the fourth echo, and removing the fourth echo signal from an output signal output in the receiving of input of the second voice; and</claim-text>
<claim-text>giving an instruction to update the third transfer function used to estimate the third echo signal in the estimating of the third echo signal during a period in which the first translated voice is being output in the converting of the third character string, and to update the fourth transfer function used to estimate the fourth echo signal in the estimating of the fourth echo signal during a period in which the second translated voice is being output in the converting of the fourth character string.</claim-text></claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="121"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="153" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="122"> -->
<figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="123"> -->
<figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="102" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="124"> -->
<figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="155" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="125"> -->
<figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="126"> -->
<figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="163" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="127"> -->
<figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="128"> -->
<figure id="f0008" num="9"><img id="if0008" file="imgf0008.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="129"> -->
<figure id="f0009" num="10"><img id="if0009" file="imgf0009.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="130"> -->
<figure id="f0010" num="11"><img id="if0010" file="imgf0010.tif" wi="145" he="226" img-content="drawing" img-format="tif"/></figure>
</drawings>
<search-report-data id="srep" lang="en" srep-office="EP" date-produced=""><doc-page id="srep0001" file="srep0001.tif" wi="165" he="231" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="231" type="tif"/></search-report-data>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="JP6311136B"><document-id><country>JP</country><doc-number>6311136</doc-number><kind>B</kind></document-id></patcit><crossref idref="pcit0001">[0003]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
