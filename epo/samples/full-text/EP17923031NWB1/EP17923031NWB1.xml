<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ep-patent-document PUBLIC "-//EPO//EP PATENT DOCUMENT 1.5.1//EN" "ep-patent-document-v1-5-1.dtd">
<!-- This XML data has been generated under the supervision of the European Patent Office -->
<ep-patent-document id="EP17923031B1" file="EP17923031NWB1.xml" lang="en" country="EP" doc-number="3657729" kind="B1" date-publ="20211006" status="n" dtd-version="ep-patent-document-v1-5-1">
<SDOBI lang="en"><B000><eptags><B001EP>ATBECHDEDKESFRGBGRITLILUNLSEMCPTIESILTLVFIROMKCYALTRBGCZEEHUPLSK..HRIS..MTNORS..SM..................</B001EP><B005EP>J</B005EP><B007EP>BDM Ver 2.0.12 (4th of August) -  2100000/0</B007EP></eptags></B000><B100><B110>3657729</B110><B120><B121>EUROPEAN PATENT SPECIFICATION</B121></B120><B130>B1</B130><B140><date>20211006</date></B140><B190>EP</B190></B100><B200><B210>17923031.3</B210><B220><date>20170828</date></B220><B240><B241><date>20200217</date></B241></B240><B250>zh</B250><B251EP>en</B251EP><B260>en</B260></B200><B400><B405><date>20211006</date><bnum>202140</bnum></B405><B430><date>20200527</date><bnum>202022</bnum></B430><B450><date>20211006</date><bnum>202140</bnum></B450><B452EP><date>20210514</date></B452EP></B400><B500><B510EP><classification-ipcr sequence="1"><text>H04W   4/12        20090101AFI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="2"><text>H04W  12/126       20210101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="3"><text>H04W  12/30        20210101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="4"><text>H04W   4/24        20180101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="5"><text>H04L   9/32        20060101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="6"><text>H04W   4/50        20180101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="7"><text>H04W   8/18        20090101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="8"><text>H04W  12/04        20210101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="9"><text>H04W  12/06        20210101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="10"><text>H04W  12/10        20210101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="11"><text>H04M  15/00        20060101ALI20210414BHEP        </text></classification-ipcr><classification-ipcr sequence="12"><text>H04W   8/20        20090101ALI20210414BHEP        </text></classification-ipcr></B510EP><B520EP><classifications-cpc><classification-cpc sequence="1"><text>H04L   9/32        20130101 LI20190403BHEP        </text></classification-cpc><classification-cpc sequence="2"><text>H04M  15/47        20130101 LI20200726BHEP        </text></classification-cpc><classification-cpc sequence="3"><text>H04W  12/10        20130101 LI20200602BHEP        </text></classification-cpc><classification-cpc sequence="4"><text>H04W  12/04        20130101 LI20200602BHEP        </text></classification-cpc><classification-cpc sequence="5"><text>H04W  12/06        20130101 LI20200602BHEP        </text></classification-cpc><classification-cpc sequence="6"><text>H04W   4/24        20130101 LI20200602BHEP        </text></classification-cpc><classification-cpc sequence="7"><text>H04W   8/18        20130101 FI20200602BHEP        </text></classification-cpc><classification-cpc sequence="8"><text>H04W   8/205       20130101 LA20200602BHEP        </text></classification-cpc><classification-cpc sequence="9"><text>H04W  12/35        20210101 LI20210101RHEP        </text></classification-cpc><classification-cpc sequence="10"><text>H04W  12/126       20210101 LI20210101RHEP        </text></classification-cpc><classification-cpc sequence="11"><text>H04W   4/50        20180201 LI20200602BHEP        </text></classification-cpc><classification-cpc sequence="12"><text>H04W   4/12        20130101 LA20200827BHEP        </text></classification-cpc></classifications-cpc></B520EP><B540><B541>de</B541><B542>VERFAHREN ZUR INFORMATIONSÜBERPRÜFUNG UND ENTSPRECHENDE AUSRÜSTUNG</B542><B541>en</B541><B542>INFORMATION VERIFICATION METHOD AND RELATED EQUIPMENT</B542><B541>fr</B541><B542>PROCÉDÉ DE VÉRIFICATION D'INFORMATIONS ET ÉQUIPEMENT ASSOCIÉ</B542></B540><B560><B561><text>EP-A1- 3 073 770</text></B561><B561><text>EP-A2- 2 854 432</text></B561><B561><text>CN-A- 101 141 253</text></B561><B561><text>CN-A- 101 277 297</text></B561><B561><text>CN-A- 101 389 060</text></B561><B561><text>US-A1- 2010 228 973</text></B561><B561><text>US-A1- 2014 329 502</text></B561><B565EP><date>20200626</date></B565EP></B560></B500><B600><B620EP><parent><cdoc><dnum><anum>21191099.7</anum></dnum><date>20210812</date></cdoc></parent></B620EP></B600><B700><B720><B721><snm>FAN, Shunan</snm><adr><str>Huawei Administration Building
Bantian
Longgang District</str><city>Shenzhen
Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>LONG, Shuiping</snm><adr><str>Huawei Administration Building
Bantian
Longgang District</str><city>Shenzhen
Guangdong 518129</city><ctry>CN</ctry></adr></B721><B721><snm>GAO, Linyi</snm><adr><str>Huawei Administration Building
Bantian
Longgang District</str><city>Shenzhen
Guangdong 518129</city><ctry>CN</ctry></adr></B721></B720><B730><B731><snm>Huawei Technologies Co., Ltd.</snm><iid>100970540</iid><irf>EP127466-UW</irf><adr><str>Huawei Administration Building 
Bantian</str><city>Longgang District
Shenzhen, Guangdong 518129</city><ctry>CN</ctry></adr></B731></B730><B740><B741><snm>Grünecker Patent- und Rechtsanwälte 
PartG mbB</snm><iid>100060488</iid><adr><str>Leopoldstraße 4</str><city>80802 München</city><ctry>DE</ctry></adr></B741></B740></B700><B800><B840><ctry>AL</ctry><ctry>AT</ctry><ctry>BE</ctry><ctry>BG</ctry><ctry>CH</ctry><ctry>CY</ctry><ctry>CZ</ctry><ctry>DE</ctry><ctry>DK</ctry><ctry>EE</ctry><ctry>ES</ctry><ctry>FI</ctry><ctry>FR</ctry><ctry>GB</ctry><ctry>GR</ctry><ctry>HR</ctry><ctry>HU</ctry><ctry>IE</ctry><ctry>IS</ctry><ctry>IT</ctry><ctry>LI</ctry><ctry>LT</ctry><ctry>LU</ctry><ctry>LV</ctry><ctry>MC</ctry><ctry>MK</ctry><ctry>MT</ctry><ctry>NL</ctry><ctry>NO</ctry><ctry>PL</ctry><ctry>PT</ctry><ctry>RO</ctry><ctry>RS</ctry><ctry>SE</ctry><ctry>SI</ctry><ctry>SK</ctry><ctry>SM</ctry><ctry>TR</ctry></B840><B860><B861><dnum><anum>CN2017099267</anum></dnum><date>20170828</date></B861><B862>zh</B862></B860><B870><B871><dnum><pnum>WO2019041086</pnum></dnum><date>20190307</date><bnum>201910</bnum></B871></B870></B800></SDOBI>
<description id="desc" lang="en"><!-- EPO <DP n="1"> -->
<heading id="h0001"><b>TECHNICAL FIELD</b></heading>
<p id="p0001" num="0001">This application relates to the field of wireless network technologies, and in particular, to an information verification method and a related device.</p>
<heading id="h0002"><b>BACKGROUND</b></heading>
<p id="p0002" num="0002">Currently, a user may purchase a subscriber identity module (Subscriber Identity Module, SIM) from a communications operator, to obtain a number resource of the operator, so as to be entitled to use a communications service provided by the operator. As technologies and requirements evolve, an embedded universal integrated circuit card (embedded Universal Integrated Circuit Card, eUICC), also referred to as an eSIM (embedded SIM), emerges. The eUICC is a newly defined secure element that is used by a plurality of communications operators to remotely manage a subscriber, and is placed into a terminal in a plug-in manner or a welding manner. A user may select an operator network for user equipment (User Equipment, UE) of the user, and download a profile (Profile) from the operator network. After the profile is downloaded to the eUICC, the user equipment may access the selected operator network by using data provided in the profile. In addition, the user may alternatively select another operator, and download a profile of the another operator to implement a scenario such as a handover between the operator networks. Because internet of things exists in different industries, it is relatively convenient to provide an eUICC for a device in the internet of things, so that the device accesses and uses the network. For example, it is more convenient for a device such as a smart meter or a smart in-vehicle system to use an eUICC to be connected to and authenticated by the network and to<!-- EPO <DP n="2"> --> use the network. Many international and national standard organizations are formulating related standards for an eUICC, mainly including Global System for Mobile Communications Association (Global System for Mobile Communication Association, GSMA) and European Telecommunications Standards Institute (European Telecommunications Standards Institute, ETSI).<br/>
<patcit id="pcit0001" dnum="EP3073770A1"><text>EP3073770A1</text></patcit> discloses a security control method for an eUICC, including: verifying, by an embedded integrated circuit card eUICC, whether a subscription manager-secure routing SM-SR entity is authorized to manage the eUICC; and if yes, establishing, by the eUICC, a secure transmission channel with the SM-SR entity, where the secure transmission channel is used for management interaction of the eUICC; and further discloses an eUICC; for which security of the eUICC can be ensured by the disclosed method.</p>
<p id="p0003" num="0003">In an existing eUICC architecture, the following function definitions are provided: An integrated circuit card identifier (Integrated Circuit Card ID, ICCID) is also referred to as a profile ID, and is used to uniquely identify a profile. An eUICC identifier (eUICC-ID, EID) is used to uniquely identify an eUICC. A profile is a set of file structures, data, applications, and the like, and includes one or more network access applications and corresponding network access credentials, for example, an international mobile subscriber identity and a personal key identity (Key Identity, KI). A subscription manager-data preparing (Subscription Manager-Data Preparing, SM-DP, or Subscription Manager Data Preparation+, SM-DP+) server is also referred to as a profile provisioner or a profile download server, and may create, generate, manage, or transmit a profile based on basic subscription information, such as an international mobile subscriber identity (International Mobile Subscriber Identity, IMSI), provided by a mobile network operator (Mobile Network Operator, MNO). After a profile is downloaded to an eUICC, an MNO may send a remote profile management (Remote Profile Management, RPM) command to manage the downloaded profile, for example, perform operations such as activating, deactivating, deleting, and enumerating an installed profile list and updating a profile-related parameter. However, only a profile owner (Profile Owner, PO) has permission to<!-- EPO <DP n="3"> --> manage the downloaded profile, and whether the MNO is an owner of the profile is not verified. Consequently, a network security problem easily occurs in a network profile management process.</p>
<heading id="h0003"><b>SUMMARY</b></heading>
<p id="p0004" num="0004">This application provides an information verification method and a related device, to resolve a network security problem.<br/>
The invention is disclosed according to the independent claims. The dependent claims recite advantageous embodiments of the invention.</p>
<p id="p0005" num="0005">According to a first aspect, an embodiment of this application provides an information verification method, including: first receiving, by a first profile server, a remote profile management request sent by a remote profile management server, and obtaining a second profile owner identifier in profile information; then determining whether a first profile owner identifier is the same as the second profile owner identifier; and sending, by the first profile server, a remote profile management command to user equipment when the first profile owner identifier is the same as the second profile owner identifier. This prevents a third party from maliciously tampering with profile information that is not possessed by the third party, and avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies a PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be reduced.</p>
<p id="p0006" num="0006">In a possible design, the first profile server may obtain the second profile owner identifier in the profile information from a local memory, or read the second profile owner identifier in the profile information from a storage area of another connected server.</p>
<p id="p0007" num="0007">In another possible design, the first profile server may send a first request to the user equipment, where the first request is used to obtain the second profile<!-- EPO <DP n="4"> --> owner identifier. After receiving the first request, the user equipment sends, to the first profile server, the profile information that carries the second profile owner identifier.</p>
<p id="p0008" num="0008">In another possible design, the first profile server may send a second request to a second profile server, where the second request is used to obtain the second profile owner identifier. After obtaining the second profile owner identifier corresponding to the PO, the second profile server sends, to the first profile server, the profile information that carries the second profile owner identifier.</p>
<p id="p0009" num="0009">In another possible design, after receiving the remote profile management request sent by the remote profile management server, the first profile server may perform verification or identification by using information such as a message header field and an initiator certificate that are in the message sent by the remote profile management server to the first profile server and that are used to identify an initiator, and a PO ID that is carried in the remote profile management request thereby ensuring identity validity of the remote profile management server.</p>
<p id="p0010" num="0010">In another possible design, the first profile server may compare the first profile owner identifier with the second profile owner identifier to verify whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0011" num="0011">In another possible design, when the first profile owner identifier is different from the second profile owner identifier, the first profile server sends a response message to the remote profile management server, where the response message is used to notify the remote profile management server of a verification error.</p>
<p id="p0012" num="0012">In another possible design, the first profile owner identifier and the second profile owner identifier each include at least one of the following: a profile owner identifier that is identifiable to the first profile server, or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0013" num="0013">In another possible design, when the first profile owner identifier includes only the profile owner identifier that is identifiable to the first profile server, the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier needs to be separately compared with the profile owner identifier that is identifiable to the first profile server in the profile information and the profile<!-- EPO <DP n="5"> --> owner identifier that is identifiable to the second profile server in the profile information, to verify whether the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as a profile owner identifier in the profile information. If the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as a profile owner identifier in the profile information, it is determined that the first profile owner identifier is the same as the second profile owner identifier; or if the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is different from any profile owner identifier in the profile information, it is determined that the first profile owner identifier is different from the second profile owner identifier. When the first profile owner identifier includes only the profile owner identifier that is identifiable to the second profile server, a verification method is the same as the foregoing method. Details are not described herein again. When the first profile owner identifier includes both the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server, the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier and the profile owner identifier that is identifiable to the second profile server in the first profile owner identifier need to be respectively compared with the profile owner identifier that is identifiable to the first profile server in the profile information and the profile owner identifier that is identifiable to the second profile server in the profile information. Only when the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as the profile owner identifier that is identifiable to the first profile server in the profile information and the profile owner identifier that is identifiable to the second profile server in the first profile owner identifier is the same as the profile owner identifier that is identifiable to the second profile server in the profile information, it is determined that the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0014" num="0014">In another possible design, the first profile server obtains an identifier correspondence list when the first profile owner identifier is different from the second<!-- EPO <DP n="6"> --> profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier; determines whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and sends the remote profile management command to the user equipment when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list, to further verify the PO.</p>
<p id="p0015" num="0015">In another possible design, the first profile server obtains the identifier correspondence list from the remote profile management server; obtains the identifier correspondence list from the second profile server; or obtains the identifier correspondence list from the local memory.</p>
<p id="p0016" num="0016">In another possible design, the profile owner identifier includes a profile server identifier and a profile owner identifier.</p>
<p id="p0017" num="0017">In another possible design, because the first profile owner identifier includes a profile server identifier and a profile owner identifier, the second profile owner identifier that is identifiable to the first profile server in the profile information may be obtained based on an identifier of the first profile server included in the first profile owner identifier. Alternatively, the second profile owner identifier that is identifiable to the second profile server in the profile information is obtained based on an identifier of the second profile server included in the first profile owner identifier.</p>
<p id="p0018" num="0018">In another possible design, the first profile server is a server configured to manage a profile, and the second profile server is a server configured to download the profile.</p>
<p id="p0019" num="0019">According to a second aspect, an embodiment of this application provides an information verification method, including: receiving, by user equipment, a remote profile management command sent by a first profile server, where the remote profile management command includes a first profile owner identifier; obtaining a second profile owner identifier in profile information; then determining whether the first profile owner identifier is the same as the second profile owner identifier; and finally executing the remote profile management command when the first profile owner<!-- EPO <DP n="7"> --> identifier is the same as the second profile owner identifier. This prevents a third party from maliciously tampering with profile information that is not possessed by the third party, and avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies a PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be reduced.</p>
<p id="p0020" num="0020">In a possible design, the user equipment may first search for the second profile owner identifier in the profile information based on an ICCID carried in the remote profile management command, and compare the first profile owner identifier with the second profile owner identifier to verify whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0021" num="0021">In another possible design, before receiving the remote profile management command sent by the first profile server, the user equipment receives an update message sent by a remote profile management server or a second profile server, where the update message includes an identifier of the first profile server and a corresponding profile owner identifier.</p>
<p id="p0022" num="0022">In another possible design, after receiving the update request sent by the remote profile management server or the second profile server, the user equipment may perform verification or identification may be performed by using information such as a message header field and an initiator certificate that are in the update message and that are used to identify an initiator, and the PO ID that is carried in the update message, thereby ensuring identity validity of the remote profile management server or the second profile server.</p>
<p id="p0023" num="0023">In another possible design, the first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0024" num="0024">In another possible design, the user equipment obtains an identifier correspondence list when the first profile owner identifier is different from the second<!-- EPO <DP n="8"> --> profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier; determines whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and executes the remote profile management command when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</p>
<p id="p0025" num="0025">In another possible design, before receiving the remote profile management command sent by the first profile server, the user equipment receives a first request sent by the first profile server, where the first request is used to obtain the second profile owner identifier; and sends, to the first profile server, the profile information that carries the second profile owner identifier.</p>
<p id="p0026" num="0026">In another possible design, the user equipment may send a response message to the first profile server or the remote profile management server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the remote profile management server of a verification error.</p>
<p id="p0027" num="0027">According to a third aspect, an embodiment of this application provides an information verification method, including: sending, by a remote profile management server, a remote profile management request to a first profile server, where the remote profile management request includes a first profile owner identifier, and the remote profile management request is used to instruct the first profile server to determine whether a second profile owner identifier in profile information is the same as the first profile owner identifier; and sending a remote profile management command to user equipment when the second profile owner identifier is the same as the first profile owner identifier. This prevents a third party from maliciously tampering with profile information that is not possessed by the third party, and avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies a PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network<!-- EPO <DP n="9"> --> resources can be reduced.</p>
<p id="p0028" num="0028">In a possible design, the remote profile management server determines whether the first profile server configured to manage a profile and a second profile server previously configured to download the profile are a same server; and when the first profile server and the second profile server are different servers, the remote profile management server determines a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0029" num="0029">In another possible design, the remote profile management server may configure information about the first profile server in the profile information in advance, and also configure the profile owner identifier that is identifiable to the first profile server; and after completing the configuration, send an update message to the user equipment, where the update message includes an identifier of the first profile server and a corresponding profile owner identifier.</p>
<p id="p0030" num="0030">In another possible design, the first profile owner identifier includes the identifier of the first profile server and a corresponding profile owner identifier that is identifiable to the first profile server, or an identifier of the second profile server and a corresponding profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0031" num="0031">According to a fourth aspect, an embodiment of this application provides a first profile server. The first profile server is configured to implement the method and the functions that are performed by the first profile server in the first aspect. The first profile server is implemented by using hardware/software. The hardware/software of the first profile server includes units corresponding to the foregoing functions.</p>
<p id="p0032" num="0032">According to a fifth aspect, an embodiment of this application provides user equipment. The user equipment is configured to implement the method and the functions that are performed by the user equipment in the second aspect. The user equipment is implemented by using hardware/software. The hardware/software of the user equipment includes units corresponding to the foregoing functions.</p>
<p id="p0033" num="0033">According to a sixth aspect, an embodiment of this application provides a remote profile management server. The remote profile management server is<!-- EPO <DP n="10"> --> configured to implement the method and the functions that are performed by the remote profile management server in the third aspect. The remote profile management server is implemented by using hardware/software. The hardware/software of the remote profile management server includes units corresponding to the foregoing functions.</p>
<p id="p0034" num="0034">According to a seventh aspect, this application provides another first profile server, including a processor, a memory, and a communications bus. The communications bus is configured to implement connection and communication between the processor and the memory, and the processor executes a program stored in the memory, to implement the steps in the information verification method provided in the first aspect.</p>
<p id="p0035" num="0035">In a possible design, the profile server provided in this application may include a corresponding module configured to perform behavior of the profile server in the foregoing method design. The module may be software and/or hardware.</p>
<p id="p0036" num="0036">According to an eighth aspect, this application provides other user equipment, including a processor, a memory, and a communications bus. The communications bus is configured to implement connection and communication between the processor and the memory, and the processor executes a program stored in the memory, to implement the steps in the information verification method provided in the second aspect.</p>
<p id="p0037" num="0037">In a possible design, the user equipment provided in this application may include a corresponding module configured to perform behavior of the user equipment in the foregoing method design. The module may be software and/or hardware.</p>
<p id="p0038" num="0038">According to a ninth aspect, this application provides another remote profile management server, including a processor, a memory, and a communications bus. The communications bus is configured to implement connection and communication between the processor and the memory, and the processor executes a program stored in the memory, to implement the steps in the information verification method provided in the third aspect.</p>
<p id="p0039" num="0039">In a possible design, the remote profile management server provided in<!-- EPO <DP n="11"> --> this application may include a corresponding module configured to perform behavior of the remote profile management server in the foregoing method design. The module may be software and/or hardware.</p>
<p id="p0040" num="0040">According to a tenth aspect, this application provides a computer-readable storage medium, and the computer-readable storage medium stores an instruction. When the instruction runs on a computer, the computer is enabled to perform the methods in the foregoing aspects.</p>
<p id="p0041" num="0041">According to an eleventh aspect, this application provides a computer program product including an instruction. When the computer program product runs on a computer, the computer is enabled to perform the methods in the foregoing aspects.</p>
<heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading>
<p id="p0042" num="0042">To describe the technical solutions in the embodiments of this application or in the background more clearly, the following briefly describes the accompanying drawings required for describing the embodiments of this application or the background.
<ul id="ul0001" list-style="none" compact="compact">
<li><figref idref="f0001">FIG 1</figref> is a schematic structural diagram of an information verification system according to an embodiment of this application;</li>
<li><figref idref="f0002">FIG 2(A)</figref> is a schematic flowchart of an information verification method according to an embodiment of this application;</li>
<li><figref idref="f0002">FIG. 2(B)</figref> is a schematic flowchart of another information verification method according to an embodiment of this application;</li>
<li><figref idref="f0003">FIG. 3</figref> is a schematic flowchart of an information verification method according to an embodiment of this application;</li>
<li><figref idref="f0004">FIG. 4</figref> is a schematic flowchart of an information verification method according to another embodiment of this application;</li>
<li><figref idref="f0005">FIG. 5A</figref> and <figref idref="f0006">FIG. 5B</figref> are a schematic flowchart of an information verification method according to still another embodiment of this application;<!-- EPO <DP n="12"> --></li>
<li><figref idref="f0007">FIG. 6</figref> is a schematic flowchart of an information verification method according to yet another embodiment of this application;</li>
<li><figref idref="f0008">FIG. 7</figref> is a schematic structural diagram of a first profile server according to an embodiment of this application;</li>
<li><figref idref="f0008">FIG. 8</figref> is a schematic structural diagram of user equipment according to an embodiment of this application;</li>
<li><figref idref="f0008">FIG. 9</figref> is a schematic structural diagram of a remote profile management server according to an embodiment of this application;</li>
<li><figref idref="f0009">FIG. 10</figref> is a schematic structural diagram of another first profile server according to this application;</li>
<li><figref idref="f0009">FIG. 11</figref> is a schematic structural diagram of other user equipment according to this application; and</li>
<li><figref idref="f0010">FIG. 12</figref> is a schematic structural diagram of another remote profile management server according to this application.</li>
</ul></p>
<heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading>
<p id="p0043" num="0043">The following describes the embodiments of this application with reference to the accompanying drawings in the embodiments of this application.</p>
<p id="p0044" num="0044"><figref idref="f0001">FIG. 1</figref> is a schematic structural diagram of an information verification system according to an embodiment of this application. The information verification system includes a profile server, a remote profile management (Remote Profile Management, RPM) server, and user equipment (User Equipment, UE). The profile server may include at least one of a subscription manager-data preparing (Subscription Manager-Data Preparing, SM DP, or Subscription Manager-Data Preparing+, SM-DP+) server and a subscription manager discovery server (Subscription Manager Discovery Server, SM-DS). The SM DP+ is an enhanced release of an SM DP server, and is collectively referred to as the SM DP+ below. The SM-DP+ is mainly configured to generate, based on basic subscription information (for example, an international mobile subscriber identity) provided by the remote<!-- EPO <DP n="13"> --> profile management server, a profile that can be downloaded to an eUICC, and the SM-DS is mainly configured to provide one or more SM DP+ addresses for the user equipment. The remote profile management server may be an MNO, an MVNO that purchases and uses a profile provided by an MNO, or an enterprise operation and maintenance server that uses a profile provided by an MNO. For example, a company such as BMW Group or State Grid may configure, for a customer or an employee of the company, a profile management service required for connecting a network. The user equipment may include an eUICC and a local profile assistant (Local Profile Assistant, LPA) module. The eUICC may be embedded in the user equipment, or may be a pluggable eUICC inserted into the user equipment. Alternatively, the eUICC may be implemented by using an eUICC that is embedded in a chip and that is accessed by using a bus. The LPA module is configured to manage profile downloading, and provide a UI interface (for example, a profile installation list) for the user equipment, so that a user can manage (activate, deactivate, delete, or unlock) a local profile in the eUICC. In addition, the user equipment may further retrieve an EID and/or an ICCID by using the LPA module. The LPA module may be a virtual logic module, or may be an entity module, for example, a field programmable gate array. The LPA includes a local discovery service (Local Discovery Service, LDS), local profile download (Local Profile Download, LPD), and a local user interface UI interface (Local User Interface, LUI). The LPA in the user equipment and the LPA in the eUICC may each include one or more of the LDS, the LPD, and the LUI.</p>
<p id="p0045" num="0045">Based on the foregoing architecture of the information verification system, a profile owner (PO) may send a remote profile management command to the SM DP+ or a managing SM DP+ (Managing SM DP+) to manage a downloaded profile. During management of the downloaded profile, it is possible that the profile is previously downloaded by using an SM DP+, and then the profile in the eUICC is managed by using another SM DP+ (Managing SM DP+). If the SM DP+ configured to manage the profile and the SM DP+ configured to download the profile are different servers, an identifier of the managing SM DP+ needs to be first updated to a profile-related parameter, such as profile metadata (Profile Metadata) and profile<!-- EPO <DP n="14"> --> information (Profilelnfo), and then the managing SM DP+ is permitted to send a remote profile management command.</p>
<p id="p0046" num="0046">As shown in <figref idref="f0002">FIG 2(A)</figref>, when an SM DP+ configured to manage a profile and an SM DP+ configured to download the profile are a same server, the SM DP+ and an eUICC authenticate each other, and the SM DP+ and an MNO authenticate each other. Both an MNO1 and an MNO2 have permission to manage the eUICC. However, it is not verified whether the MNO1 and the MNO2 manage respective profiles in the eUICC, either. As shown in <figref idref="f0002">FIG. 2(B)</figref>, when an SM DP+ configured to manage a profile and an SM DP+ configured to download the profile are different servers, the SM DP+ may assign different PO IDs to a same PO; and the SM DP+ may assign a same PO ID to different POs. For example, an SM DP+ of China Mobile in China assigns a PO ID 46001, and an SM DP+ of China Mobile abroad assigns a PO ID CMCC. Alternatively, T-Mobile assigns a PO ID 23430, and EE also assigns the PO ID 23430. In this case, it is not verified whether an MNO1 and an MNO2 manage respective profiles in an eUICC, either. Because a PO is not verified, a third party may maliciously tamper with data in a profile. This affects network security. To resolve the problem, the following solutions are proposed.</p>
<p id="p0047" num="0047"><figref idref="f0003">FIG. 3</figref> is a schematic flowchart of an information verification method according to an embodiment of this application. In this embodiment of this application, a profile server configured to manage a profile and a profile server configured to download the profile are a same server. The method includes but is not limited to the following steps.</p>
<p id="p0048" num="0048">S301. A remote profile management server sends a remote profile management (RPM) request to a profile server. The RPM request includes a first profile owner identifier (PO ID), and the RPM request further includes at least one of an eUICC identifier (EID), a profile identifier (ICCID), and RPM command-related information.</p>
<p id="p0049" num="0049">The first profile owner identifier may include only a profile owner identifier, or may include a profile server identifier and a profile owner identifier. The profile owner identifier may vary with a specific implementation. For example, an<!-- EPO <DP n="15"> --> MNO and an SM DP+ may agree on a profile owner identifier in advance, or an MNO and an SM DP+ may use an identifier of a message initiator between the MNO and the SM DP+ as a profile owner identifier. For another example, State Grid, serving as a company, manages a profile purchased by State Grid from the MNO. In this case, the first profile owner identifier may include a PO ID assigned by the MNO or the SM DP+ to State Grid. Alternatively, a mobile virtual network operator (Mobile Virtual Network Operator, MVNO) purchases a profile from the MNO. In this case, the first profile owner identifier may include a PO ID assigned to the MVNO. This ensures that State Grid or the MVNO manages the profile of State Grid or the MVNO by using the MNO.</p>
<p id="p0050" num="0050">Optionally, after receiving the RPM request sent by the RPM server, the profile server may verify identity validity of the RPM server based on a PO ID carried in the RPM request. Specifically, verification or identification may be performed based on at least one type of information such as a message header field and an initiator certificate that are in the message sent by the RPM server to the profile server and that are used to identify an initiator, and the PO ID that is carried in the RPM request. For example, if the PO ID carried in the RPM request is a PO ID of China Mobile, it is verified whether the initiator of the RPM request is China Mobile. If the initiator of the RPM request is not China Mobile, it is verified that an identity of the initiator is invalid. If the initiator of the RPM request is China Mobile, it is verified that the identity of the initiator is valid. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile. In verification on the identity of the initiator, a verification operation of determining whether the initiator is a valid initiator, a verification operation of judging whether the initiator is a valid initiator, or the like may be performed.</p>
<p id="p0051" num="0051">S302. The profile server obtains a second profile owner identifier in profile information. The following two optional manners are included.</p>
<p id="p0052" num="0052">The first implementation includes the following step:<br/>
S302a. The profile server may obtain the second profile owner identifier in the profile information from a local memory, or read the second profile owner<!-- EPO <DP n="16"> --> identifier in the profile information from a storage area of another connected server. Further, the second profile owner identifier may be obtained by searching, based on a profile ICCID carried in the RPM request, for PO ID information stored in profile-related metadata; or a corresponding profile may be searched for based on the profile ICCID carried in the RPM request, and the second profile owner identifier of the profile is obtained.</p>
<p id="p0053" num="0053">The second implementation includes the following steps.
<ul id="ul0002" list-style="none" compact="compact">
<li>S302b. The profile server may send a first request to user equipment, where the first request is used to obtain the second profile owner identifier, the first request may be a Get ProfileInfo interface command, and the first request may carry at least one of an identifier of a second profile server, an EID, and an ICCID. Specifically, after a secure channel is established between the profile server and the user equipment, the profile server may send the first request to the user equipment through an ES 8+ or ES 9+ interface between the profile server and the user equipment.</li>
<li>S302c. After receiving the first request, the user equipment searches for the corresponding profile information based on the profile ICCID carried in the RPM request, and after finding the corresponding profile information, the user equipment sends, to the profile server, the profile information that carries the second profile owner identifier.</li>
<li>S303. The profile server determines whether the first profile owner identifier is the same as the second profile owner identifier.</li>
</ul></p>
<p id="p0054" num="0054">In specific implementation, the profile server may compare the first profile owner identifier with the second profile owner identifier to verify or determine whether the first profile owner identifier is the same as the second profile owner identifier.
<ul id="ul0003" list-style="none">
<li>S304. The profile server sends an RPM command to the user equipment when the first profile owner identifier is the same as the second profile owner identifier, where the RPM command carries the first profile owner identifier, the EID, and the ICCID.<!-- EPO <DP n="17"> --></li>
<li>S305. The profile server sends a response message to the remote profile management server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</li>
<li>S306. After receiving the RPM command, the user equipment determines whether the first profile owner identifier is the same as the second profile owner identifier.</li>
</ul></p>
<p id="p0055" num="0055">In specific implementation, the user equipment may first search for the second profile owner identifier in the profile information based on the ICCID carried in the RPM command, and compare the first profile owner identifier with the second profile owner identifier to verify whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0056" num="0056">S307. The user equipment executes the RPM command when the first profile owner identifier is the same as the second profile owner identifier. The user equipment may send a response message to the profile server or the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</p>
<p id="p0057" num="0057">In this embodiment of this application, the profile server, serving as both the server configured to download the profile and the server configured to manage the profile, first receives the RPM request sent by the RPM server, and obtains the second profile owner identifier in the profile information, and then determines whether the first profile owner identifier is the same as the second profile owner identifier. The profile server sends the RPM command to the user equipment when the first profile owner identifier is the same as the second profile owner identifier. This not only prevents a third party from maliciously tampering with profile information that is not possessed by the third party, but also avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies a PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be<!-- EPO <DP n="18"> --> reduced.</p>
<p id="p0058" num="0058"><figref idref="f0004">FIG. 4</figref> is a schematic flowchart of an information verification method according to another embodiment of this application. In this embodiment of this application, a first profile server configured to manage a profile and a second profile server configured to download the profile are different servers. The method includes but is not limited to the following steps.</p>
<p id="p0059" num="0059">S401. An RPM server or the second profile server updates profile information to user equipment. This step includes: S401a. The RPM server sends an update message to the user equipment. S401b. The second profile server sends an update message to the user equipment. The update message includes an identifier of the first profile server, and may further include a corresponding profile owner identifier.</p>
<p id="p0060" num="0060">In specific implementation, the RPM server or the second profile server may preconfigure information about the first profile server in the profile information, and preconfigure a profile owner identifier that is identifiable to the first profile server. The information about the first profile server may include the identifier of the first profile server.</p>
<p id="p0061" num="0061">After the foregoing information is configured, the user equipment may be assigned to the first profile server for remote profile management. Therefore, the RPM server or the second profile server may send the update message to the user equipment. The second profile server may assign a same identifier or different identifiers as PO IDs of a same profile owner. Therefore, the PO IDs also need to be updated to the profile information. For example, if a PO ID assigned by a first SM DP+ to China Mobile is 46001, and a PO ID assigned by a second SM DP+ to China Mobile is CMCC, an identifier of the first SM DP+ and the corresponding identifier 46001 of China Mobile are stored in the profile information, and an identifier of the second SM DP+ and the corresponding identifier CMCC of China Mobile are also stored in the profile information, to subsequently search for and verify the PO. After receiving the update message, the user equipment updates the identifier of the first profile server and the corresponding profile owner identifier to the profile<!-- EPO <DP n="19"> --> information. Optionally, the RPM server may further configure the identifier of the first profile server and the corresponding profile owner identifier in the profile information of the user equipment by using an over-the-air (Over-the-Air, OTA) message.</p>
<p id="p0062" num="0062">Optionally, after receiving the update request sent by the RPM server or the second profile server, the user equipment may verify identity validity of the RPM server or the second profile server based on the PO ID carried in the update request. Specifically, verification or identification may be performed based on information such as a message header field and an initiator certificate that are in the update message and that are used to identify an initiator, and the PO ID that is carried in the update message. For example, if the PO ID carried in the update request is the PO ID of China Mobile, it is verified whether the initiator of the update request is China Mobile. If the initiator of the update request is not China Mobile, it is verified that an identity of the initiator is invalid. If China Mobile is the initiator of the update request, it is verified that the identity of the initiator is valid. Further, the identifier of the first profile server and the corresponding profile owner identifier are updated to the local profile information. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile. In verification on the identity of the initiator, a verification operation of determining whether the initiator is a valid initiator, a verification operation of judging whether the initiator is a valid initiator, or the like may be performed.</p>
<p id="p0063" num="0063">S402. The RPM server sends an RPM request to the first profile server, where the RPM request includes a first profile owner identifier (PO ID), and the RPM request further includes at least one of an eUICC identifier (EID), a profile identifier (ICCID), and RPM command-related information, and the first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0064" num="0064">The profile owner identifier may vary with a specific implementation. For example, an MNO and an SM DP+ may agree on a profile owner identifier in<!-- EPO <DP n="20"> --> advance, or an MNO and an SM DP+ may use an identifier of a message initiator between the MNO and the SM DP+ as a profile owner identifier. For another example, State Grid, serving as a company, manages a profile purchased by State Grid from the MNO. In this case, the first profile owner identifier may include a PO ID assigned by the MNO or the SM DP+ to State Grid. Alternatively, a mobile virtual network operator (Mobile Virtual Network Operator, MVNO) purchases a profile from the MNO. In this case, the first profile owner identifier may include a PO ID assigned to the MVNO. This ensures that State Grid or the MVNO manages the profile of State Grid or the MVNO by using the MNO.</p>
<p id="p0065" num="0065">Optionally, after receiving the RPM request initiated by the RPM server, the first profile server may verify identity validity of the RPM server based on the PO ID carried in the RPM request. Specifically, verification or identification may be performed based on information such as a message header field and an initiator certificate that are in the message sent by the RPM server to the first profile server and that are used to identify an initiator, and the PO ID that is carried in the RPM request. For example, if the PO ID carried in the RPM request is a PO ID of China Mobile, it is verified whether the initiator of the RPM request is China Mobile. If the initiator of the RPM request is not China Mobile, it is verified that the identity of the initiator is invalid. If the initiator of the RPM request is China Mobile, it is verified that the identity of the initiator is valid. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile.</p>
<p id="p0066" num="0066">S403. The first profile server obtains a second profile owner identifier in profile information, where the second profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. The following two optional manners are included.</p>
<p id="p0067" num="0067">The first implementation includes the following steps:
<ul id="ul0004" list-style="none" compact="compact">
<li>S403a. The first profile server may send a first request to the user equipment, where the first request is used to obtain the second profile owner identifier, and the first request may be a Get ProfileInfo interface command, and may<!-- EPO <DP n="21"> --> carry at least one of an identifier of the second profile server, an EID, and an ICCID. Specifically, after a secure channel is established between the first profile server and the user equipment, the first profile server may send the first request to the user equipment through an ES 8+ or ES 9+ interface between the first profile server and the user equipment.</li>
<li>S403b. After receiving the first request, the user equipment searches for the corresponding profile information based on the profile ICCID carried in the RPM request, and after finding the corresponding profile information, the user equipment sends, to the first profile server, the profile information that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0068" num="0068">The second implementation includes the following steps.
<ul id="ul0005" list-style="none" compact="compact">
<li>S403c. The first profile server may send a second request to the second profile server, where the second request is used to obtain the second profile owner identifier, and the second request may be a Get ProfileInfo interface command, and may carry at least one of an identifier of the second profile server, an EID, and an ICCID. The identifier of the second profile server is used to perform addressing on the corresponding second profile server, and the EID or the ICCID is used to search for a PO to which the corresponding profile belongs, to obtain the PO ID. For example, the PO may be read from the profile information stored in the second profile server, or the second profile server maintains a plurality of profiles of the RPM server, and searches for, based on the ICCID carried in the second request, a PO to which the corresponding profile belongs, to obtain the PO ID.</li>
<li>S403d. After obtaining the second profile owner identifier corresponding to the PO, the second profile server sends, to the first profile server, the second profile owner identifier or the profile information that carries the second profile owner identifier.</li>
<li>S404. The first profile server determines whether the first profile owner identifier is the same as the second profile owner identifier.</li>
</ul></p>
<p id="p0069" num="0069">In specific implementation, the first profile server may compare the first profile owner identifier with the second profile owner identifier to verify or determine<!-- EPO <DP n="22"> --> whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0070" num="0070">Further, when the first profile owner identifier includes only the profile owner identifier that is identifiable to the first profile server, the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier needs to be separately compared with the profile owner identifier that is identifiable to the first profile server in the profile information and the profile owner identifier that is identifiable to the second profile server in the profile information, to verify whether the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as a profile owner identifier in the profile information. If the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as a profile owner identifier in the profile information, it is determined that the first profile owner identifier is the same as the second profile owner identifier. If the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is different from any profile owner identifier in the profile information, it is determined that the first profile owner identifier is different from the second profile owner identifier. When the first profile owner identifier includes only the profile owner identifier that is identifiable to the second profile server, a verification method is the same as the foregoing method. Details are not described herein again. When the first profile owner identifier includes the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server, the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier and the profile owner identifier that is identifiable to the second profile server in the first profile owner identifier need to be respectively compared with the profile owner identifier that is identifiable to the first profile server in the profile information and the profile owner identifier that is identifiable to the second profile server in the profile information. Only when the profile owner identifier that is identifiable to the first profile server in the first profile owner identifier is the same as the profile owner identifier that is identifiable to the first<!-- EPO <DP n="23"> --> profile server in the profile information and the profile owner identifier that is identifiable to the second profile server in the first profile owner identifier is the same as the profile owner identifier that is identifiable to the second profile server in the profile information, it is determined that the first profile owner identifier is the same as the second profile owner identifier.
<ul id="ul0006" list-style="none" compact="compact">
<li>S405. The first profile server sends an RPM command to the user equipment when the first profile owner identifier is the same as the second profile owner identifier, where the RPM command carries the first profile owner identifier, the EID, and the ICCID.</li>
<li>S406. The first profile server sends a response message to the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</li>
<li>S407. After receiving the RPM command, the user equipment determines whether the first profile owner identifier is the same as the second profile owner identifier.</li>
</ul></p>
<p id="p0071" num="0071">In specific implementation, the user equipment may first search for the second profile owner identifier in the profile information based on the ICCID carried in the RPM command, and compare the first profile owner identifier with the second profile owner identifier to verify whether the first profile owner identifier is the same as the second profile owner identifier. A specific verification method is the same as the verification method of the first profile server in S404. Details are not described herein again.</p>
<p id="p0072" num="0072">S408. The user equipment executes the RPM command when the first profile owner identifier is the same as the second profile owner identifier; or the user equipment may send a response message to the first profile server or the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</p>
<p id="p0073" num="0073">In this embodiment of this application, when the first profile server<!-- EPO <DP n="24"> --> configured to manage the profile and the second profile server configured to download the profile are different servers, whether the RPM server that initiates the RPM command specific to the downloaded profile is an owner of the profile is verified; and a PO verification method is provided when different PO IDs are used by the two profile servers to identify a same PO. This not only prevents a third party from maliciously tampering with profile information that is not possessed by the third party, but also avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies the PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be reduced.</p>
<p id="p0074" num="0074"><figref idref="f0005">FIG. 5A</figref> and <figref idref="f0006">FIG. 5B</figref> are a schematic flowchart of an information verification method according to still another embodiment of this application. In this embodiment of this application, a first profile server configured to manage a profile and a second profile server configured to download the profile are different servers. The method includes but is not limited to the following steps.</p>
<p id="p0075" num="0075">S501. An RPM server or the second profile server updates profile information to user equipment. This step includes: S501a. The RPM server sends an update message to the user equipment. S501b. The second profile server sends an update message to the user equipment. The update message includes an identifier of the first profile server, and may further include a corresponding profile owner identifier.</p>
<p id="p0076" num="0076">In specific implementation, the RPM server or the second profile server may preconfigure information about the first profile server in the profile information, and preconfigure a profile owner identifier that is identifiable to the first profile server. The information about the first profile server may include the identifier of the first profile server.</p>
<p id="p0077" num="0077">After the foregoing information is configured, the user equipment may be assigned to the first profile server for remote profile management. Therefore, the RPM server or the second profile server may send the update message to the user equipment.<!-- EPO <DP n="25"> --> PO IDs of a same profile owner may be the same or different. Therefore, the PO IDs also need to be updated to the profile information. For example, if a PO ID assigned by a first SM DP+ to China Mobile is 46001, and a PO ID assigned by a second SM DP+ to China Mobile is CMCC, an identifier of the first SM DP+ and the corresponding identifier 46001 of China Mobile are stored in the profile information, and an identifier of the second SM DP+ and the corresponding identifier CMCC of China Mobile are also stored in the profile information, to subsequently search for and verify the PO. After receiving the update message, the user equipment updates the identifier of the first profile server and the corresponding profile owner identifier to the profile information. Optionally, the RPM server may further configure the identifier of the first profile server and the corresponding profile owner identifier in the profile information of the user equipment by using an over-the-air (Over-the-Air, OTA) message.</p>
<p id="p0078" num="0078">Optionally, after receiving the update request sent by the RPM server or the second profile server, the user equipment may verify identity validity of the RPM server or the second profile server based on the PO ID carried in the update request. Specifically, verification or identification may be performed based on information such as a message header field and an initiator certificate that are in the update message and that are used to identify an initiator, and the PO ID that is carried in the update message. For example, if the PO ID carried in the update request is the PO ID of China Mobile, it is verified whether the initiator of the update request is China Mobile. If the initiator of the update request is not China Mobile, it is verified that an identity of the initiator is invalid. If China Mobile is the initiator of the update request, it is verified that the identity of the initiator is valid. Further, the identifier of the first profile server and the corresponding profile owner identifier are updated to the local profile information. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile. In verification on the identity of the initiator, a verification operation of determining whether the initiator is a valid initiator, a verification operation of judging whether the initiator is a valid initiator, or the like may be performed.<!-- EPO <DP n="26"> --></p>
<p id="p0079" num="0079">S502. The RPM server sends an RPM request to the first profile server, where the RPM request includes a first profile owner identifier (PO ID), and the RPM request further includes at least one of an eUICC identifier (EID), a profile identifier (ICCID), and RPM command-related information, and the first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0080" num="0080">The profile owner identifier may vary with a specific implementation. For example, an MNO and an SM DP+ may agree on a profile owner identifier in advance, or an MNO and an SM DP+ may use an identifier of a message initiator between the MNO and the SM DP+ as a profile owner identifier. For another example, State Grid, serving as a company, manages a profile purchased by State Grid from the MNO. In this case, the first profile owner identifier may include a PO ID assigned by the MNO or the SM DP+ to State Grid. Alternatively, a mobile virtual network operator purchases a profile from the MNO. In this case, the first profile owner identifier may include a PO ID assigned to the MVNO. This ensures that State Grid or the MVNO manages the profile of State Grid or the MVNO by using the MNO.</p>
<p id="p0081" num="0081">Optionally, after receiving the RPM request initiated by the RPM server, the first profile server may verify identity validity of the RPM server based on the PO ID carried in the RPM request. Specifically, verification or identification may be performed based on information such as a message header field and an initiator certificate that are in the message sent by the RPM server to the first profile server and that are used to identify an initiator, and the PO ID that is carried in the RPM request. For example, if the PO ID carried in the RPM request is a PO ID of China Mobile, it is verified whether the initiator of the RPM request is China Mobile. If the initiator of the RPM request is not China Mobile, it is verified that the identity of the initiator is invalid. If the initiator of the RPM request is China Mobile, it is verified that the identity of the initiator is valid. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile. In verification on the identity of the initiator, a verification operation of determining whether the initiator is a valid<!-- EPO <DP n="27"> --> initiator, a verification operation of judging whether the initiator is a valid initiator, or the like may be performed.</p>
<p id="p0082" num="0082">S503. The first profile server obtains a second profile owner identifier in profile information, where the second profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. The following two optional manners are included.</p>
<p id="p0083" num="0083">The first implementation includes the following steps:
<ul id="ul0007" list-style="none" compact="compact">
<li>S503a. The first profile server may send a first request to the user equipment, where the first request is used to obtain the second profile owner identifier, and the first request may be a Get ProfileInfo interface command, and may carry at least one of an identifier of the second profile server, an EID, and an ICCID. Specifically, after a secure channel is established between the first profile server and the user equipment, the first profile server may send the first request to the user equipment through an ES 8+ or ES 9+ interface between the first profile server and the user equipment.</li>
<li>S503b. After receiving the first request, the user equipment searches for the corresponding profile information based on the profile ICCID carried in the RPM request, and after finding the corresponding profile information, the user equipment sends, to the first profile server, the profile information that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0084" num="0084">The second implementation includes the following steps.
<ul id="ul0008" list-style="none" compact="compact">
<li>S503c. The first profile server may send a second request to the second profile server, where the second request is used to obtain the second profile owner identifier, and the second request may be a Get ProfileInfo interface command, and may carry at least one of an identifier of the second profile server, an EID, and an ICCID. The identifier of the second profile server is used to perform addressing on the corresponding second profile server, and the EID or the is used to search for a PO to which the corresponding profile belongs, to obtain the PO ID. For example, the PO may be read from the profile information stored in the second profile server, or the<!-- EPO <DP n="28"> --> second profile server maintains a plurality of profiles of the RPM server, and searches for, based on the ICCID carried in the second request, a PO to which the corresponding profile belongs, to obtain the PO ID.</li>
<li>S503d. After obtaining the second profile owner identifier corresponding to the PO, the second profile server sends, to the first profile server, the second profile owner identifier or the profile information that carries the second profile owner identifier.</li>
<li>S504. The first profile server determines whether the first profile owner identifier is the same as the second profile owner identifier.</li>
</ul></p>
<p id="p0085" num="0085">In specific implementation, the first profile server may compare the first profile owner identifier with the second profile owner identifier to verify or determine whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0086" num="0086">S505. The first profile server sends an RPM command to the user equipment when the first profile owner identifier is the same as the second profile owner identifier, where the RPM command carries the first profile owner identifier, the EID, and the ICCID.</p>
<p id="p0087" num="0087">It should be noted that the first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. The second profile owner identifier also includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. Although the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server are PO IDs of a same PO, the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server may be different. Therefore, the first profile server may verify that the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server are different. Further verification needs to be performed in the following<!-- EPO <DP n="29"> --> manner.</p>
<p id="p0088" num="0088">S506. The first profile server obtains an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier.</p>
<p id="p0089" num="0089">In specific implementation, the first profile server may obtain the identifier correspondence list from the RPM server; obtain the identifier correspondence list from the second profile server; or obtain the identifier correspondence list from the local memory. The identifier correspondence list includes a correspondence between a profile server identifier corresponding to a profile owner and a profile owner identifier. For example, if a PO ID assigned by a first SM DP+ to China Mobile is 46001, and a PO ID assigned by a second SM DP+ is CMCC, an identifier of the first SM DP+ and the corresponding identifier 46001 of China Mobile are stored in the identifier correspondence list, and an identifier of the second SM DP+ and the corresponding identifier CMCC of China Mobile are also stored in the identifier correspondence list, to search for and verify the PO.</p>
<p id="p0090" num="0090">S507. The first profile server determines whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</p>
<p id="p0091" num="0091">In specific implementation, the profile owner identifier that is identifiable to the first profile server or the profile owner identifier that is identifiable to the second profile server may be separately compared with a profile owner identifier in the identifier correspondence list, to determine whether the profile owner identifier corresponding to the first profile owner identifier exists in the identifier corresponding list.</p>
<p id="p0092" num="0092">S508. The first profile server sends the RPM command to the user equipment when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</p>
<p id="p0093" num="0093">S509. The first profile server sends a response message to the RPM server when the profile owner identifier corresponding to the first profile owner identifier does not exist in the identifier correspondence list, where the response message is<!-- EPO <DP n="30"> --> used to notify the RPM server of a verification error.</p>
<p id="p0094" num="0094">S510. After receiving the RPM command, the user equipment determines whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0095" num="0095">In specific implementation, the user equipment may first search for the second profile owner identifier in the profile information based on the ICCID carried in the RPM command, and compare the first profile owner identifier with the second profile owner identifier to verify whether the first profile owner identifier is the same as the second profile owner identifier. A specific verification method is the same as the verification method of the first profile server in S504 to S507. Details are not described herein.</p>
<p id="p0096" num="0096">S511. The user equipment executes the RPM command when the first profile owner identifier is the same as the second profile owner identifier; or the user equipment may send a response message to the first profile server or the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</p>
<p id="p0097" num="0097">In this embodiment of this application, when the first profile server configured to manage the profile and the second profile server configured to download the profile are different servers, whether the RPM server that initiates the RPM command specific to the downloaded profile is an owner of the profile is verified; and a PO verification method is provided when different PO IDs are used by the two profile servers to identify a same PO. In addition, based on the foregoing embodiment, for the identifier correspondence list maintained by the profile server, when verifying that the first profile owner identifier is different from the second profile owner identifier, the first profile server may further verify, based on the correspondence list, whether the PO IDs belong to a same profile owner. This not only prevents a third party from maliciously tampering with profile information that is not possessed by the third party, but also avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In<!-- EPO <DP n="31"> --> addition, the profile server verifies the PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be reduced.</p>
<p id="p0098" num="0098"><figref idref="f0007">FIG. 6</figref> is a schematic flowchart of an information verification method according to yet another embodiment of this application. In this embodiment of this application, a first profile server configured to manage a profile and a second profile server configured to download the profile are different servers. The method includes but is not limited to the following steps.</p>
<p id="p0099" num="0099">S601. An RPM server or the second profile server updates profile information to user equipment. This step includes: S601a. The RPM server sends an update message to the user equipment. S601b. The second profile server sends an update message to the user equipment. The update message includes an identifier of the first profile server, and may further include a corresponding profile owner identifier.</p>
<p id="p0100" num="0100">In specific implementation, the RPM server or the second profile server may preconfigure information about the first profile server in the profile information, and preconfigure a profile owner identifier that is identifiable to the first profile server. The information about the first profile server may include the identifier of the first profile server.</p>
<p id="p0101" num="0101">After the foregoing information is configured, the user equipment may be assigned to the first profile server for remote profile management. Therefore, the RPM server or the second profile server may send the update message to the user equipment. PO IDs of a same profile owner may be the same or different. Therefore, the PO IDs also need to be updated to the profile information. For example, if a PO ID assigned by a first SM DP+ to China Mobile is 46001, and a PO ID assigned by a second SM DP+ is CMCC, an identifier of the first SM DP+ and the corresponding identifier 46001 of China Mobile are stored in the profile information, and the identifier of the second SM DP+ and the corresponding identifier CMCC of China Mobile are also stored in the profile information, to subsequently search for and verify the PO. After<!-- EPO <DP n="32"> --> receiving the update message, the user equipment updates the identifier of the first profile server and the corresponding profile owner identifier to the profile information. Optionally, the RPM server may further configure the identifier of the first profile server and the corresponding profile owner identifier in the profile information of the user equipment by using an over-the-air (Over-the-Air, OTA) message.</p>
<p id="p0102" num="0102">Optionally, after receiving the update request sent by the RPM server or the second profile server, the user equipment may verify identity validity of the RPM server or the second profile server based on the PO ID carried in the update request. Specifically, verification or identification may be performed by using information such as a message header field and an initiator certificate that are in the update message and that are used to identify an initiator, and the PO ID that is carried in the update message. For example, if the PO ID carried in the update request is the PO ID of China Mobile, it is verified whether the initiator of the update request is China Mobile. If the initiator of the update request is not China Mobile, it is verified that an identity of the initiator is invalid. If the initiator of the update request is China Mobile, it is verified that the identity of the initiator is valid. Further, the identifier of the first profile server and the corresponding profile owner identifier are updated to the local profile information. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile.</p>
<p id="p0103" num="0103">S602. The RPM server may determine whether the first profile server configured to manage the profile and the second profile server previously configured to download the profile are a same server. When the first profile server and the second profile server are different servers, the RPM server determines a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. Although the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server are PO IDs of a same PO, the profile owner identifier that is identifiable to the first profile server and the profile owner identifier that is identifiable to the second profile server may be different. Therefore, a correspondence between the identifier of the first profile server and the profile owner<!-- EPO <DP n="33"> --> identifier and a correspondence between the identifier of the second profile server and the profile owner identifier are separately established.</p>
<p id="p0104" num="0104">S603. The RPM server sends an RPM request to the first profile server. The RPM request includes a first profile owner identifier (PO ID), and the RPM request further includes at least one of an eUICC identifier (EID), a profile identifier (ICCID), or RPM command-related information.</p>
<p id="p0105" num="0105">The first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. Further, the first profile owner identifier may include a profile server identifier and a profile owner identifier, including the identifier of the first profile server and the corresponding profile owner identifier that is identifiable to the first profile server, or the identifier of the second profile server and the corresponding profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0106" num="0106">In addition, the profile owner identifier may vary with a specific implementation. For example, an MNO and an SM DP+ may agree on a profile owner identifier in advance, or an MNO and an SM DP+ may use an identifier of a message initiator between the MNO and the SM DP+ as a profile owner identifier. For another example, State Grid, serving as a company, manages a profile purchased by State Grid from the MNO. In this case, the first profile owner identifier may include a PO ID assigned by the MNO or the SM DP+ to State Grid. Alternatively, a mobile virtual network operator (Mobile Virtual Network Operator, MVNO) purchases a profile from the MNO. In this case, the first profile owner identifier may include a PO ID assigned to the MVNO. This ensures that State Grid or the MVNO manages the profile of State Grid or the MVNO by using the MNO.</p>
<p id="p0107" num="0107">Optionally, after receiving the RPM request initiated by the RPM server, the first profile server may verify identity validity of the RPM server based on the PO ID carried in the RPM request. Specifically, verification or identification may be performed by using information such as a message header field and an initiator certificate that are in the message sent by the RPM server to the first profile server<!-- EPO <DP n="34"> --> and that are used to identify an initiator, and the PO ID that is carried in the RPM request. For example, if the PO ID carried in the RPM request is a PO ID of China Mobile, it is verified whether the initiator of the RPM request is China Mobile. If the initiator of the RPM request is not China Mobile, it is verified that an identity of the initiator is invalid. If the initiator of the RPM request is China Mobile, it is verified that the identity of the initiator is valid. This prevents a third party from maliciously using the PO ID of China Mobile to manage the profile. In verification on the identity of the initiator, a verification operation of determining whether the initiator is a valid initiator, a verification operation of judging whether the initiator is a valid initiator, or the like may be performed.</p>
<p id="p0108" num="0108">S604. The first profile server obtains a second profile owner identifier in profile information. The second profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server. The following two optional manners are included.</p>
<p id="p0109" num="0109">The first implementation includes the following steps:
<ul id="ul0009" list-style="none" compact="compact">
<li>S604a. The first profile server may send a first request to the user equipment, where the first request is used to obtain the second profile owner identifier, and the first request may be a Get ProfileInfo interface command, and may carry at least one of the identifier of the second profile server, an EID, and an ICCID. Specifically, after a secure channel is established between the first profile server and the user equipment, the first profile server may send the first request to the user equipment through an ES 8+ or ES 9+ interface between the first profile server and the user equipment.</li>
<li>S604b. After receiving the first request, the user equipment searches for the corresponding profile information based on the profile ICCID carried in the RPM request, and after finding the corresponding profile information, the user equipment sends, to the first profile server, the profile information that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0110" num="0110">The second implementation includes the following steps.<!-- EPO <DP n="35"> --></p>
<p id="p0111" num="0111">S604c. The first profile server may send a second request to the second profile server, where the second request is used to obtain the second profile owner identifier, and the second request may be a Get ProfileInfo interface command, and may carry at least one of the identifier of the second profile server, an EID, and an ICCID. The identifier of the second profile server is used to perform addressing on the corresponding second profile server, and the EID or the is used to search for a PO to which the corresponding profile belongs, to obtain the PO ID. For example, the PO may be read from the profile information stored in the second profile server, or the second profile server maintains a plurality of profiles of the RPM server, and searches for, based on the ICCID carried in the second request, a PO to which the corresponding profile belongs, to obtain the PO ID.</p>
<p id="p0112" num="0112">S604d. After obtaining the second profile owner identifier corresponding to the PO, the second profile server sends, to the first profile server, the profile information that carries the second profile owner identifier.</p>
<p id="p0113" num="0113">In this embodiment of this application, because the first profile owner identifier includes a profile server identifier and a profile owner identifier, the second profile owner identifier that is identifiable to the first profile server in the profile information may be obtained based on the identifier of the first profile server included in the first profile owner identifier. Alternatively, the second profile owner identifier that is identifiable to the second profile server in the profile information is obtained based on the identifier of the second profile server included in the first profile owner identifier.</p>
<p id="p0114" num="0114">S605. The first profile server determines whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0115" num="0115">In specific implementation, the first profile server may compare the first profile owner identifier with the second profile owner identifier to verify or determine whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0116" num="0116">S606. The first profile server sends an RPM command to the user equipment when the first profile owner identifier is the same as the second profile<!-- EPO <DP n="36"> --> owner identifier, where the RPM command carries the first profile owner identifier, the EID, and the ICCID.</p>
<p id="p0117" num="0117">S607. The first profile server sends a response message to the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</p>
<p id="p0118" num="0118">S608. After receiving the RPM command, the user equipment determines whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0119" num="0119">In specific implementation, the user equipment may first search for the second profile owner identifier in the profile information based on the ICCID carried in the RPM command, and compare the first profile owner identifier with the second profile owner identifier to verify or determine whether the first profile owner identifier is the same as the second profile owner identifier. A specific verification method is the same as the verification method of the first profile server in S605. Details are not described herein.</p>
<p id="p0120" num="0120">S609. The user equipment executes the RPM command when the first profile owner identifier is the same as the second profile owner identifier; or the user equipment may send a response message to the first profile server or the RPM server when the first profile owner identifier is different from the second profile owner identifier, where the response message is used to notify the RPM server of a verification error.</p>
<p id="p0121" num="0121">In this embodiment of this application, when the first profile server configured to manage the profile and the second profile server configured to download the profile are different servers, whether the RPM server that initiates the RPM command specific to the downloaded profile is an owner of the profile is verified; and a PO verification method is provided when different PO IDs are used by the two profile servers to identify a same PO. In addition, the RPM server determines the profile owner identifier that is identifiable to the first profile server or the profile owner identifier that is identifiable to the second profile server, so that the first profile<!-- EPO <DP n="37"> --> server obtains a corresponding profile owner identifier for verification. This not only prevents a third party from maliciously tampering with profile information that is not possessed by the third party, but also avoids a loss caused to an operator or a profile owner due to a user's access to an invalid network or random profile unlocking. In addition, the profile server verifies the PO on a network side. In this way, network security can be improved, a bidirectional authentication process between the profile server and a terminal can be reduced, and a waste of network resources can be reduced.</p>
<p id="p0122" num="0122">The foregoing describes in detail the methods in the embodiments of this application. The following provides apparatuses in the embodiments of this application.</p>
<p id="p0123" num="0123"><figref idref="f0008">FIG. 7</figref> is a schematic structural diagram of a first profile server according to an embodiment of this application. The first profile server may include a receiving module 701, an obtaining module 702, a processing module 703, and a sending module 704. Detailed descriptions of the modules are as follows:</p>
<p id="p0124" num="0124">The receiving module 701 is configured to receive an RPM request sent by an RPM server, where the RPM request includes a first profile owner identifier.</p>
<p id="p0125" num="0125">The obtaining module 702 is configured to obtain a second profile owner identifier in profile information.</p>
<p id="p0126" num="0126">The processing module 703 is configured to determine whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0127" num="0127">The sending module 704 is configured to send an RPM command to user equipment when the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0128" num="0128">Optionally, the obtaining module 702 is specifically configured to obtain the second profile owner identifier in the profile information from a local memory.</p>
<p id="p0129" num="0129">Optionally, the obtaining module 702 is specifically configured to: send a first request to the user equipment, where the first request is used to obtain the second profile owner identifier; and receive the profile information that is sent by the user equipment and that carries the second profile owner identifier.<!-- EPO <DP n="38"> --></p>
<p id="p0130" num="0130">Optionally, the obtaining module 702 is specifically configured to: send a second request to a second profile server, where the second request is used to obtain the second profile owner identifier; and receive the profile information that is sent by the second profile server and that carries the second profile owner identifier.</p>
<p id="p0131" num="0131">Optionally, the first profile owner identifier and the second profile owner identifier each include at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0132" num="0132">Optionally, the obtaining module 702 is further configured to obtain an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier; the processing module 703 is further configured to determine whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and the sending module 704 is further configured to send the RPM command to the user equipment when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</p>
<p id="p0133" num="0133">Optionally, the obtaining module 702 is specifically configured to: obtain the identifier correspondence list from the RPM server; obtain the identifier correspondence list from the second profile server; or obtain the identifier correspondence list from the local memory.</p>
<p id="p0134" num="0134">Optionally, the first profile server is a server configured to manage a profile, and the second profile server is a server configured to download the profile.</p>
<p id="p0135" num="0135">Optionally, the profile owner identifier includes a profile server identifier and a profile owner identifier.</p>
<p id="p0136" num="0136">It should be noted that, for implementation of the modules, refer to corresponding descriptions of the method embodiments shown in <figref idref="f0003 f0004 f0005 f0006 f0007">FIG. 3 to FIG. 6</figref>. The modules perform the methods and the functions performed by the first profile server in the foregoing embodiments.</p>
<p id="p0137" num="0137"><figref idref="f0008">FIG. 8</figref> is a schematic structural diagram of user equipment according to an<!-- EPO <DP n="39"> --> embodiment of this application. The user equipment may include a receiving module 801, an obtaining module 802, a processing module 803, and an execution module 804. Detailed descriptions of the modules are as follows:</p>
<p id="p0138" num="0138">The receiving module 801 is configured to receive an RPM command sent by a first profile server, where the RPM command includes a first profile owner identifier.</p>
<p id="p0139" num="0139">The obtaining module 802 is configured to obtain a second profile owner identifier in profile information.</p>
<p id="p0140" num="0140">The processing module 803 is configured to determine whether the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0141" num="0141">The execution module 804 is configured to execute the RPM command when the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0142" num="0142">Optionally, the receiving module 801 is further configured to receive an update message sent by an RPM server or a second profile server, where the update message includes an identifier of the first profile server and a corresponding profile owner identifier.</p>
<p id="p0143" num="0143">Optionally, the first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0144" num="0144">Optionally, the obtaining module 802 is further configured to obtain an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier; the processing module 803 is further configured to determine whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and the execution module 804 is further configured to execute the RPM command when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</p>
<p id="p0145" num="0145">Optionally, the receiving module 801 is further configured to receive a first<!-- EPO <DP n="40"> --> request sent by the first profile server, where the first request is used to obtain the second profile owner identifier; and the sending module 805 is configured to send, to the first profile server, the profile information that carries the second profile owner identifier.</p>
<p id="p0146" num="0146">It should be noted that, for implementation of the modules, refer to corresponding descriptions of the method embodiments shown in <figref idref="f0003 f0004 f0005 f0006 f0007">FIG. 3 to FIG. 6</figref>. The modules perform the methods and the functions performed by the user equipment in the foregoing embodiments.</p>
<p id="p0147" num="0147"><figref idref="f0008">FIG. 9</figref> is a schematic structural diagram of an RPM server according to an embodiment of this application. The RPM server may include a sending module 901 and a processing module 902. Detailed descriptions of the modules are as follows:</p>
<p id="p0148" num="0148">The sending module 901 is configured to send an RPM request to a first profile server, where the RPM request includes a first profile owner identifier, and the RPM request is used to instruct the first profile server to determine whether a second profile owner identifier in profile information is the same as the first profile owner identifier; and send an RPM command to user equipment when the second profile owner identifier is the same as the first profile owner identifier.</p>
<p id="p0149" num="0149">Optionally, the processing module 902 is configured to: determine whether the first profile server configured to manage a profile and a second profile server previously configured to download the profile are a same server; and when the first profile server and the second profile server are different servers, determine a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0150" num="0150">It should be noted that, for implementation of the modules, refer to corresponding descriptions of the method embodiments shown in <figref idref="f0003 f0004 f0005 f0006 f0007">FIG. 3 to FIG. 6</figref>. The modules perform the methods and the functions performed by the RPM server in the foregoing embodiments.</p>
<p id="p0151" num="0151"><figref idref="f0009">FIG. 10</figref> is a schematic structural diagram of another first profile server according to this application. As shown in the figure, the first profile server may include at least one processor 1001, at least one communications interface 1002, at<!-- EPO <DP n="41"> --> least one memory 1003, and at least one communications bus 1004.</p>
<p id="p0152" num="0152">The processor 1001 may be a central processing unit, a general-purpose processor, a digital signal processor, an application-specific integrated circuit, a field programmable gate array or another programmable logical device, a transistor logical device, a hardware component, or any combination thereof. The processor 1001 may implement or execute various example logical blocks, modules, and circuits described with reference to content disclosed in this application. Alternatively, the processor may be a combination of processors implementing a computing function, for example, a combination of one or more microprocessors, or a combination of a digital signal processor and a microprocessor. The communications bus 1004 may be a peripheral component interconnect PCI bus, an extended industry standard architecture EISA bus, or the like. The bus may be classified into an address bus, a data bus, a control bus, or the like. For ease of representation, only one thick line is used to represent the bus in <figref idref="f0009">FIG. 10</figref>, but this does not mean that there is only one bus or only one type of bus. The communications bus 1004 is configured to implement connection and communication between these components. The communications interface 1002 in the device in this embodiment of this application is configured to perform signaling or data communication with another node device. The memory 1003 may include a volatile memory such as a nonvolatile random access memory (Nonvolatile Random Access Memory, NVRAM), a phase change random access memory (Phase Change RAM, PRAM), or a magnetoresistive random access memory (Magetoresistive RAM, MRAM), or may include a nonvolatile memory such as at least one magnetic disk storage device, an electrically erasable programmable read-only memory (Electrically Erasable Programmable Read-Only Memory, EEPROM), a flash storage device such as a NOR flash memory (NOR flash memory) or a NAND flash memory (NAND flash memory), a semiconductor such as a solid state disk (Solid State Disk, SSD), or the like. Optionally, the memory 1003 may be at least one storage apparatus far away from the processor 1001. The memory 1003 stores a group of program code, and the processor 1001 executes a program in the memory 1003 that is executed by the foregoing first profile server.<!-- EPO <DP n="42"> --></p>
<p id="p0153" num="0153">An RPM request sent by an RPM server is received by using the communications interface 1002, and the RPM request includes a first profile owner identifier;<br/>
a second profile owner identifier in profile information is obtained;<br/>
it is determined whether the first profile owner identifier is the same as the second profile owner identifier; and<br/>
an RPM command is sent by using the communications interface 1002 to user equipment when the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0154" num="0154">Optionally, the processor 1001 is further configured to perform the following operation:<br/>
obtaining the second profile owner identifier in the profile information from a local memory.</p>
<p id="p0155" num="0155">Optionally, the processor 1001 is further configured to perform the following operations:
<ul id="ul0010" list-style="none" compact="compact">
<li>sending a first request to the user equipment by using the communications interface 1002, where the first request is used to obtain the second profile owner identifier; and</li>
<li>receiving, by using the communications interface 1002, the profile information that is sent by the user equipment and that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0156" num="0156">Optionally, the processor 1001 is further configured to perform the following operations:
<ul id="ul0011" list-style="none" compact="compact">
<li>sending a second request to a second profile server by using the communications interface 1002, where the second request is used to obtain the second profile owner identifier; and</li>
<li>receiving, by using the communications interface 1002, the profile information that is sent by the second profile server and that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0157" num="0157">The first profile owner identifier and the second profile owner identifier<!-- EPO <DP n="43"> --> each include at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</p>
<p id="p0158" num="0158">Optionally, the processor 1001 is further configured to perform the following operations:
<ul id="ul0012" list-style="none" compact="compact">
<li>obtaining an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier;</li>
<li>determining whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and</li>
<li>when a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list, sending the RPM command to the user equipment by using the communications interface 1002.</li>
</ul></p>
<p id="p0159" num="0159">Optionally, the processor 1001 is further configured to perform the following operations:
<ul id="ul0013" list-style="none" compact="compact">
<li>obtaining the identifier correspondence list from the RPM server;</li>
<li>obtaining the identifier correspondence list from the second profile server; or</li>
<li>obtaining the identifier correspondence list from the local memory.</li>
</ul></p>
<p id="p0160" num="0160">The first profile server is a server configured to manage a profile, and the second profile server is a server configured to download the profile.</p>
<p id="p0161" num="0161">The profile owner identifier includes a profile server identifier and a profile owner identifier.</p>
<p id="p0162" num="0162">Further, the processor may further cooperate with the memory and the communications interface to perform the operations of the first profile server in the foregoing embodiments of this application.</p>
<p id="p0163" num="0163"><figref idref="f0009">FIG. 11</figref> is a schematic structural diagram of other user equipment according to this application. As shown in the figure, the user equipment may include at least one processor 1101, at least one communications interface 1102, at least one<!-- EPO <DP n="44"> --> memory 1103, and at least one communications bus 1104.</p>
<p id="p0164" num="0164">The processor 1101 may be the various types of processors mentioned above. The communications bus 1104 may be a peripheral component interconnect PCI bus, an extended industry standard architecture EISA bus, or the like. The bus may be classified into an address bus, a data bus, a control bus, or the like. For ease of representation, only one thick line is used to represent the bus in <figref idref="f0009">FIG. 11</figref>, but this does not mean that there is only one bus or only one type of bus. The communications bus 1104 is configured to implement connection and communication between these components. The communications interface 1102 in the device in this embodiment of this application is configured to perform signaling or data communication with another node device. The memory 1103 may be the various types of memories mentioned above. Optionally, the memory 1103 may be at least one storage apparatus far away from the processor 1101. The memory 1103 stores a group of program code, and the processor 1101 executes a program in the memory 1103 that is executed by the foregoing user equipment.</p>
<p id="p0165" num="0165">An RPM command sent by a first profile server is received by using the communications interface 1102, where the RPM command includes a first profile owner identifier;<br/>
a second profile owner identifier in profile information is obtained;<br/>
it is determined whether the first profile owner identifier is the same as the second profile owner identifier; and<br/>
the RPM command is executed when the first profile owner identifier is the same as the second profile owner identifier.</p>
<p id="p0166" num="0166">Optionally, the processor 1101 is further configured to perform the following operation:<br/>
receiving, by using the communications interface 1102, an update message sent by an RPM server or a second profile server, where the update message includes an identifier of the first profile server and a corresponding profile owner identifier.</p>
<p id="p0167" num="0167">The first profile owner identifier includes at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner<!-- EPO <DP n="45"> --> identifier that is identifiable to the second profile server.</p>
<p id="p0168" num="0168">Optionally, the processor 1101 is further configured to perform the following operation:
<ul id="ul0014" list-style="none" compact="compact">
<li>obtaining an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, where the identifier correspondence list includes a correspondence between a profile server identifier and a profile owner identifier;</li>
<li>determining whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and</li>
<li>executing the RPM command when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</li>
</ul></p>
<p id="p0169" num="0169">Optionally, the processor 1101 is further configured to perform the following operations:
<ul id="ul0015" list-style="none" compact="compact">
<li>receiving, by using the communications interface 1102, a first request sent by the first profile server, where the first request is used to obtain the second profile owner identifier; and</li>
<li>sending, to the first profile server by using the communications interface 1102, the profile information that carries the second profile owner identifier.</li>
</ul></p>
<p id="p0170" num="0170">Further, the processor may further cooperate with the memory and the communications interface to perform the operations of the user equipment in the foregoing embodiments of this application.</p>
<p id="p0171" num="0171"><figref idref="f0010">FIG. 12</figref> is a schematic structural diagram of another RPM server according to this application. As shown in the figure, the RPM server may include at least one processor 1201, at least one communications interface 1202, at least one memory 1203, and at least one communications bus 1204.</p>
<p id="p0172" num="0172">The processor 1201 may be the various types of processors mentioned above. The communications bus 1204 may be a peripheral component interconnect PCI bus, an extended industry standard architecture EISA bus, or the like. The bus may be classified into an address bus, a data bus, a control bus, or the like. For ease of<!-- EPO <DP n="46"> --> representation, only one thick line is used to represent the bus in <figref idref="f0010">FIG. 12</figref>, but this does not mean that there is only one bus or only one type of bus. The communications bus 1204 is configured to implement connection and communication between these components. The communications interface 1202 in the device in this embodiment of this application is configured to perform signaling or data communication with another node device. The memory 1203 may be the various types of memories mentioned above. Optionally, the memory 1203 may be at least one storage apparatus far away from the processor 1201. The memory 1203 stores a group of program code, and the processor 1201 executes a program in the memory 1203 that is executed by the foregoing RPM server.</p>
<p id="p0173" num="0173">An RPM request is sent to a first profile server by using the communications interface 1202, where the RPM request includes a first profile owner identifier, and the RPM request is used to instruct the first profile server to determine whether a second profile owner identifier in profile information is the same as the first profile owner identifier; and an RPM command is sent to user equipment when the second profile owner identifier is the same as the first profile owner identifier.</p>
<p id="p0174" num="0174">Optionally, the processor 1201 is further configured to perform the following operations:
<ul id="ul0016" list-style="none" compact="compact">
<li>determining whether the first profile server configured to manage a profile and a second profile server previously configured to download the profile are a same server; and</li>
<li>when the first profile server and the second profile server are different servers, determining a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server.</li>
</ul></p>
<p id="p0175" num="0175">Further, the processor may further cooperate with the memory and the communications interface to perform the operations of the RPM server in the foregoing embodiments of this application.</p>
<p id="p0176" num="0176">All or some of the foregoing embodiments may be implemented by using software, hardware, firmware, or any combination thereof. When software is used to implement the embodiments, all or some of the embodiments may be implemented in<!-- EPO <DP n="47"> --> a form of a computer program product. The computer program product includes one or more computer instructions. When the computer program instructions are loaded and executed on a computer, the procedure or functions according to the embodiments of this application are all or partially generated. The computer may be a general-purpose computer, a dedicated computer, a computer network, or other programmable apparatuses. The computer instructions may be stored in a computer-readable storage medium or may be transmitted from a computer-readable storage medium to another computer-readable storage medium. For example, the computer instructions may be transmitted from a website, computer, server, or data center to another website, computer, server, or data center in a wired (for example, a coaxial cable, an optical fiber, or a digital subscriber line (DSL)) or wireless (for example, infrared, radio, or microwave) manner. The computer-readable storage medium may be any usable medium accessible by a computer, or a data storage device, such as a server or a data center, integrating one or more usable media. The usable medium may be a magnetic medium (for example, a floppy disk, a hard disk, or a magnetic tape), an optical medium (for example, a DVD), a semiconductor medium (for example, a solid state disk Solid State Disk (SSD)), or the like.</p>
<p id="p0177" num="0177">The objectives, technical solutions, and beneficial effects of the present invention have been described in more detail with reference to the foregoing specific embodiments. Any modification, equivalent replacement, or improvement made without departing from the principle of the present invention shall fall within the protection scope of the present invention.</p>
</description>
<claims id="claims01" lang="en"><!-- EPO <DP n="48"> -->
<claim id="c-en-01-0001" num="0001">
<claim-text>An information verification method, wherein the method comprises:
<claim-text>receiving (S301, S402, S502, S603), by a first profile server, a remote profile management request sent by a remote profile management server, wherein the remote profile management request comprises a first profile owner identifier;</claim-text>
<claim-text>obtaining (S302, S403, S503, S604), by the first profile server, a second profile owner identifier in profile information;</claim-text>
<claim-text>determining (S303, S404, S504, S605), by the first profile server, whether the first profile owner identifier is the same as the second profile owner identifier; and</claim-text>
<claim-text>sending (S304, S405, S505, S606), by the first profile server, a remote profile management command to a user equipment when the first profile owner identifier is the same as the second profile owner identifier;</claim-text>
<claim-text><b>characterized in that</b></claim-text>
<claim-text>the first profile owner identifier and the second profile owner identifier each comprise at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to the second profile server;</claim-text>
<claim-text><b>and in that</b> the method further comprises:
<claim-text>obtaining (S506), by the first profile server, an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, wherein the identifier correspondence list comprises a correspondence between a profile server identifier and a profile owner identifier;</claim-text>
<claim-text>determining (S507), by the first profile server, whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and</claim-text>
<claim-text>sending (S508), by the first profile server, the remote profile management command to the user equipment when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</claim-text></claim-text></claim-text></claim>
<claim id="c-en-01-0002" num="0002">
<claim-text>The method according to claim 1, wherein the obtaining, by the first profile server, a second profile owner identifier in the profile information comprises:<br/>
obtaining (S302), by the first profile server, the second profile owner identifier in the profile<!-- EPO <DP n="49"> --> information from a local memory.</claim-text></claim>
<claim id="c-en-01-0003" num="0003">
<claim-text>The method according to claim 1, wherein the obtaining, by the first profile server, a second profile owner identifier in the profile information comprises:
<claim-text>sending (S302b, S403a, S503a, S604a) by the first profile server, a first request to the user equipment, wherein the first request is used to obtain the second profile owner identifier; and</claim-text>
<claim-text>receiving (S302c, S403b, S503b, S604b) by the first profile server, the profile information that is sent by the user equipment and that carries the second profile owner identifier.</claim-text></claim-text></claim>
<claim id="c-en-01-0004" num="0004">
<claim-text>The method according to claim 1, wherein the obtaining, by the first profile server, a second profile owner identifier in the profile information comprises:
<claim-text>sending (S403c, S503c, S604c) by the first profile server, a second request to a second profile server, wherein the second request is used to obtain the second profile owner identifier; and</claim-text>
<claim-text>receiving (S403d, S503d, S604d), by the first profile server, the profile information that is sent by the second profile server and that carries the second profile owner identifier.</claim-text></claim-text></claim>
<claim id="c-en-01-0005" num="0005">
<claim-text>The method according to claim 1, wherein the obtaining, by the first profile server, an identifier correspondence list comprises:
<claim-text>obtaining, by the first profile server, the identifier correspondence list from the remote profile management server;</claim-text>
<claim-text>obtaining, by the first profile server, the identifier correspondence list from the second profile server; or</claim-text>
<claim-text>obtaining, by the first profile server, the identifier correspondence list from the local memory.</claim-text></claim-text></claim>
<claim id="c-en-01-0006" num="0006">
<claim-text>The method according to any one of claims 1 to 5, wherein the first profile server is a server configured to manage a profile, and the second profile server is a server configured to download the profile.</claim-text></claim>
<claim id="c-en-01-0007" num="0007">
<claim-text>An information verification method, wherein the method comprises:
<claim-text>receiving (S304, S405, S505 or S508, S606), by a user equipment, a remote profile management command sent by a first profile server, wherein the remote profile management command comprises a first profile owner identifier;<!-- EPO <DP n="50"> --></claim-text>
<claim-text>obtaining, by the user equipment, a second profile owner identifier in profile information;</claim-text>
<claim-text>determining (S306, S407, S510, S608), by the user equipment, whether the first profile owner identifier is the same as the second profile owner identifier; and</claim-text>
<claim-text>executing (S307, S408, S511, S609) by the user equipment, the remote profile management command when the first profile owner identifier is the same as the second profile owner identifier;</claim-text>
<claim-text><b>characterized in that</b></claim-text>
<claim-text>the first profile owner identifier comprises at least one of the following: a profile owner identifier that is identifiable to the first profile server or a profile owner identifier that is identifiable to a second profile server;</claim-text>
<claim-text><b>and in that</b> the method further comprises:
<claim-text>obtaining, by the user equipment, an identifier correspondence list when the first profile owner identifier is different from the second profile owner identifier, wherein the identifier correspondence list comprises a correspondence between a profile server identifier and a profile owner identifier;</claim-text>
<claim-text>determining, by the user equipment, whether a profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list; and</claim-text>
<claim-text>executing, by the user equipment, the remote profile management command when the profile owner identifier corresponding to the first profile owner identifier exists in the identifier correspondence list.</claim-text></claim-text></claim-text></claim>
<claim id="c-en-01-0008" num="0008">
<claim-text>The method according to claim 7, before the receiving, by the user equipment, a remote profile management command sent by a first profile server, further comprising:<br/>
receiving (S401, S501, S601), by the user equipment, an update message sent by a remote profile management server or the second profile server, wherein the update message comprises an identifier of the first profile server and a corresponding profile owner identifier.</claim-text></claim>
<claim id="c-en-01-0009" num="0009">
<claim-text>The method according to claims 7 or 8, before the receiving, by user equipment, a remote profile management command sent by a first profile server, further comprising:
<claim-text>receiving, by the user equipment, a first request sent by the first profile server, wherein the first request is used to obtain the second profile owner identifier; and</claim-text>
<claim-text>sending, by the user equipment to the first profile server, the profile information that carries the second profile owner identifier.</claim-text></claim-text></claim>
<claim id="c-en-01-0010" num="0010">
<claim-text>A first profile server, comprising a memory, a communications bus, and a processor,<!-- EPO <DP n="51"> --> wherein the memory is configured to store program code that, when executed by the processor, cause the first profile server to implement the method according to any one of claims 1-6.</claim-text></claim>
<claim id="c-en-01-0011" num="0011">
<claim-text>A user equipment, comprising a memory, a communications bus, and a processor, wherein the memory is configured to store program code, that, when executed by the processor, cause the user equipment to implement the method according to any one of claims 7-9.</claim-text></claim>
</claims>
<claims id="claims02" lang="de"><!-- EPO <DP n="52"> -->
<claim id="c-de-01-0001" num="0001">
<claim-text>Verfahren zur Informationsüberprüfung, wobei das Verfahren Folgendes umfasst:
<claim-text>Empfangen (S301, S402, S502, S603) einer von einem Remote-Profilverwaltungsserver gesendeten Remote-Profilverwaltungsanforderung durch einen ersten Profilserver, wobei die Remote-Profilverwaltungsanforderung eine erste Profilinhaberkennung umfasst;</claim-text>
<claim-text>Erhalten (S302, S403, S503, S604) einer zweiten Profilinhaberkennung in Profilinformationen durch den ersten Profilserver;</claim-text>
<claim-text>Bestimmen (S303, S404, S504, S605) durch den ersten Profilserver, ob die erste Profilinhaberkennung mit der zweiten Profilinhaberkennung identisch ist; und</claim-text>
<claim-text>Senden (S304, S405, S505, S606) eines Remote-Profilverwaltungsbefehls an eine Benutzerausrüstung durch den ersten Profilserver, wenn die erste Profilinhaberkennung mit der zweiten Profilinhaberkennung identisch ist;</claim-text>
<claim-text><b>dadurch gekennzeichnet, dass:</b>
<claim-text>die erste Profilinhaberkennung und die zweite Profilinhaberkennung jeweils mindestens eines der folgenden umfassen: eine Profilinhaberkennung, die für den ersten Profilserver identifizierbar ist, oder eine Profilinhaberkennung, die für den zweiten Profilserver identifizierbar ist;</claim-text>
<claim-text><b>und dadurch, dass</b> das Verfahren ferner Folgendes umfasst:
<claim-text>Erhalten (S506) einer Kennungsübereinstimmungsliste durch den ersten Profilserver, wenn sich die erste Profilinhaberkennung von der zweiten Profilinhaberkennung unterscheidet, wobei die Kennungsübereinstimmungsliste eine Übereinstimmung zwischen einer Profilserverkennung und einer Profilinhaberkennung umfasst;<!-- EPO <DP n="53"> --></claim-text>
<claim-text>Bestimmen (S507) durch den ersten Profilserver, ob eine Profilinhaberkennung, die mit der ersten Profilinhaberkennung übereinstimmt, in der Kennungsübereinstimmungsliste vorhanden ist; und</claim-text>
<claim-text>Senden (S508) des Remote-Profilverwaltungsbefehls an die Benutzerausrüstung durch den ersten Profilserver, wenn die Profilinhaberkennung, die mit der ersten Profilinhaberkennung übereinstimmt, in der Kennungsübereinstimmungsliste vorhanden ist.</claim-text></claim-text></claim-text></claim-text></claim>
<claim id="c-de-01-0002" num="0002">
<claim-text>Verfahren nach Anspruch 1, wobei das Erhalten einer zweiten Profilinhaberkennung in den Profilinformationen durch den ersten Profilserver Folgendes umfasst:<br/>
Erhalten (S302) der zweiten Profilinhaberkennung in den Profilinformationen von einem lokalen Speicher durch den ersten Profilserver.</claim-text></claim>
<claim id="c-de-01-0003" num="0003">
<claim-text>Verfahren nach Anspruch 1, wobei das Erhalten einer zweiten Profilinhaberkennung in den Profilinformationen durch den ersten Profilserver Folgendes umfasst:
<claim-text>Senden (S302b, S403a, S503a, S604a) einer ersten Anforderung an die Benutzerausrüstung durch den ersten Profilserver, wobei die erste Anforderung verwendet wird, um die zweite Profilinhaberkennung zu erhalten; und</claim-text>
<claim-text>Empfangen (S302c, S403b, S503b, S604b) der Profilinformationen, die von der Benutzerausrüstung gesendet werden und die die zweite Profilinhaberkennung enthalten, durch den ersten Profilserver.</claim-text></claim-text></claim>
<claim id="c-de-01-0004" num="0004">
<claim-text>Verfahren nach Anspruch 1, wobei das Erhalten einer zweiten Profilinhaberkennung in den Profilinformationen durch den ersten Profilserver Folgendes umfasst:
<claim-text>Senden (S403c, S503c, S604c) einer zweite Anforderung an einen zweiten Profilserver durch den ersten Profilserver, wobei<!-- EPO <DP n="54"> --> die zweite Anforderung verwendet wird, um die zweite Profilinhaberkennung zu erhalten; und</claim-text>
<claim-text>Empfangen (S403d, S503d, S604d) der Profilinformationen, die von dem zweiten Profilserver gesendet werden und die die zweite Profilinhaberkennung enthalten, durch den ersten Profilserver.</claim-text></claim-text></claim>
<claim id="c-de-01-0005" num="0005">
<claim-text>Verfahren nach Anspruch 1, wobei das Erhalten einer Kennungsübereinstimmungsliste durch den ersten Profilserver Folgendes umfasst:
<claim-text>Erhalten der Kennungsübereinstimmungsliste von dem Remote-Profilverwaltungsserver durch den ersten Profilserver;</claim-text>
<claim-text>Erhalten der Kennungsübereinstimmungsliste von dem zweiten Profilserver durch den ersten Profilserver; oder</claim-text>
<claim-text>Erhalten der Kennungsübereinstimmungsliste von dem lokalen Speicher durch den ersten Profilserver.</claim-text></claim-text></claim>
<claim id="c-de-01-0006" num="0006">
<claim-text>Verfahren nach einem der Ansprüche 1 bis 5, wobei der erste Profilserver ein Server ist, der zum Verwalten eines Profils konfiguriert ist, und der zweite Profilserver ein Server ist, der zum Herunterladen des Profils konfiguriert ist.</claim-text></claim>
<claim id="c-de-01-0007" num="0007">
<claim-text>Verfahren zur Informationsüberprüfung, wobei das Verfahren Folgendes umfasst:
<claim-text>Empfangen (S304, S405, S505 oder S508, S606) eines von einem ersten Profilserver gesendeten Remote-Profilverwaltungsbefehls durch eine Benutzerausrüstung, wobei der Remote-Profilverwaltungsbefehl eine erste Profilinhaberkennung umfasst;</claim-text>
<claim-text>Erhalten einer zweiten Profilinhaberkennung in Profilinformationen durch die Benutzerausrüstung;</claim-text>
<claim-text>Bestimmen (S306, S407, S510, S608) durch die Benutzerausrüstung, ob die erste Profilinhaberkennung mit der zweiten Profilinhaberkennung identisch ist; und</claim-text>
<claim-text>Ausführen (S307, S408, S511, S609) des Remote-Profilverwaltungsbefehls<!-- EPO <DP n="55"> --> durch die Benutzerausrüstung, wenn die erste Profilinhaberkennung mit der zweiten Profilinhaberkennung identisch ist;</claim-text>
<claim-text><b>dadurch gekennzeichnet, dass:</b>
<claim-text>die erste Profilinhaberkennung mindestens eines der Folgenden umfasst: eine Profilinhaberkennung, die für den ersten Profilserver identifizierbar ist, oder eine Profilinhaberkennung, die für einen zweiten Profilserver identifizierbar ist;</claim-text>
<claim-text><b>und dadurch, dass</b> das Verfahren ferner Folgendes umfasst:
<claim-text>Erhalten einer Kennungsübereinstimmungsliste durch die Benutzerausrüstung, wenn sich die erste Profilinhaberkennung von der zweiten Profilinhaberkennung unterscheidet, wobei die Kennungsübereinstimmungsliste eine Übereinstimmung zwischen einer Profilserverkennung und einer Profilinhaberkennung umfasst;</claim-text>
<claim-text>Bestimmen durch die Benutzerausrüstung, ob eine Profilinhaberkennung, die mit der ersten Profilinhaberkennung übereinstimmt, in der Kennungsübereinstimmungsliste vorhanden ist; und</claim-text>
<claim-text>Ausführen des Remote-Profilverwaltungsbefehls durch die Benutzerausrüstung, wenn die Profilinhaberkennung, die mit der ersten Profilinhaberkennung übereinstimmt, in der Kennungsübereinstimmungsliste vorhanden ist.</claim-text></claim-text></claim-text></claim-text></claim>
<claim id="c-de-01-0008" num="0008">
<claim-text>Verfahren nach Anspruch 7, das vor dem Empfangen eines von einem ersten Profilserver gesendeten Remote-Profilverwaltungsbefehls durch die Benutzerausrüstung, ferner Folgendes umfasst:
<claim-text>Empfangen (S401, S501, S601) einer von einem Remote-Profilverwaltungsserver oder einem zweiten Profilserver gesendeten Aktualisierungsnachricht durch die Benutzerausrüstung,</claim-text>
<claim-text>wobei die Aktualisierungsnachricht eine<!-- EPO <DP n="56"> --> Kennung des ersten Profilservers und eine entsprechende Profilinhaberkennung umfasst.</claim-text></claim-text></claim>
<claim id="c-de-01-0009" num="0009">
<claim-text>Verfahren nach den Ansprüchen 7 oder 8, das vor dem Empfangen eines von einem ersten Profilserver gesendeten Remote-Profilverwaltungsbefehls durch eine Benutzerausrüstung, ferner Folgendes umfasst:
<claim-text>Empfangen einer ersten von dem ersten Profilserver gesendeten Anforderung durch die Benutzerausrüstung, wobei die erste Anforderung verwendet wird, um die zweite Profilinhaberkennung zu erhalten; und</claim-text>
<claim-text>Senden der Profilinformationen, die die zweite Profilinhaberkennung enthalten, an den ersten Profilserver durch die Benutzerausrüstung.</claim-text></claim-text></claim>
<claim id="c-de-01-0010" num="0010">
<claim-text>Erster Profilserver, der einen Speicher, einen Kommunikationsbus und einen Prozessor umfasst, wobei der Speicher dazu konfiguriert ist, Programmcode zu speichern, der, wenn er von dem Prozessor ausgeführt wird, den ersten Profilserver veranlasst, das Verfahren gemäß einem der Ansprüche 1-6 umzusetzen.</claim-text></claim>
<claim id="c-de-01-0011" num="0011">
<claim-text>Benutzerausrüstung, die einen Speicher, einen Kommunikationsbus und einen Prozessor umfasst, wobei der Speicher dazu konfiguriert ist, Programmcode zu speichern, der, wenn er von dem Prozessor ausgeführt wird, die Benutzerausrüstung veranlasst, das Verfahren gemäß einem der Ansprüche 7-9 umzusetzen.</claim-text></claim>
</claims>
<claims id="claims03" lang="fr"><!-- EPO <DP n="57"> -->
<claim id="c-fr-01-0001" num="0001">
<claim-text>Procédé de vérification d'informations, dans lequel le procédé comprend :
<claim-text>la réception (S301, S402, S502, S603), par un premier serveur de profil, d'une requête de gestion de profil à distance envoyée par un serveur de gestion de profil à distance, dans lequel la requête de gestion de profil à distance comprend un premier identifiant de propriétaire de profil ;</claim-text>
<claim-text>l'obtention (S302, S403, S503, S604), par le premier serveur de profil, d'un second identifiant de propriétaire de profil dans les informations de profil ;</claim-text>
<claim-text>le fait de déterminer (S303, S404, S504, S605), par le premier serveur de profil, si le premier identifiant de propriétaire de profil est le même que le second identifiant de propriétaire de profil ; et</claim-text>
<claim-text>l'envoi (S304, S405, S505, S606), par le premier serveur de profil, d'une commande de gestion de profil à distance à un équipement utilisateur lorsque le premier identifiant de propriétaire de profil est le même que le second identifiant de propriétaire de profil ;</claim-text>
<claim-text><b>caractérisé en ce que</b></claim-text>
<claim-text>le premier identifiant de propriétaire de profil et le second identifiant de propriétaire de profil comprennent chacun au moins l'un : d'un identifiant de propriétaire de profil qui peut être identifié par le premier serveur de profil ou d'un identifiant de propriétaire de profil qui peut être identifié par le second serveur de profil ;</claim-text>
<claim-text><b>et en ce que</b> le procédé comprend en outre :
<claim-text>l'obtention (S506), par le premier serveur de profil, d'une liste de correspondance d'identifiant lorsque le premier identifiant de propriétaire de profil est différent du second identifiant de propriétaire de profil, dans lequel la liste de<!-- EPO <DP n="58"> --> correspondance d'identifiant comprend une correspondance entre un identifiant de serveur de profil et un identifiant de propriétaire de profil ;</claim-text>
<claim-text>le fait de déterminer (S507), par le biais du premier serveur de profil, si un identifiant de propriétaire de profil correspondant au premier identifiant de propriétaire de profil est présent dans la liste de correspondance d'identifiants ; et</claim-text>
<claim-text>l'envoi (S508), par le premier serveur de profil, de la commande de gestion de profil à distance à l'équipement utilisateur lorsque l'identifiant de propriétaire de profil correspondant au premier identifiant de propriétaire de profil est présent dans la liste de correspondance d'identifiants.</claim-text></claim-text></claim-text></claim>
<claim id="c-fr-01-0002" num="0002">
<claim-text>Procédé selon la revendication 1, dans lequel l'obtention, par le premier serveur de profil, d'un second identifiant de propriétaire de profil dans les informations de profil comprend :<br/>
l'obtention (S302), par le premier serveur de profil, du second identifiant de propriétaire de profil dans les informations de profil à partir d'une mémoire locale.</claim-text></claim>
<claim id="c-fr-01-0003" num="0003">
<claim-text>Procédé selon la revendication 1, dans lequel l'obtention, par le premier serveur de profil, d'un second identifiant de propriétaire de profil dans les informations de profil comprend :
<claim-text>l'envoi (S302b, S403a, S503a, S604a), par le premier serveur de profil, d'une première requête à l'équipement utilisateur, dans lequel la première requête est utilisée pour obtenir le second identifiant de propriétaire de profil ; et</claim-text>
<claim-text>la réception (S302c, S403b, S503b, S604b), par le premier serveur de profil, des informations de profil qui sont envoyées par l'équipement utilisateur et qui contiennent le second<!-- EPO <DP n="59"> --> identifiant de propriétaire de profil.</claim-text></claim-text></claim>
<claim id="c-fr-01-0004" num="0004">
<claim-text>Procédé selon la revendication 1, dans lequel l'obtention, par le premier serveur de profil, d'un second identifiant de propriétaire de profil dans les informations de profil comprend :
<claim-text>l'envoi (S403c, S503c, S604c), par le premier serveur de profil, d'une seconde requête à un second serveur de profil, dans lequel la seconde requête est utilisée pour obtenir le second identifiant de propriétaire de profil ; et</claim-text>
<claim-text>la réception (S403d, S503d, S604d), par le premier serveur de profil, des informations de profil qui sont envoyées par le second serveur de profil et qui contiennent le second identifiant de propriétaire de profil.</claim-text></claim-text></claim>
<claim id="c-fr-01-0005" num="0005">
<claim-text>Procédé selon la revendication 1, dans lequel l'obtention, par le premier serveur de profil, d'une liste de correspondance d'identifiants comprend :
<claim-text>l'obtention, par le premier serveur de profil, de la liste de correspondance d'identifiants à partir du serveur de gestion de profil à distance ;</claim-text>
<claim-text>l'obtention, par le premier serveur de profil, de la liste de correspondance d'identifiants à partir du second serveur de profil ; ou</claim-text>
<claim-text>l'obtention, par le premier serveur de profils, de la liste de correspondance d'identifiants à partir de la mémoire locale.</claim-text></claim-text></claim>
<claim id="c-fr-01-0006" num="0006">
<claim-text>Procédé selon l'une quelconque des revendications 1 à 5, dans lequel le premier serveur de profil est un serveur configuré pour gérer un profil, et le second serveur de profil est un serveur configuré pour télécharger le profil.</claim-text></claim>
<claim id="c-fr-01-0007" num="0007">
<claim-text>Procédé de vérification d'informations, dans lequel le<!-- EPO <DP n="60"> --> procédé comprend :
<claim-text>la réception (S304, S405, S505 ou S508, S606), par un équipement utilisateur, d'une commande de gestion de profil à distance envoyée par un premier serveur de profil, dans lequel la commande de gestion de profil à distance comprend un premier identifiant de propriétaire de profil ;</claim-text>
<claim-text>l'obtention, par l'équipement utilisateur, d'un second identifiant de propriétaire de profil dans les informations de profil ;</claim-text>
<claim-text>le fait de déterminer (S306, S407, S510, S608), par le biais de l'équipement utilisateur, si le premier identifiant de propriétaire de profil est le même que le second identifiant de propriétaire de profil ; et</claim-text>
<claim-text>l'exécution (S307, S408, S511, S609) par l'équipement utilisateur, de la commande de gestion de profil à distance lorsque le premier identifiant de propriétaire de profil est le même que le second identifiant de propriétaire de profil ;</claim-text>
<claim-text><b>caractérisé en ce que</b></claim-text>
<claim-text>le premier identifiant de propriétaire de profil comprend au moins l'un : d'un identifiant de propriétaire de profil qui peut être identifié par le premier serveur de profil ou d'un identifiant de propriétaire de profil qui peut être identifié par un second serveur de profil ;</claim-text>
<claim-text><b>et en ce que</b> le procédé comprend en outre :
<claim-text>l'obtention, par l'équipement utilisateur, d'une liste de correspondance d'identifiants lorsque le premier identifiant de propriétaire de profil est différent du second identifiant de propriétaire de profil, dans lequel la liste de correspondance d'identifiants comprend une correspondance entre un identifiant de serveur de profil et un identifiant de propriétaire de profil,</claim-text>
<claim-text>le fait de déterminer, par le biais de l'équipement utilisateur, si un identifiant de propriétaire de profil correspondant au premier identifiant de propriétaire de profil<!-- EPO <DP n="61"> --> est présent dans la liste de correspondance d'identifiants ; et</claim-text>
<claim-text>l'exécution, par l'équipement utilisateur, de la commande de gestion de profil à distance lorsque l'identifiant de propriétaire de profil correspondant au premier identifiant de propriétaire de profil est présent dans la liste de correspondance d'identifiants.</claim-text></claim-text></claim-text></claim>
<claim id="c-fr-01-0008" num="0008">
<claim-text>Procédé selon la revendication 7, avant la réception, par l'équipement utilisateur, d'une commande de gestion de profil à distance envoyée par un premier serveur de profil, comprenant en outre :<br/>
la réception (S401, S501, S601), par l'équipement utilisateur, d'un message de mise à jour envoyé par un serveur de gestion de profil à distance ou le second serveur de profil, dans lequel le message de mise à jour comprend un identifiant du premier serveur de profil et un identifiant de propriétaire de profil correspondant.</claim-text></claim>
<claim id="c-fr-01-0009" num="0009">
<claim-text>Procédé selon les revendications 7 ou 8, avant la réception, par un équipement utilisateur, d'une commande de gestion de profil à distance envoyée par un premier serveur de profil, comprenant en outre :
<claim-text>la réception, par l'équipement utilisateur, d'une première requête envoyée par le premier serveur de profil, dans lequel la première requête est utilisée pour obtenir le second identifiant de propriétaire de profil ; et</claim-text>
<claim-text>l'envoi, par l'équipement utilisateur au premier serveur de profil, des informations de profil qui contiennent le second identifiant de propriétaire de profil.</claim-text></claim-text></claim>
<claim id="c-fr-01-0010" num="0010">
<claim-text>Premier serveur de profil, comprenant une mémoire, un bus de communications et un processeur, dans lequel la mémoire est<!-- EPO <DP n="62"> --> configurée pour stocker un code de programme qui, lorsqu'il est exécuté par le processeur, amène le premier serveur de profil à mettre en œuvre le procédé selon l'une quelconque des revendications 1 à 6.</claim-text></claim>
<claim id="c-fr-01-0011" num="0011">
<claim-text>Équipement utilisateur, comprenant une mémoire, un bus de communications et un processeur, dans lequel la mémoire est configurée pour stocker un code de programme qui, lorsqu'il est exécuté par le processeur, amène l'équipement utilisateur à mettre en œuvre le procédé selon l'une quelconque des revendications 7 à 9.</claim-text></claim>
</claims>
<drawings id="draw" lang="en"><!-- EPO <DP n="63"> -->
<figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="159" he="138" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> -->
<figure id="f0002" num="2(A),2(B)"><img id="if0002" file="imgf0002.tif" wi="137" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> -->
<figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="185" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> -->
<figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> -->
<figure id="f0005" num="5A"><img id="if0005" file="imgf0005.tif" wi="163" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> -->
<figure id="f0006" num="5B"><img id="if0006" file="imgf0006.tif" wi="159" he="176" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> -->
<figure id="f0007" num="6"><img id="if0007" file="imgf0007.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> -->
<figure id="f0008" num="7,8,9"><img id="if0008" file="imgf0008.tif" wi="161" he="161" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> -->
<figure id="f0009" num="10,11"><img id="if0009" file="imgf0009.tif" wi="156" he="197" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> -->
<figure id="f0010" num="12"><img id="if0010" file="imgf0010.tif" wi="154" he="95" img-content="drawing" img-format="tif"/></figure>
</drawings>
<ep-reference-list id="ref-list">
<heading id="ref-h0001"><b>REFERENCES CITED IN THE DESCRIPTION</b></heading>
<p id="ref-p0001" num=""><i>This list of references cited by the applicant is for the reader's convenience only. It does not form part of the European patent document. Even though great care has been taken in compiling the references, errors or omissions cannot be excluded and the EPO disclaims all liability in this regard.</i></p>
<heading id="ref-h0002"><b>Patent documents cited in the description</b></heading>
<p id="ref-p0002" num="">
<ul id="ref-ul0001" list-style="bullet">
<li><patcit id="ref-pcit0001" dnum="EP3073770A1"><document-id><country>EP</country><doc-number>3073770</doc-number><kind>A1</kind></document-id></patcit><crossref idref="pcit0001">[0002]</crossref></li>
</ul></p>
</ep-reference-list>
</ep-patent-document>
